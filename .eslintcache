[{"D:\\react тесты\\diploma\\dev\\src\\components\\Search\\SearchMain\\SearchMain.js":"1","D:\\react тесты\\diploma\\dev\\src\\components\\Loader\\Loader.js":"2","D:\\react тесты\\diploma\\dev\\src\\components\\Nav\\Popup\\Popup.js":"3","D:\\react тесты\\diploma\\dev\\src\\components\\Nav\\SearchPanel\\SearchPanel.js":"4","D:\\react тесты\\diploma\\dev\\src\\components\\Search\\SearchSide\\SearchSide.js":"5","D:\\react тесты\\diploma\\dev\\src\\components\\Search\\Search.js":"6","D:\\react тесты\\diploma\\dev\\src\\App.js":"7","D:\\react тесты\\diploma\\dev\\src\\components\\Profile\\Profile.js":"8","D:\\react тесты\\diploma\\dev\\src\\reducers\\userData.js":"9","D:\\react тесты\\diploma\\dev\\src\\scripts\\commonScripts.js":"10","D:\\react тесты\\diploma\\dev\\src\\components\\CompanyProfile\\ProfileRedactPopup\\MainPlaceholder.js":"11","D:\\react тесты\\diploma\\dev\\src\\components\\leafletMap\\testCities.js":"12","D:\\react тесты\\diploma\\dev\\src\\reducers\\reducer.js":"13","D:\\react тесты\\diploma\\dev\\src\\reducers\\search.js":"14","D:\\react тесты\\diploma\\dev\\src\\components\\Profile\\Resumes\\Resumes.js":"15","D:\\react тесты\\diploma\\dev\\src\\components\\CompanyProfile\\Vacancies\\VacancyRedactPopup\\VacancyRedactPopup.js":"16","D:\\react тесты\\diploma\\dev\\src\\components\\Nav\\Nav.js":"17","D:\\react тесты\\diploma\\dev\\src\\actions\\serverConnections.js":"18","D:\\react тесты\\diploma\\dev\\src\\index.js":"19","D:\\react тесты\\diploma\\dev\\src\\components\\CompanyProfile\\Side\\Side.js":"20","D:\\react тесты\\diploma\\dev\\src\\components\\Profile\\ProfileRedactPopup\\redactPopupSections\\RedactPopupSectionExperience.js":"21","D:\\react тесты\\diploma\\dev\\src\\components\\Responses\\Responses.js":"22","D:\\react тесты\\diploma\\dev\\src\\components\\leafletMap\\LeafletMap.js":"23","D:\\react тесты\\diploma\\dev\\src\\components\\Profile\\ProfileRedactPopup\\ImageCropper.js":"24","D:\\react тесты\\diploma\\dev\\src\\components\\CompanyProfile\\ProfileRedactPopup\\ProfileRedactPopup.js":"25","D:\\react тесты\\diploma\\dev\\src\\components\\Profile\\Resumes\\ResumeRedactPopup\\ResumeRedactPopup.js":"26"},{"size":12320,"mtime":1618397487982,"results":"27","hashOfConfig":"28"},{"size":872,"mtime":1618396102638,"results":"29","hashOfConfig":"28"},{"size":13338,"mtime":1618395619763,"results":"30","hashOfConfig":"28"},{"size":2139,"mtime":1618397494970,"results":"31","hashOfConfig":"28"},{"size":13558,"mtime":1618397603471,"results":"32","hashOfConfig":"28"},{"size":2448,"mtime":1618397702366,"results":"33","hashOfConfig":"28"},{"size":1913,"mtime":1617957893388,"results":"34","hashOfConfig":"28"},{"size":7527,"mtime":1618388629566,"results":"35","hashOfConfig":"28"},{"size":475,"mtime":1618388304880,"results":"36","hashOfConfig":"28"},{"size":6192,"mtime":1618319043077,"results":"37","hashOfConfig":"28"},{"size":3091,"mtime":1616668818571,"results":"38","hashOfConfig":"28"},{"size":69503,"mtime":1618218954892,"results":"39","hashOfConfig":"28"},{"size":619,"mtime":1617957894927,"results":"40","hashOfConfig":"28"},{"size":5722,"mtime":1617957894985,"results":"41","hashOfConfig":"28"},{"size":7182,"mtime":1618391947616,"results":"42","hashOfConfig":"28"},{"size":26967,"mtime":1618321456904,"results":"43","hashOfConfig":"28"},{"size":9494,"mtime":1618495896250,"results":"44","hashOfConfig":"28"},{"size":18393,"mtime":1618495506242,"results":"45","hashOfConfig":"28"},{"size":1711,"mtime":1617957894762,"results":"46","hashOfConfig":"28"},{"size":249,"mtime":1614354532959,"results":"47","hashOfConfig":"28"},{"size":8610,"mtime":1616093116195,"results":"48","hashOfConfig":"28"},{"size":15601,"mtime":1618496449921,"results":"49","hashOfConfig":"28"},{"size":4109,"mtime":1618221399060,"results":"50","hashOfConfig":"28"},{"size":5843,"mtime":1616518399271,"results":"51","hashOfConfig":"28"},{"size":5662,"mtime":1616668786388,"results":"52","hashOfConfig":"28"},{"size":17660,"mtime":1618321481302,"results":"53","hashOfConfig":"28"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"57"},"rkbsr4",{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"62","messages":"63","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"64","messages":"65","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"67"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"87","messages":"88","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"93"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"96","messages":"97","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"105","messages":"106","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"107","messages":"108","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"109"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\react тесты\\diploma\\dev\\src\\components\\Search\\SearchMain\\SearchMain.js",["114","115","116","117"],"import e from 'cors'\r\nimport React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {getSearchQueries} from '../../../actions/serverConnections'\r\nimport {searchLoaderDeactivate, searchLoaderActivate} from '../../../actions/asyncDispatch'\r\n\r\nimport ResponsePopup from '../../ResponsePopup/ResponsePopup'\r\nimport placeholderAvatar from '../../../img/placeholder-avatar.jpg'\r\nimport fileUploader from '../../../actions/fileUploader';\r\nimport {getGradeValues, getWorkTypeValues, parseOptions, searchTypeToUserType} from '../../../scripts/commonScripts'\r\nimport { InView } from \"react-intersection-observer\";\r\nimport { Link } from 'react-router-dom'\r\nimport Loader from '../../Loader/Loader'\r\n\r\n\r\nclass SearchMain extends Component {\r\n    sortByValue(arr, value, sortMethod){\r\n        sortMethod === 'asc' ? (\r\n            arr.sort((a, b) => a[value] - b[value])\r\n        ) : (\r\n            arr.sort((a, b) => b[value] - a[value])\r\n        )\r\n    }\r\n\r\n    sortSearch = (e) => {\r\n        const sortProp = e.target.value\r\n        let values = this.props.searchValues\r\n\r\n        switch (sortProp) {\r\n            case 'salaryAsc':\r\n                this.sortByValue(values, 'salary', 'asc')\r\n                break;\r\n\r\n            case 'salaryDesc':\r\n                this.sortByValue(values, 'salary', 'desc')\r\n                break;\r\n\r\n            case 'dateAsc':\r\n                this.sortByValue(values, 'pub-date', 'asc')\r\n                break;\r\n\r\n            case 'dateDesc':\r\n                this.sortByValue(values, 'pub-date', 'desc')\r\n                break;\r\n        }\r\n        this.props.onSortValues(values)\r\n    }\r\n\r\n    searchBtnClick = (e) =>{\r\n        e.preventDefault()\r\n        this.props.onChangeSearchQuery(e.target.queryInput.value)\r\n        this.getSearchValues(true)\r\n    }\r\n\r\n    getSearchValues = (nullify) => {\r\n        if (nullify) this.props.onNullifyValues()\r\n        if (this.props.searchState.searchLoading === false){\r\n            this.props.onSearchLoaderActivate()\r\n            \r\n            this.props.onGetSearchResponse(parseOptions(this.props.searchOptions), this.props.searchOptions.searchType, this.props.searchState.next, this.getAvatarFromFirebase)\r\n            \r\n        }\r\n    }\r\n    \r\n    openResponsePopup = (index) => {\r\n        this.props.onOpenResponsePopup(index)\r\n    }\r\n\r\n    getAvatarFromFirebase = (id, pk) =>{   //пришлось делать кучу изменений состояний, потому что один flutter разработчик решил, что он не будет сохранять url. \r\n        const storageRef = fileUploader.storage().ref()\r\n        const fileRef = storageRef.child('user-avatar' + id)\r\n        fileRef.getDownloadURL()\r\n        .then((response) => this.props.onSetValuePhoto(response, pk))\r\n        .catch(err => this.props.onSetValuePhoto('https://firebasestorage.googleapis.com/v0/b/diploma-55e3f.appspot.com/o/placeholder-avatar.jpg?alt=media&token=5058f243-49e5-4df4-8686-899c6ce12c54', pk))\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <section className=\"search-main\">\r\n                <div className=\"search-main__controls\">\r\n                    <form className=\"search-main__controls-form rounded\" > \r\n                    {/* onSubmit={this.searchBtnClick.bind(this)} */}\r\n                        {/* <div className=\"search-input rounded\">\r\n                            <input type=\"text\" id=\"queryInput\" name=\"queryInput\" placeholder=\"Поиск...\" />\r\n                            <button type=\"submit\" className=\"sup-btn\">Найти</button>\r\n                        </div> */}\r\n\r\n                        <select className=\"search-main__controls__sort-type-select\" name=\"salarySortType\" id=\"\" onChange={this.sortSearch.bind(this)}>\r\n                            <option value=\"salaryAsc\">по возрастанию зарплаты</option>\r\n                            <option value=\"salaryDesc\">по убыванию зарплаты</option>\r\n                        </select>\r\n\r\n                        <select className=\"search-main__controls__sort-type-select\" name=\"dateSortType\" id=\"\" onChange={this.sortSearch.bind(this)}>\r\n                            <option value=\"dateAsc\">начиная с новых</option>\r\n                            <option value=\"dateDesc\">начиная со старых</option>\r\n                        </select>\r\n                        {/* <div className=\"search-main__controls__check-container check-container\">\r\n                            <input type=\"checkbox\" className=\"search-main__controls__sort-type-check\" name=\"strictCheckBox\" id=\"strictCheckBox\"/>\r\n                            <label htmlFor=\"strictCheckBox\">Строгий поиск</label>\r\n                        </div> */}\r\n                        \r\n                    </form>\r\n                </div>\r\n                <ul className=\"search-main__search-items-list\">\r\n                    {this.props.searchState.searchLoading === false ? this.props.searchValues.map((item, index) => {\r\n                        return(\r\n                            <li key={index} className=\"resume resumes-list-el rounded\">\r\n                                <section className=\"resume-main\">\r\n                                    <div className={\"resume__header white top-rounded \" + item.bg_header_color }>\r\n                                        <div className=\"resume__header-top\">\r\n                                            <h2 className=\"resume__header__name bold f-large\">{item.vacancy_name}</h2>\r\n                                            <p>\r\n                                                {item.salary === -1 ? <span className=\"resume__header__salary bold f-medium\">Зарплата не указана</span>:\r\n                                                <span className=\"resume__header__salary bold f-medium\">{item.salary} руб.</span>}\r\n                                            </p>\r\n                                        </div>\r\n                                        <div className=\"resume__header-bottom\">\r\n                                            <p className=\"resume__header__grade\">{getGradeValues(item.grade)}</p>\r\n                                            <p className=\"resume__publication-date sup\">{item.pub_date.slice(0, 10)}</p>\r\n                                        </div>\r\n                                        \r\n                                    </div>\r\n            \r\n                                    <div className=\"resume__main-info bottom-rounded flex\">\r\n                                        <div className=\"resume__main-info__text\">\r\n                                            <p className=\"resume__industry f-pre\">{item.industry}</p>\r\n            \r\n                                            <p className=\"resume__work-type\">{item.work_type.map((item)=>getWorkTypeValues(item)).join(', ')}</p>\r\n\r\n                                            <p className=\"resume__about\">{item.about || item.leading}</p>\r\n                                        </div>\r\n                                        \r\n            \r\n                                        {/* <ul className=\"resume__tags-list\">\r\n                                            {item.tags.map((tag, index)=><li key={index} className=\"resume__tags-list-el\">{tag}</li>)}\r\n                                        </ul> */}\r\n                                        <Link className=\"resume__main-info__avatar-name-block\" to={\"/\"+searchTypeToUserType(this.props.searchOptions.searchType)+\"/\" + item.owner_id}>\r\n                                            <img className=\"avatar-name-block__small-avatar\" src={item.photo_url} alt=\"аватар\"/>\r\n                                            <p>{item.owner}</p>\r\n                                        </Link>\r\n                                    </div>\r\n                                    {this.props.searchOptions.searchType === 'vacancy' && this.props.userState.user_type === 'employee' ?\r\n                                        <div className=\"vacancy-control-block\">\r\n                                            <div className=\"vacancy-control-block__response-block\">\r\n                                                <p className=\"underline-link\" onClick={this.openResponsePopup.bind(this, index)}>Откликнуться</p>\r\n                                                {this.props.searchState.openedResponseId === index ? <ResponsePopup item={item} onClick={this.openResponsePopup}></ResponsePopup> : ''}\r\n                                            </div>\r\n                                            <p className=\"underline-link\">Добавить в избранное</p>\r\n                                        </div>\r\n                                    : this.props.searchOptions.searchType === 'cv' && this.props.userState.user_type === 'employer' ?\r\n                                        <div className=\"vacancy-control-block\">\r\n                                            <div className=\"vacancy-control-block__response-block\">\r\n                                                <p className=\"underline-link\" onClick={this.openResponsePopup.bind(this, index)}>Пригласить</p>\r\n                                                {this.props.searchState.openedResponseId === index ? <ResponsePopup item={item} onClick={this.openResponsePopup}></ResponsePopup> : ''}\r\n                                            </div>\r\n                                             <p className=\"underline-link\">Добавить в избранное</p>\r\n                                        </div>\r\n                                    : ''\r\n                                    }\r\n                                </section>\r\n                            </li>\r\n                        )\r\n                    }):''}\r\n                    <Loader active={this.props.searchLoading}></Loader>\r\n                </ul>\r\n                <InView as=\"div\" onChange={(inView, entry) => {\r\n                    if (inView) this.getSearchValues(false, true)}}>\r\n                </InView>\r\n\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) =>{\r\n    return {\r\n        searchState:state.search,\r\n        searchOptions:state.search.searchOptions,\r\n        searchValues:state.search.searchValues,\r\n        userState:state.user.user,\r\n        searchLoading:state.search.searchLoading\r\n    }\r\n  }\r\n  \r\nconst mapDispatchToProps = (dispatch) =>{\r\n    return{\r\n        onNullifyValues: () => {\r\n            dispatch({type : 'SEARCH_NULLIFY_VALUES', payload:null})\r\n        },\r\n        onUpdateValues: (values) => {\r\n            dispatch({type : 'SEARCH_UPDATE_VALUES', payload:values})\r\n        },\r\n        onSortValues: (values) => {\r\n            dispatch({type : 'SEARCH_SORT_VALUES', payload:values})\r\n        },\r\n        onChangeSearchQuery: (query) => {\r\n            dispatch({type : 'CHANGE_SEARCH_QUERY', payload:query})\r\n        },\r\n        onOpenResponsePopup: (index) => {\r\n            dispatch({type : 'OPEN_RESPONSE_POPUP', payload:index})\r\n        },\r\n        onSearchLoaderActivate: () => {\r\n            dispatch(searchLoaderActivate())\r\n        },\r\n        onGetSearchResponse:(options, searchType, next, getAvatarFromFirebase)=>{\r\n            dispatch(searchLoaderActivate())\r\n            dispatch(getSearchQueries(options, searchType, next))\r\n            .then((data)=>{\r\n                if (data.data !== null && data.data !== 404){\r\n                    dispatch({type : 'SEARCH_UPDATE_OPTIONS', payload:data.data.next})\r\n                    dispatch({type : 'SEARCH_UPDATE_RESULTS_COUNT', payload:data.data.count})\r\n                    dispatch({type : 'SEARCH_UPDATE_VALUES', payload:data.data.results}) \r\n                    data.data.results.map((item) => {\r\n                        if (item.photo_url === \"\") getAvatarFromFirebase(item.owner_id, item.pk)\r\n                    })\r\n                }\r\n            })\r\n            .then(response => dispatch(searchLoaderDeactivate()))\r\n            \r\n        },\r\n        onSetValuePhoto: (photo, id) => {\r\n            console.log('photo')\r\n            dispatch({type : 'SEARCH_UPDATE_VALUES_PHOTO', payload:{photo:photo, id:id}})\r\n        },\r\n    }\r\n}\r\n  \r\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchMain);",["118","119"],"D:\\react тесты\\diploma\\dev\\src\\components\\Loader\\Loader.js",[],"D:\\react тесты\\diploma\\dev\\src\\components\\Nav\\Popup\\Popup.js",["120"],"D:\\react тесты\\diploma\\dev\\src\\components\\Nav\\SearchPanel\\SearchPanel.js",["121","122","123","124","125","126","127"],"D:\\react тесты\\diploma\\dev\\src\\components\\Search\\SearchSide\\SearchSide.js",["128","129","130","131"],"import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Slider from 'rc-slider';\r\nimport 'rc-slider/assets/index.css';\r\nimport {getSearchQueries} from '../../../actions/serverConnections'\r\nimport {searchLoaderDeactivate, searchLoaderActivate} from '../../../actions/asyncDispatch'\r\nimport fileUploader from '../../../actions/fileUploader';\r\nimport {getSearchNext, getSearchLoadingState} from '../../../actions/asyncDispatch';\r\nimport {parseOptions} from '../../../scripts/commonScripts'\r\nimport industriesData from '../../../jsonFiles/industries.json'\r\nimport { NavItem } from 'react-materialize';\r\n\r\nconst { createSliderWithTooltip } = Slider;\r\nconst Range = createSliderWithTooltip(Slider.Range);\r\nclass SearchSide extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {timeoutHandler: false};\r\n           \r\n    } \r\n    changeIndustry = (e) => {\r\n        if (e.target.value!==0){\r\n            this.props.onChangeIndustry(e.target.value)\r\n        }\r\n    }\r\n\r\n    ChangeSlider = (values) =>{\r\n        if (this.props.searchOptions['min-salary'] !== values[0]) this.props.onSetSearchOptions({'min-salary': values[0] === 0 ? -1 : values[0]})\r\n        else if (this.props.searchOptions['max-salary'] !== values[1]) this.props.onSetSearchOptions({'max-salary': values[1] === 0 ? -1 : values[1]})\r\n    }\r\n\r\n    gradeChange = (e) =>{\r\n        if (e.target.checked) this.props.onAddGrade(e.target.value)\r\n        else this.props.onDeleteGrade(e.target.value)\r\n    }\r\n\r\n    workTypeChange = (e) =>{\r\n        if (e.target.checked) this.props.onAddWorkType(e.target.value)\r\n        else this.props.onDeleteWorkType(e.target.value)\r\n    }\r\n\r\n    getAvatarFromFirebase = (id, pk) =>{   //пришлось делать кучу изменений состояний, потому что один flutter разработчик решил, что он не будет сохранять url. \r\n        const storageRef = fileUploader.storage().ref()\r\n        const fileRef = storageRef.child('user-avatar' + id)\r\n        fileRef.getDownloadURL()\r\n        .then((response) => this.props.onSetValuePhoto(response, pk))\r\n        .catch(err => this.props.onSetValuePhoto('https://firebasestorage.googleapis.com/v0/b/diploma-55e3f.appspot.com/o/placeholder-avatar.jpg?alt=media&token=5058f243-49e5-4df4-8686-899c6ce12c54', pk))\r\n    }\r\n\r\n    getSearchValues = (nullify) => {\r\n        if (nullify) this.props.onNullifyValues()\r\n            \r\n        this.props.onGetSearchResponse(parseOptions(this.props.searchOptions), this.props.searchOptions.searchType, this.getAvatarFromFirebase)\r\n    }\r\n    \r\n    componentDidUpdate(){\r\n        console.log('updated')\r\n        clearTimeout(this.state.timeoutHandler);\r\n        this.props.onSearchLoaderActivate()\r\n\r\n        this.state.timeoutHandler = setTimeout(()=>{\r\n            console.log('asasfasfas')\r\n            this.getSearchValues(true)\r\n        }, 1000)\r\n        \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"search-side rounded\">\r\n                <form>\r\n                    <div className=\"search-side__block search-side__salary\">\r\n                        <h3>Зарплата</h3>\r\n                        <p className=\"search-side__salary-placeholder\">\r\n                            <span>минимальная: {this.props.searchOptions['min-salary'] === -1 ? 0 : this.props.searchOptions['min-salary']} руб.</span><span>максимальная: {this.props.searchOptions['max-salary']} руб.</span>\r\n                        </p>\r\n                        <Range min={-1} max={500000} defaultValue={[-1, 400000]} onChange={this.ChangeSlider.bind(this)} />\r\n                    </div>\r\n\r\n                    <div className=\"search-side__block search-side__grade\">\r\n                        <h3>Уровень компетенции</h3>\r\n\r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__grade-internship\" value=\"internship\" id=\"search-options__grade-internship\" onChange={this.gradeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__grade-internship\">Стажер</label>\r\n                        </div>\r\n                        \r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__grade-junior\" value=\"junior\" id=\"search-options__grade-junior\" onChange={this.gradeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__grade-junior\">Начинающий специалист</label>\r\n                        </div>\r\n\r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__grade-middle\" value=\"middle\" id=\"search-options__grade-middle\" onChange={this.gradeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__grade-middle\">Специалист</label>\r\n                        </div>\r\n\r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__grade-senior\" value=\"senior\" id=\"search-options__grade-senior\" onChange={this.gradeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__grade-senior\">Главный специалист</label>\r\n                        </div>\r\n\r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__grade-director\" value=\"director\" id=\"search-options__grade-director\" onChange={this.gradeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__grade-director\">Управляющий отдела</label>\r\n                        </div>\r\n\r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__grade-senior-director\" value=\"senior-director\" id=\"search-options__grade-senior-director\" onChange={this.gradeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__grade-senior-director\">Генеральный директор</label>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"search-side__block search-side__grade\">\r\n                        <h3>Типы работ</h3>\r\n\r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__work-type-part-day\" value=\"part-day\" id=\"search-options__work-type-part-day\" onChange={this.workTypeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__work-type-part-day\">неполный день</label>\r\n                        </div>\r\n\r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__work-type-full-day\" value=\"full-day\" id=\"search-options__work-type-full-day\" onChange={this.workTypeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__work-type-full-day\">полный день</label>\r\n                        </div>\r\n\r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__work-type-part-time\" value=\"part-time\" id=\"search-options__work-type-part-time\" onChange={this.workTypeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__work-type-part-time\">неполная занятость</label>\r\n                        </div>\r\n\r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__work-type-full-time\" value=\"full-time\" id=\"search-options__work-type-full-time\" onChange={this.workTypeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__work-type-full-time\">полная занятность</label>\r\n                        </div>\r\n                        \r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__work-type-volunteer\" value=\"volunteer\" id=\"search-options__work-type-volunteer\" onChange={this.workTypeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__work-type-volunteer\">волонтерство</label>\r\n                        </div>\r\n\r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__work-type-one-time-job\" value=\"one-time-job\" id=\"search-options__work-type-one-time-job\" onChange={this.workTypeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__work-type-one-time-job\">разовое задание</label>\r\n                        </div>\r\n\r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__work-type-flexible-schedule\" value=\"flexible-schedule\" id=\"search-options__work-type-flexible-schedule\" onChange={this.workTypeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__work-type-flexible-schedule\">гибкий график</label>\r\n                        </div>\r\n\r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__work-type-shift-schedule\" value=\"shift-schedule\" id=\"search-options__work-type-shift-schedule\" onChange={this.workTypeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__work-type-shift-schedule\">сменный график</label>\r\n                        </div>\r\n\r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__work-type-shift-method\" value=\"shift-method\" id=\"search-options__work-type-shift-method\" onChange={this.workTypeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__work-type-shift-method\">вахтовый метод</label>\r\n                        </div>\r\n\r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__work-type-remote\" id=\"search-options__work-type-remote\" value=\"remote\" onClick={this.workTypeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__work-type-remote\" >удаленная работа</label>\r\n                        </div>\r\n                    </div>\r\n                    <h3>Отрасли</h3>\r\n                        <div className=\"selectbox-block\">\r\n                            <select id=\"searchSideIndustry\" name=\"searchSideIndustry\" onChange={this.changeIndustry.bind(this)}>\r\n                                {industriesData.map((item)=>{\r\n                                    return <option key={item.id} value={item.name}>{item.name}</option>\r\n                                })}\r\n                            </select>\r\n                            \r\n                        </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = (state, ownProps) =>{\r\n    return {\r\n        history:ownProps.history,\r\n        searchOptions:state.search.searchOptions,\r\n\r\n        // searchLoading:state.search.searchLoading,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) =>{\r\n    return{\r\n        onNullifyValues: () => {\r\n            dispatch({type : 'SEARCH_NULLIFY_VALUES', payload:null})\r\n        },\r\n        onSetSearchOptions: (options) => {\r\n            dispatch({type : 'SEARCH_SET_OPTIONS', payload:options})\r\n        },\r\n        onGetSearchResponse:(options, searchType, getAvatarFromFirebase)=>{\r\n            dispatch(searchLoaderActivate())\r\n            const next = dispatch(getSearchNext())\r\n            dispatch(getSearchQueries(options, searchType, next))\r\n            .then((data)=>{\r\n                if (data.data !== null && data.data !== 404){\r\n                    dispatch({type : 'SEARCH_UPDATE_RESULTS_COUNT', payload:data.data.count})\r\n                    dispatch({type : 'SEARCH_UPDATE_VALUES', payload:data.data.results}) \r\n                    data.data.results.map((item) => {\r\n                        if (item.photo_url === \"\") getAvatarFromFirebase(item.owner_id, item.pk)\r\n                    })\r\n                }\r\n            })\r\n            .then(response => dispatch(searchLoaderDeactivate()))\r\n        },\r\n        onSetValuePhoto: (photo, id) => {\r\n            console.log('photo')\r\n            dispatch({type : 'SEARCH_UPDATE_VALUES_PHOTO', payload:{photo:photo, id:id}})\r\n        },\r\n        onAddGrade: (value) => {\r\n            dispatch({type : 'SEARCH_OPTIONS_ADD_GRADE', payload:value})\r\n        },\r\n        onDeleteGrade: (value) => {\r\n            dispatch({type : 'SEARCH_OPTIONS_DELETE_GRADE', payload:value})\r\n        },\r\n        onAddWorkType: (value) => {\r\n            dispatch({type : 'SEARCH_OPTIONS_ADD_WORK_TYPE', payload:value})\r\n        },\r\n        onDeleteWorkType: (value) => {\r\n            dispatch({type : 'SEARCH_OPTIONS_DELETE_WORK_TYPE', payload:value})\r\n        },\r\n        onChangeIndustry: (value) => {\r\n            dispatch({type : 'SEARCH_OPTIONS_CHANGE_INDUSTRY', payload:value})\r\n        },\r\n        onSearchLoaderActivate: () => {\r\n            dispatch(searchLoaderActivate())\r\n        },\r\n    }\r\n  }\r\n  \r\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchSide);",["132","133"],"D:\\react тесты\\diploma\\dev\\src\\components\\Search\\Search.js",[],"D:\\react тесты\\diploma\\dev\\src\\App.js",[],"D:\\react тесты\\diploma\\dev\\src\\components\\Profile\\Profile.js",[],"D:\\react тесты\\diploma\\dev\\src\\reducers\\userData.js",[],["134","135"],"D:\\react тесты\\diploma\\dev\\src\\scripts\\commonScripts.js",[],"D:\\react тесты\\diploma\\dev\\src\\components\\CompanyProfile\\ProfileRedactPopup\\MainPlaceholder.js",[],"D:\\react тесты\\diploma\\dev\\src\\components\\leafletMap\\testCities.js",[],"D:\\react тесты\\diploma\\dev\\src\\reducers\\reducer.js",[],"D:\\react тесты\\diploma\\dev\\src\\reducers\\search.js",["136"],"D:\\react тесты\\diploma\\dev\\src\\components\\Profile\\Resumes\\Resumes.js",["137"],"D:\\react тесты\\diploma\\dev\\src\\components\\CompanyProfile\\Vacancies\\VacancyRedactPopup\\VacancyRedactPopup.js",[],"D:\\react тесты\\diploma\\dev\\src\\components\\Nav\\Nav.js",["138","139","140"],"import React, { Component, useEffect } from 'react';\r\nimport { connect } from 'react-redux'\r\n\r\nimport Popup from './Popup/Popup'\r\nimport OptionsPopup from './OptionsPopup/OptionsPopup'\r\n\r\nimport logo from '../../img/logo.svg'\r\nimport arrow from '../../img/arrow.svg'\r\nimport star from '../../img/star.svg'\r\nimport bell from '../../img/bell.svg'\r\nimport fileUploader from '../../actions/fileUploader'\r\nimport SearchPanel from './SearchPanel/SearchPanel'\r\nimport './nav.css'\r\nimport {Link} from 'react-router-dom'\r\nimport {logout, verify} from '../../actions/serverConnections'\r\nimport placeholderAvatar from '../../img/placeholder-avatar.jpg'\r\n\r\nclass Nav extends Component {\r\n  searchToggle = () => {\r\n    if (this.props.navState.searchActive){\r\n      this.props.onSearchDeactivate();\r\n    }\r\n    else{\r\n      this.props.onSearchActivate();\r\n    }\r\n  }\r\n\r\n  registartionPopupOpen = () => {\r\n    this.props.onRegistrationPopupActivate(this.props.history);\r\n  }\r\n\r\n  loginPopupOpen = () => {\r\n    this.props.onLoginPopupActivate(this.props.history);\r\n  }\r\n\r\n  logoutHandleFormSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onLogout()\r\n    this.props.history.push('/landing')\r\n\r\n    this.dropdownToggle()\r\n  }\r\n\r\n  dropdownToggle = () => {\r\n    if (this.props.navState.dropDownState === ''){\r\n      this.props.onDropDownActivate();\r\n    }\r\n    else{\r\n      this.props.onDropDownDeactivate();\r\n    }\r\n  }\r\n\r\n  getAvatarFromFirebase = () =>{   //пришлось делать кучу изменений состояний, потому что один flutter разработчик решил, что он не будет сохранять url. \r\n    const storageRef = fileUploader.storage().ref()\r\n    const fileRef = storageRef.child('user-avatar' + this.props.userState.id)\r\n    fileRef.getDownloadURL()\r\n    .then((response) => this.props.onSetUserMiniAvatar(response))\r\n    .catch(err => this.props.onSetUserMiniAvatar('https://firebasestorage.googleapis.com/v0/b/diploma-55e3f.appspot.com/o/placeholder-avatar.jpg?alt=media&token=5058f243-49e5-4df4-8686-899c6ce12c54'))\r\n  }\r\n\r\n  optionsPopupToggle = () => {\r\n    this.dropdownToggle()\r\n\r\n    if (this.props.navState.optionsPopup.optionsPopupState === ''){\r\n      this.props.onOptionsPopupActivate();\r\n    }\r\n    else{\r\n      this.props.onOptionsPopupDeactivate();\r\n    }\r\n  }\r\n\r\n  checkOnEmpty(el, returnValue){\r\n    if (el !== \"\"){\r\n        return el\r\n    }\r\n\r\n    return returnValue\r\n  }\r\n\r\n  getUserProfileLink = () =>  {\r\n    return \"/\"+(this.props.userState.user.user_type === 'employee' ? 'profile' : 'company')+\"/\"+this.props.userState.user.id\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.props.history.push('/landing')\r\n    this.props.onVerifyToken(this.getAvatarFromFirebase)\r\n  }\r\n  \r\n  render(){\r\n\r\n    if (this.props.logged){\r\n\r\n        return (\r\n    <div className={\"nav-block \" + this.props.navState.position + \" \" + this.props.navState.transparency}>\r\n      <div className=\"nav-bar\">\r\n        <div className=\"container\">\r\n          <nav className=\"nav\">\r\n            <div className=\"nav__left-side\">\r\n              <Link to=\"/landing\" className=\"nav-el\" >\r\n                <img src={logo} alt=\"logo\"/>\r\n              </Link>\r\n\r\n              {/* <Link to=\"/content\" className=\"f-medium semi link-anim nav-el\">Полезное</Link> */}\r\n\r\n              <Link to=\"/responses\" className=\"f-medium semi link-anim nav-el\">Отклики</Link>\r\n\r\n              <button  className={\"nav-el nav__search \" + this.props.navState.searchActive} onClick={this.searchToggle}>\r\n                <span className=\"f-medium semi\">Поиск</span> \r\n                <img src={arrow} alt=\"arrow\"/>\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"nav__right-side\">\r\n              {/* <button  className=\"icon-anim nav-el\">\r\n                <img src={bell} alt=\"notifications\"/>\r\n              </button>\r\n\r\n              <button  className=\"icon-anim nav-el\">\r\n                <img src={star} alt=\"favourites\"/>\r\n              </button> */}\r\n              <div className=\"nav__profile-data nav-el\">\r\n                <div className=\"nav__profile-data__main link-anim\" onClick={this.dropdownToggle}>\r\n                  <Link to={this.getUserProfileLink()} className=\"f-medium semi flex\">\r\n                    <img className=\"nav__profile-data__avatar\" src={this.checkOnEmpty(this.props.navState.avatar, placeholderAvatar)} alt=\"аватар\"/>\r\n                  </Link>\r\n                  <button className=\"nav__profile-data__options-btn\">{this.props.userState.user.name}</button>\r\n                </div>\r\n                \r\n                <div className={\"nav__profile-data__dropdown bottom-rounded \" + this.props.navState.dropDownState}>\r\n                  <ul className=\"dropdown__list\">\r\n                    <li className=\"dropdown__list-el\" onClick={this.dropdownToggle}>\r\n                      <Link to={this.getUserProfileLink()} className=\"semi\">Моя страница</Link>\r\n                    </li>\r\n                    <li className=\"dropdown__list-el\" onClick={this.optionsPopupToggle}>\r\n                      <button to={this.getUserProfileLink()} className=\"semi\">Настройки</button>\r\n                    </li>\r\n                    <li className=\"dropdown__list-el\" onClick={this.logoutHandleFormSubmit}>\r\n                      <button className=\"semi\">Выход</button>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </nav>     \r\n        </div> \r\n      </div>\r\n      {this.props.navState.searchActive ? \r\n        <div className=\"search-panel active appearence-anim\">\r\n          <div className=\"container\">\r\n            <div className=\"search-panel__wrapper\">\r\n              <SearchPanel history={this.props.history}></SearchPanel>\r\n            </div>\r\n          </div>\r\n        </div>  \r\n      : ''}\r\n      {this.props.navState.optionsPopup.optionsPopupState === 'active'?(<OptionsPopup history={this.props.history}></OptionsPopup>):('')}\r\n    </div>\r\n    )\r\n      }\r\n    else return(\r\n    <div className={\"nav-block \" + this.props.navState.position + \" \" + this.props.navState.transparency}>\r\n      <div className=\"nav-bar\">\r\n        <div className=\"container\">\r\n          <nav className=\"nav\">\r\n            <div className=\"nav__left-side\">\r\n              <Link to=\"/landing\" className=\"nav-el\" >\r\n                <img src={logo} alt=\"logo\"/>\r\n              </Link>\r\n\r\n              {/* <Link to=\"/content\" className=\"f-medium semi link-anim nav-el\">Полезное</Link> */}\r\n\r\n              <button  className={\"nav-el nav__search \" + this.props.navState.searchActive} onClick={this.searchToggle}>\r\n                <span className=\"f-medium semi\" >Поиск</span> \r\n                <img src={arrow} alt=\"\"/>\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"nav__right-side\">\r\n              <button className=\"f-medium highlighted-btn semi nav-el\" onClick={this.registartionPopupOpen}>Начать карьеру</button>\r\n\r\n              <button className=\"f-medium semi link-anim nav-el\" onClick={this.loginPopupOpen}>Войти</button>\r\n            </div>    \r\n          </nav>     \r\n        </div>  \r\n      </div>\r\n      {this.props.navState.searchActive ? \r\n      <div className=\"search-panel active appearence-anim\">\r\n        <div className=\"container\">\r\n          <div className= \"search-panel__wrapper\">\r\n            <SearchPanel history={this.props.history}></SearchPanel>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      :''}\r\n      \r\n      \r\n      <Popup history={this.props.history}></Popup>\r\n\r\n    </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = (state, ownProps) =>{\r\n  return {\r\n    navState: state.nav,\r\n    logged:state.user.logged,\r\n    userState:state.user,\r\n    userData:state.userData,\r\n    location:ownProps.ownProps.location.pathname,\r\n    history:ownProps.ownProps.history\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) =>{\r\n  return{\r\n    onSetUserMiniAvatar: (photo) => {\r\n      dispatch({type : 'SET_USER_MINI_AVATAR', payload:photo})\r\n    },\r\n    onSearchActivate: () => {\r\n      dispatch({type : 'SEARCH_ACTIVATE', payload:null})\r\n    },\r\n    onSearchDeactivate: () => {\r\n      dispatch({type : 'SEARCH_DEACTIVATE', payload:null})\r\n    },\r\n    onLoginPopupActivate: (history) => {\r\n      history.push('/landing')\r\n      dispatch({type : 'POPUP_ACTIVATE', payload:'login'})\r\n    },\r\n    onRegistrationPopupActivate: (history) => {\r\n      history.push('/landing')\r\n      dispatch({type : 'POPUP_ACTIVATE', payload:'registration'})\r\n    },\r\n    onOptionsPopupActivate: () => {\r\n      dispatch({type : 'OPTIONS_POPUP_ACTIVATE', payload:null})\r\n    },\r\n    onOptionsPopupDeactivate: () => {\r\n      dispatch({type : 'OPTIONS_POPUP_DEACTIVATE', payload:null})\r\n    },\r\n    onDropDownActivate: () => {\r\n      dispatch({type : 'DROPDOWN_ACTIVATE', payload:null})\r\n    },\r\n    onDropDownDeactivate: () => {\r\n      dispatch({type : 'DROPDOWN_DEACTIVATE', payload:null})\r\n    },\r\n    onVerifyToken: (getAvatarFromFirebase)=>{\r\n      dispatch(verify())\r\n      .then((data)=>{\r\n        if(data.data !== 403){\r\n          dispatch({type : 'USER_LOGIN', payload:null})\r\n          getAvatarFromFirebase()\r\n        }\r\n      })\r\n      \r\n    },\r\n    onLogout: ()=>{\r\n      dispatch(logout())\r\n      dispatch({type : 'USER_LOGOUT', payload:null})\r\n\r\n    },\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Nav);\r\n","D:\\react тесты\\diploma\\dev\\src\\actions\\serverConnections.js",["141"],"D:\\react тесты\\diploma\\dev\\src\\index.js",["142"],"import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { applyMiddleware, createStore, compose } from 'redux';\r\nimport reducer from './reducers/reducer'\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\nimport {createBrowserHistory} from 'history'\r\nimport Profile from './components/Profile/Profile'\r\nimport CompanyProfile from './components/CompanyProfile/CompanyProfile'\r\nimport Search from './components/Search/Search'\r\n\r\nimport {\r\n  Route,\r\n  Switch,\r\n  Redirect\r\n} from \"react-router-dom\"\r\nimport thunk from 'redux-thunk';\r\nimport App from './App';\r\nimport Nav from './components/Nav/Nav'\r\nimport Response from './components/Responses/Responses'\r\n\r\nimport { syncHistoryWithStore } from 'react-router-redux';\r\nimport Landing from './components/Landing/Landing';\r\n\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  compose(\r\n    applyMiddleware(thunk),\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ ? window.__REDUX_DEVTOOLS_EXTENSION__() : f => f\r\n  ));   // reducer\r\nconst hashHistory = createBrowserHistory();\r\nconst history = syncHistoryWithStore(hashHistory, store);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <Router history={history}>  \r\n      <Route path=\"/\" component={App}/>\r\n\r\n      <Switch>\r\n          <Route path=\"/landing\" component={Landing}/>\r\n          <Route path=\"/search\" component={Search}/>\r\n          <Route path=\"/responses\" component={Response}/>\r\n          <Route path=\"/profile/:id\" component={Profile}/>\r\n          <Route path=\"/company/:id\" component={CompanyProfile}/>\r\n          <Redirect from=\"*\" to=\"/landing\"/>\r\n      </Switch>\r\n    </Router>\r\n  </Provider>,\r\n\r\n  \r\n  document.getElementById('root')\r\n);\r\n\r\n","D:\\react тесты\\diploma\\dev\\src\\components\\CompanyProfile\\Side\\Side.js",[],"D:\\react тесты\\diploma\\dev\\src\\components\\Profile\\ProfileRedactPopup\\redactPopupSections\\RedactPopupSectionExperience.js",[],"D:\\react тесты\\diploma\\dev\\src\\components\\Responses\\Responses.js",["143","144","145"],"D:\\react тесты\\diploma\\dev\\src\\components\\leafletMap\\LeafletMap.js",["146","147","148"],"D:\\react тесты\\diploma\\dev\\src\\components\\Profile\\ProfileRedactPopup\\ImageCropper.js",["149"],"import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Cropper from \"react-cropper\";\r\nimport firebase from \"firebase\";\r\nimport fileUploader from '../../../actions/fileUploader';\r\nimport \"cropperjs/dist/cropper.css\";\r\nimport closeIcon from '../../../img/close.svg';\r\nimport uploadIcon from '../../../img/upload.svg';\r\n\r\n\r\nclass ImageCropper extends Component {\r\n    cropUserImage = (file, maxWidth, maxHeight, imageType) => {\r\n        this.props.onDeactivateCropper()\r\n        console.log(file)\r\n        setTimeout(()=>{\r\n            if (file !== undefined){\r\n                this.props.onActivateCropper(file, maxWidth, maxHeight, imageType)\r\n            }\r\n        }, 0)\r\n    }\r\n\r\n    loadImageToFirebase = (image, imageType) =>{\r\n        console.log(image)\r\n        if (image !== undefined){\r\n            const storageRef = fileUploader.storage().ref()\r\n            const fileRef = storageRef.child('user-' + imageType + this.props.userState.user.id)\r\n            fileRef.put(image).then((response)=>{\r\n                fileRef.getDownloadURL()\r\n                .then((response) => {\r\n                    console.log(response)\r\n                    if (imageType === 'avatar'){\r\n                        this.props.onChangeAvatar(response)\r\n                    }\r\n                    else if(imageType === 'personal-background'){\r\n                        this.props.onChangePersonalBackground(response)\r\n                    }\r\n                })\r\n            })\r\n        }\r\n\r\n    }\r\n    \r\n    getCropperData = () => {\r\n        this.props.onDeactivateCropper()\r\n\r\n        if (typeof this.props.cropperData.instance !== \"undefined\") {\r\n          const croppedImage = this.dataURLtoBlob(this.props.cropperData.instance.getCroppedCanvas().toDataURL());\r\n          this.loadImageToFirebase(croppedImage, this.props.cropperData.imageType)\r\n        }\r\n    };\r\n\r\n    dataURLtoBlob = (dataurl) => {\r\n        var arr = dataurl.split(','), mime = arr[0].match(/:(.*?);/)[1],\r\n            bstr = atob(arr[1]), n = bstr.length, u8arr = new Uint8Array(n);\r\n        while(n--){\r\n            u8arr[n] = bstr.charCodeAt(n);\r\n        }\r\n        return new Blob([u8arr], {type:mime});\r\n    }\r\n\r\n\r\n    loadUserImage = (e, imageType) =>{\r\n        const file = e.target.files[0];\r\n        this.loadImageToFirebase(file, imageType)\r\n    }\r\n\r\n    deactivateCropper = () =>{\r\n        this.props.onDeactivateCropper()\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.cropperFile){\r\n            if(this.props.cropperData.imageType === 'avatar'){\r\n                this.props.onSetCropperFile('https://firebasestorage.googleapis.com/v0/b/diploma-55e3f.appspot.com/o/placeholder-avatar.jpg?alt=media&token=5058f243-49e5-4df4-8686-899c6ce12c54')\r\n            }\r\n            else this.props.onSetCropperFile('https://firebasestorage.googleapis.com/v0/b/diploma-55e3f.appspot.com/o/placeholder-background.png?alt=media&token=1c91f99c-c236-4a28-b291-bfc2263df45b')\r\n        }\r\n\r\n\r\n        return this.props.cropperActive && this.props.cropperFile ? (\r\n            <div className=\"cropper-block\">\r\n                <div\r\n                    className={\"cropper__img-preview \" + this.props.cropperData.imageType}\r\n                    style={{ width: this.props.cropperMaxWidth, height: this.props.cropperMaxHeight, overflow:\"hidden\"}}\r\n                />\r\n\r\n                <Cropper\r\n                style={{ width: \"100%\", height: \"400px\", backgroundColor:\"#fff\" }}\r\n                aspectRatio={this.props.cropperMaxWidth / this.props.cropperMaxHeight}\r\n\r\n                preview=\".cropper__img-preview\"\r\n                src={this.props.cropperFile}\r\n                viewMode={1}\r\n                dragMode='move'\r\n                guides={true}\r\n                minCropBoxHeight={10}\r\n                minCropBoxWidth={10}\r\n                background={false}\r\n                responsive={true}\r\n                autoCropArea={1}\r\n                checkOrientation={false} \r\n                onInitialized={(instance) => {\r\n                    this.props.setCropperInstance(instance);\r\n                }}\r\n                />\r\n                \r\n                <div className=\"cropper-controls\">\r\n                    <button className=\"cropper-upload-btn\" onClick={this.getCropperData}>\r\n                        <img src={uploadIcon} alt=\"uploadIcon\"/>\r\n                    </button>\r\n\r\n                    <button className=\"cropper-close-btn\" onClick={this.deactivateCropper}>\r\n                        <img src={closeIcon} alt=\"closeIcon\"/>\r\n                    </button>\r\n                </div>\r\n\r\n\r\n            </div>\r\n            \r\n        ) : ('')\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        cropperMaxWidth:state.profile.buf.cropper.maxWidth,\r\n        cropperMaxHeight:state.profile.buf.cropper.maxHeight,\r\n        cropperFile:state.profile.buf.cropper.file,\r\n        cropperActive:state.profile.buf.cropper.state,\r\n        cropperData:state.profile.buf.cropper,\r\n        userState: state.user,\r\n\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) =>{\r\n    return{\r\n        setCropperInstance: (instance) => {\r\n            dispatch({type : 'SET_CROPPER_INSTANCE', payload:instance})\r\n        },\r\n        onChangeAvatar: (fileUrl)=>{\r\n            dispatch({type : 'POPUP_REDACT_AVATAR_CHANGE', payload:fileUrl})\r\n        },\r\n        onChangePersonalBackground: (fileUrl)=>{\r\n            dispatch({type : 'POPUP_REDACT_PERSONAL_BACKGROUND_CHANGE', payload:fileUrl})\r\n        },\r\n        onDeactivateCropper:()=>{\r\n            dispatch({type : 'DEACTIVATE_PROFILE_REDACT_IMAGE_CROPPER', payload:null})\r\n        },\r\n        onSetCropperFile:(file) => {\r\n            dispatch({type : 'SET_CROPPER_FILE', payload:file})\r\n        },\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ImageCropper)\r\n","D:\\react тесты\\diploma\\dev\\src\\components\\CompanyProfile\\ProfileRedactPopup\\ProfileRedactPopup.js",["150","151"],"D:\\react тесты\\diploma\\dev\\src\\components\\Profile\\Resumes\\ResumeRedactPopup\\ResumeRedactPopup.js",[],{"ruleId":"152","severity":1,"message":"153","line":1,"column":8,"nodeType":"154","messageId":"155","endLine":1,"endColumn":9},{"ruleId":"152","severity":1,"message":"156","line":8,"column":8,"nodeType":"154","messageId":"155","endLine":8,"endColumn":25},{"ruleId":"157","severity":1,"message":"158","line":29,"column":9,"nodeType":"159","messageId":"160","endLine":45,"endColumn":10},{"ruleId":"161","severity":1,"message":"162","line":214,"column":50,"nodeType":"163","messageId":"164","endLine":214,"endColumn":52},{"ruleId":"165","replacedBy":"166"},{"ruleId":"167","replacedBy":"168"},{"ruleId":"169","severity":1,"message":"170","line":263,"column":106,"nodeType":"171","endLine":263,"endColumn":118},{"ruleId":"152","severity":1,"message":"172","line":4,"column":9,"nodeType":"154","messageId":"155","endLine":4,"endColumn":25},{"ruleId":"152","severity":1,"message":"173","line":5,"column":8,"nodeType":"154","messageId":"155","endLine":5,"endColumn":20},{"ruleId":"152","severity":1,"message":"174","line":6,"column":9,"nodeType":"154","messageId":"155","endLine":6,"endColumn":31},{"ruleId":"152","severity":1,"message":"175","line":6,"column":33,"nodeType":"154","messageId":"155","endLine":6,"endColumn":53},{"ruleId":"152","severity":1,"message":"176","line":6,"column":55,"nodeType":"154","messageId":"155","endLine":6,"endColumn":74},{"ruleId":"152","severity":1,"message":"177","line":7,"column":9,"nodeType":"154","messageId":"155","endLine":7,"endColumn":21},{"ruleId":"152","severity":1,"message":"178","line":8,"column":9,"nodeType":"154","messageId":"155","endLine":8,"endColumn":13},{"ruleId":"152","severity":1,"message":"179","line":8,"column":24,"nodeType":"154","messageId":"155","endLine":8,"endColumn":45},{"ruleId":"152","severity":1,"message":"180","line":11,"column":10,"nodeType":"154","messageId":"155","endLine":11,"endColumn":17},{"ruleId":"181","severity":1,"message":"182","line":61,"column":9,"nodeType":"183","endLine":61,"endColumn":19},{"ruleId":"161","severity":1,"message":"162","line":208,"column":50,"nodeType":"163","messageId":"164","endLine":208,"endColumn":52},{"ruleId":"165","replacedBy":"184"},{"ruleId":"167","replacedBy":"185"},{"ruleId":"165","replacedBy":"186"},{"ruleId":"167","replacedBy":"187"},{"ruleId":"161","severity":1,"message":"162","line":38,"column":34,"nodeType":"163","messageId":"164","endLine":38,"endColumn":36},{"ruleId":"152","severity":1,"message":"188","line":4,"column":10,"nodeType":"154","messageId":"155","endLine":4,"endColumn":19},{"ruleId":"152","severity":1,"message":"189","line":1,"column":28,"nodeType":"154","messageId":"155","endLine":1,"endColumn":37},{"ruleId":"152","severity":1,"message":"190","line":9,"column":8,"nodeType":"154","messageId":"155","endLine":9,"endColumn":12},{"ruleId":"152","severity":1,"message":"191","line":10,"column":8,"nodeType":"154","messageId":"155","endLine":10,"endColumn":12},{"ruleId":"152","severity":1,"message":"192","line":38,"column":10,"nodeType":"154","messageId":"155","endLine":38,"endColumn":31},{"ruleId":"152","severity":1,"message":"193","line":19,"column":8,"nodeType":"154","messageId":"155","endLine":19,"endColumn":11},{"ruleId":"152","severity":1,"message":"194","line":10,"column":8,"nodeType":"154","messageId":"155","endLine":10,"endColumn":21},{"ruleId":"161","severity":1,"message":"162","line":221,"column":50,"nodeType":"163","messageId":"164","endLine":221,"endColumn":52},{"ruleId":"161","severity":1,"message":"162","line":236,"column":50,"nodeType":"163","messageId":"164","endLine":236,"endColumn":52},{"ruleId":"195","severity":1,"message":"196","line":22,"column":11,"nodeType":"197","endLine":33,"endColumn":6},{"ruleId":"152","severity":1,"message":"198","line":58,"column":11,"nodeType":"154","messageId":"155","endLine":58,"endColumn":14},{"ruleId":"152","severity":1,"message":"199","line":64,"column":22,"nodeType":"154","messageId":"155","endLine":64,"endColumn":33},{"ruleId":"152","severity":1,"message":"200","line":4,"column":8,"nodeType":"154","messageId":"155","endLine":4,"endColumn":16},{"ruleId":"152","severity":1,"message":"201","line":2,"column":8,"nodeType":"154","messageId":"155","endLine":2,"endColumn":14},{"ruleId":"152","severity":1,"message":"173","line":8,"column":8,"nodeType":"154","messageId":"155","endLine":8,"endColumn":20},"no-unused-vars","'e' is defined but never used.","Identifier","unusedVar","'placeholderAvatar' is defined but never used.","default-case","Expected a default case.","SwitchStatement","missingDefaultCase","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","no-native-reassign",["202"],"no-negated-in-lhs",["203"],"jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","'getSearchQueries' is defined but never used.","'fileUploader' is defined but never used.","'searchLoaderDeactivate' is defined but never used.","'searchLoaderActivate' is defined but never used.","'searchNullifyValues' is defined but never used.","'parseOptions' is defined but never used.","'Link' is defined but never used.","'getSearchLoadingState' is defined but never used.","'NavItem' is defined but never used.","react/no-direct-mutation-state","Do not mutate state directly. Use setState().","MemberExpression",["202"],["203"],["202"],["203"],"'addResume' is defined but never used.","'useEffect' is defined but never used.","'star' is defined but never used.","'bell' is defined but never used.","'verifyUserFetchSucces' is defined but never used.","'Nav' is defined but never used.","'dropdownArrow' is defined but never used.","react-hooks/exhaustive-deps","The 'onMove' function makes the dependencies of useEffect Hook (at line 43) change on every render. Move it inside the useEffect callback. Alternatively, wrap the definition of 'onMove' in its own useCallback() Hook.","VariableDeclarator","'pos' is assigned a value but never used.","'setPosition' is assigned a value but never used.","'firebase' is defined but never used.","'Loader' is defined but never used.","no-global-assign","no-unsafe-negation"]