(this.webpackJsonpdev=this.webpackJsonpdev||[]).push([[5],{125:function(e,a,t){},126:function(e,a,t){},127:function(e,a,t){},136:function(e,a,t){"use strict";t.r(a);var n=t(15),c=t(16),s=t(18),o=t(17),r=t(2),l=t(4),i=t(14),p=t(87),d=t(39),u=(t(125),t(88)),h=t(90),b=t(92),j=function(e){Object(s.a)(t,e);var a=Object(o.a)(t);function t(e){var c;return Object(n.a)(this,t),(c=a.call(this,e)).toggleMapPopup=function(){""===c.state.mapPopupState?c.setState({mapPopupState:"active"}):c.setState({mapPopupState:""})},c.redactProfile=function(){c.props.onPopupRedactProfileActivate()},c.state={mapPopupState:""},c}return Object(c.a)(t,[{key:"goPhrase",value:function(){return"employee"===this.props.userState.user.user_type?Object(r.jsx)("p",{className:"info__go-phrase highlighted",children:"\u041f\u043e\u0440\u0430 \u043d\u0430\u0447\u0430\u0442\u044c \u0441\u0432\u043e\u044e \u043a\u0430\u0440\u044c\u0435\u0440\u0443!"}):Object(r.jsx)("p",{className:"info__go-phrase highlighted",children:"\u041f\u043e\u0440\u0430 \u043d\u0430\u0439\u0442\u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u0443!"})}},{key:"checkOnEmpty",value:function(e,a){return""!==e?e:a}},{key:"render",value:function(){return this.props.userState.hasProfile?Object(r.jsxs)("div",{className:"main rounded",children:[Object(r.jsxs)("section",{className:"personal top-rounded",style:{backgroundImage:"url(".concat(this.checkOnEmpty(this.props.userData.profile_background,u.a),")")},children:[Object(r.jsx)("img",{className:"personal__avatar",src:this.checkOnEmpty(this.props.userData.photo_url,d.a),alt:"\u0430\u0432\u0430\u0442\u0430\u0440"}),this.props.userState.user.id===this.props.userData.user?Object(r.jsx)("button",{className:"profile-redact-btn",onClick:this.redactProfile,children:Object(r.jsx)("img",{src:h.a,alt:"editIcon"})}):""]}),Object(r.jsxs)("section",{className:"info",children:[Object(r.jsx)("div",{className:"info-head",children:Object(r.jsx)("h2",{className:"info__name bold",children:this.props.userData.name})}),Object(r.jsx)("p",{className:"info__description",children:this.props.userData.about}),this.props.userData.address?Object(r.jsx)("div",{className:"info__common-info",children:Object(r.jsxs)("div",{className:"address__popup-block",children:[Object(r.jsx)("span",{className:"living__place underline-link",onClick:this.toggleMapPopup,children:this.props.userData.address.name}),"active"===this.state.mapPopupState?Object(r.jsxs)("div",{className:"map-popup rounded",children:[Object(r.jsx)("button",{className:"map-popup__closer-btn",onClick:this.toggleMapPopup,children:"x"}),Object(r.jsx)(b.a,{address:this.props.userData.address})]}):""]})}):"",this.props.userData.phone?Object(r.jsxs)("div",{className:"info__contacts",children:[Object(r.jsx)("p",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"}),Object(r.jsx)("div",{className:"info__contacts__phones",children:this.props.userData.phone.map((function(e,a){return Object(r.jsx)("a",{className:"contacts__phones-el",href:"tel:"+e,children:e},a)}))})]}):""]})]}):this.props.userState.user.id===this.props.userData.user?Object(r.jsxs)("div",{className:"main rounded",children:[Object(r.jsx)("section",{className:"personal top-rounded",style:{backgroundImage:"url(".concat(this.checkOnEmpty(this.props.userData.profile_background,u.a),")")},children:Object(r.jsx)("img",{className:"personal__avatar",src:this.checkOnEmpty(this.props.userData.photo_url,d.a),alt:"\u0430\u0432\u0430\u0442\u0430\u0440"})}),Object(r.jsxs)("section",{className:"info",children:[Object(r.jsx)("div",{className:"info-head",children:Object(r.jsx)("h2",{className:"info__name bold",children:this.props.userData.name})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{className:"info__description",children:"\u0427\u0442\u043e\u0431\u044b \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 \u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0441\u0435\u0431\u0435!"}),this.goPhrase(),Object(r.jsx)("button",{className:"profile-add-btn",onClick:this.redactProfile,children:Object(r.jsx)("img",{src:p.a,alt:"plusIcon"})})]})]})]}):Object(r.jsxs)("div",{className:"main rounded",children:[Object(r.jsx)("section",{className:"personal top-rounded",style:{backgroundImage:"url(".concat(this.checkOnEmpty(this.props.userData.profile_background,u.a),")")},children:Object(r.jsx)("img",{className:"personal__avatar",src:this.checkOnEmpty(this.props.userData.photo_url,d.a),alt:"\u0430\u0432\u0430\u0442\u0430\u0440"})}),Object(r.jsxs)("section",{className:"info",children:[Object(r.jsx)("div",{className:"info-head",children:Object(r.jsx)("h2",{className:"info__name bold",children:this.props.userData.name})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{className:"info__description",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u043f\u0443\u0441\u0442!"})})]})]})}}]),t}(l.Component),y=Object(i.b)((function(e){return{userState:e.user,userData:e.userData}}),(function(e){return{onSubjectChangeToEmployer:function(){e({type:"CHANGE_SUBJECT_TO_EMPLOYER",payload:null})},onPopupRedactProfileActivate:function(){e({type:"POPUP_EMPLOYER_REDACT_PROFILE_ACTIVATE",payload:null})}}}))(j),m=(t(126),function(e){Object(s.a)(t,e);var a=Object(o.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){return Object(r.jsx)("div",{className:"side rounded"})}}]),t}(l.Component)),_=t(25),f=t(19),v=t(94),O=t(99),g=t(95),x=function(e){Object(s.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var c=arguments.length,s=new Array(c),o=0;o<c;o++)s[o]=arguments[o];return(e=a.call.apply(a,[this].concat(s))).changeVacancyName=function(a){var t=Object(_.b)(a.target.value,35,0);"pass"===t?e.props.onVacancyNameChange(a.target.value,e.props.vacancyIndex):e.props.onInputMistake(t,a.target)},e.changeGradeValue=function(a){e.props.onGradeValueChange(a.target.value,e.props.vacancyIndex)},e.changeSalary=function(a){var t=Object(_.a)(a.target.value,9999999,null);"pass"===t?e.props.onSalaryValueChange(parseInt(a.target.value),e.props.vacancyIndex):e.props.onInputMistake(t,a.target)},e.changeIndustryValue=function(a){e.props.onIndustryValueChange(a.target.value,e.props.vacancyIndex)},e.workTypeDelete=function(a){a.preventDefault(),e.props.onWorkTypeDelete(e.props.vacancyWorkType[a.target.parentElement.dataset.key],e.props.vacancyIndex)},e.workTypeInput=function(a){var t=a.target.value;console.log(t),a.preventDefault(),e.props.vacancyWorkType.length>5||-1===e.props.vacancyWorkType.indexOf(t)&&e.props.onWorkTypeAdd(t,e.props.vacancyIndex)},e.pointInput=function(a){console.log(a);var t=a.target.value.split(" ").join("");9!==a.keyCode&&32!==a.keyCode||(a.preventDefault(),e.props.vacancyPoints.length>10||-1===e.props.vacancyPoints.indexOf(t)&&(e.props.onPointAdd(t,e.props.vacancyIndex),a.target.value=""))},e.pointDelete=function(a){a.preventDefault(),e.props.onPointDelete(e.props.vacancyPoints[a.target.parentElement.dataset.key],e.props.vacancyIndex)},e.redactAboutBody=function(a){a.preventDefault(),e.props.onRedactAboutBody({title:a.target.title.value,subtitle:a.target.subtitle.value,points:e.props.vacancyPoints},e.props.vacancyIndex)},e.addNewAboutBody=function(a){a.preventDefault(),e.props.onAddAboutBody({title:"\u041d\u0430\u0448\u0438/\u0432\u0430\u0448\u0438 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f/\u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f",subtitle:"",points:[]},e.props.vacancyIndex)},e.deleteAboutBody=function(a){a.preventDefault(),e.props.onAboutBodyDelete(a.target.closest(".body-block").dataset.key,e.props.vacancyIndex)},e.activateAboutBody=function(a){a.preventDefault(),e.props.onAboutBodyActivate(a.target.closest(".body-block").dataset.key,e.props.vacancyIndex)},e.deactivateAboutBody=function(a){a.preventDefault(),e.props.onAboutBodyDeactivate(a.target.closest(".body-block").dataset.key,e.props.vacancyIndex)},e.changeLeadingValue=function(a){e.props.onLeadingValueChange(a.target.value,e.props.vacancyIndex)},e.changeTrailingValue=function(a){e.props.onTrailingValueChange(a.target.value,e.props.vacancyIndex)},e.changeExperienceValue=function(a){e.props.onExperienceValueChange(a.target.value,e.props.vacancyIndex)},e.changeAddressValue=function(){e.props.onAddressValueChange({name:e.props.LeafletMapData.name,lat:e.props.LeafletMapData.lat,lng:e.props.LeafletMapData.lng},e.props.vacancyIndex)},e.saveVacancyFormChanges=function(a){a.preventDefault();var t={user_id:e.props.userData.id,vacancy_name:e.props.vacancyPlaceholder.vacancy_name,industry:e.props.vacancyPlaceholder.industry||"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e",grade:e.props.vacancyPlaceholder.grade,salary:null===e.props.vacancyPlaceholder.salary?-1:e.props.vacancyPlaceholder.salary,work_type:e.props.vacancyPlaceholder.work_type,experience:e.props.vacancyPlaceholder.experience,address:e.props.vacancyPlaceholder.address,tags:e.props.vacancyPlaceholder.tags,leading:e.props.vacancyPlaceholder.leading,trailing:e.props.vacancyPlaceholder.trailing,body:e.props.vacancyPlaceholder.body,bg_header_color:e.props.vacancyPlaceholder.bg_header_color};e.props.vacancyData.vacancies.length===e.props.vacancyIndex||0===e.props.vacancyData.vacancies.length?e.props.onSaveVacancyFormChanges(t,-1,e.props.userData.id,e.props.vacancyPlaceholder.vacancy_name):e.props.onSaveVacancyFormChanges(t,e.props.vacancyIndex,e.props.userData.id,e.props.vacancyPlaceholder.id),console.log(t)},e.tagDelete=function(a){a.preventDefault(),console.log(a.target.parentElement.dataset.key),e.props.onTagDelete(e.props.vacancyPlaceholder.tags[a.target.parentElement.dataset.key],e.props.vacancyIndex)},e.tagInput=function(a){console.log(a);var t=a.target.value.split(" ").join("");9!==a.keyCode&&32!==a.keyCode||(a.preventDefault(),e.props.vacancyPlaceholder.tags.length>10||-1===e.props.vacancyTags.indexOf(t)&&(e.props.onTagAdd(t,e.props.vacancyIndex),a.target.value=""))},e.closeRedactPopup=function(a){a.preventDefault(),e.props.onPopupRedactVacancyDeactivate(e.props.vacancyIndex)},e.deleteVacancy=function(a){a.preventDefault(),e.props.onPopupRedactVacancyDelete(e.props.vacancyData.vacancies[e.props.vacancyIndex].id,e.props.userData.id)},e.changeVacancyHeaderColor=function(a){a.preventDefault(),e.props.onVacancyHeaderColorChange(a.target.value,e.props.vacancyIndex)},e}return Object(c.a)(t,[{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{className:"rounded resume-redact-block "+this.props.vacancyState,style:this.props.addStyle,children:[Object(r.jsxs)("div",{className:"resume__header white top-rounded "+this.props.vacancyPlaceholder.bg_header_color,children:[Object(r.jsxs)("div",{className:"resume__header-top",children:[Object(r.jsx)("input",{required:!0,type:"text",className:"resume__header__name bold f-large white",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u0438",onChange:this.changeVacancyName.bind(this),value:this.props.vacancyPlaceholder.vacancy_name}),Object(r.jsxs)("p",{className:"resume__header__salary",children:[Object(r.jsx)("input",{required:!0,type:"number",className:"resume__header__salary-input bold f-pre white",placeholder:"\u0416\u0435\u043b\u0430\u0435\u043c\u0430\u044f \u0437\u0430\u0440\u043f\u043b\u0430\u0442\u0430",onChange:this.changeSalary.bind(this),value:0===this.props.vacancyPlaceholder.salary||-1===this.props.vacancyPlaceholder.salary||null===this.props.vacancyPlaceholder.salary?"":this.props.vacancyPlaceholder.salary}),Object(r.jsx)("span",{className:"bold f-pre",children:" \u0440\u0443\u0431."})]})]}),Object(r.jsxs)("div",{className:"resume__header-bottom",children:[Object(r.jsx)("p",{className:"resume__header__grade",children:Object(r.jsxs)("select",{required:!0,className:"white resume__header__grade-input bg-transparent",id:"resume-gradeInput-"+this.props.index,name:"resume-gradeInput-"+this.props.index,onChange:this.changeGradeValue.bind(this),value:this.props.vacancyPlaceholder.grade,children:[Object(r.jsx)("option",{value:"internship",children:"\u0421\u0442\u0430\u0436\u0435\u0440"}),Object(r.jsx)("option",{value:"junior",children:"\u041d\u0430\u0447\u0438\u043d\u0430\u044e\u0449\u0438\u0439 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442"}),Object(r.jsx)("option",{value:"middle",children:"\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442"}),Object(r.jsx)("option",{value:"senior",children:"\u0413\u043b\u0430\u0432\u043d\u044b\u0439 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442"}),Object(r.jsx)("option",{value:"director",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0449\u0438\u0439 \u043e\u0442\u0434\u0435\u043b\u0430"}),Object(r.jsx)("option",{value:"senior-director",children:"\u0413\u0435\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u044b\u0439 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440"})]})}),Object(r.jsxs)("ul",{className:"resume__header-color",children:[Object(r.jsx)("button",{className:"resume__header-color-el bg-light-black "+("bg-light-black"===this.props.vacancyPlaceholder.bg_header_color?"selected":""),onClick:this.changeVacancyHeaderColor,value:"bg-light-black"}),Object(r.jsx)("button",{className:"resume__header-color-el bg-blue-gray "+("bg-blue-gray"===this.props.vacancyPlaceholder.bg_header_color?"selected":""),onClick:this.changeVacancyHeaderColor,value:"bg-blue-gray"}),Object(r.jsx)("button",{className:"resume__header-color-el bg-blue-black "+("bg-blue-black"===this.props.vacancyPlaceholder.bg_header_color?"selected":""),onClick:this.changeVacancyHeaderColor,value:"bg-blue-black"}),Object(r.jsx)("button",{className:"resume__header-color-el bg-violet-gray "+("bg-violet-gray"===this.props.vacancyPlaceholder.bg_header_color?"selected":""),onClick:this.changeVacancyHeaderColor,value:"bg-violet-gray"}),Object(r.jsx)("button",{className:"resume__header-color-el bg-violet-black "+("bg-violet-black"===this.props.vacancyPlaceholder.bg_header_color?"selected":""),onClick:this.changeVacancyHeaderColor,value:"bg-violet-black"})]})]})]}),Object(r.jsx)("button",{className:"resume-close-btn",onClick:this.closeRedactPopup,children:Object(r.jsx)("img",{src:v.a,alt:"closeIcon"})}),this.props.vacancyIndex!==this.props.vacancyData.vacancies.length?Object(r.jsx)("button",{className:"resume-delete-btn",onClick:this.deleteVacancy,children:Object(r.jsx)("img",{src:O.a,alt:"deleteIcon"})}):"",Object(r.jsxs)("div",{className:"resume__main-info rounded",children:[Object(r.jsxs)("p",{className:"resume__industry f-pre",children:[Object(r.jsx)("span",{children:"\u041e\u0442\u0440\u0430\u0441\u043b\u044c: "}),Object(r.jsx)("select",{required:!0,id:"resume-industryInput-"+this.props.index,name:"resume-industryInput-"+this.props.index,onChange:this.changeIndustryValue.bind(this),value:this.props.vacancyPlaceholder.industry,children:g.map((function(e){return Object(r.jsx)("option",{value:e.name,children:e.name})}))})]}),Object(r.jsxs)("div",{className:"resume__address",children:[Object(r.jsx)(b.a,{address:this.props.vacancyPlaceholder.address}),Object(r.jsxs)("div",{className:"resume__address__data-block",children:[Object(r.jsx)("button",{className:"highlighted sup-btn",onClick:this.changeAddressValue,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(r.jsx)("span",{children:this.props.vacancyPlaceholder.address.name})]})]}),Object(r.jsxs)("div",{className:"resume__work-type-block input-list",children:[Object(r.jsx)("p",{className:"input-label",children:"\u0422\u0438\u043f\u044b \u0440\u0430\u0431\u043e\u0442:"}),Object(r.jsx)("ul",{className:"resume__work-type-list",children:this.props.vacancyWorkType.map((function(a,t){return Object(r.jsxs)("li",{className:"list-input-field__el-block","data-key":t,children:[Object(r.jsx)("span",{children:Object(_.f)(a)}),Object(r.jsx)("button",{className:"el-block__delete-el",onClick:e.workTypeDelete,children:"x"})]},t)}))}),Object(r.jsxs)("div",{className:"resume__work-type input-list",children:["\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c...",Object(r.jsxs)("select",{className:"select-input",name:"workTypeInput",id:"workTypeInput",onChange:this.workTypeInput.bind(this),children:[Object(r.jsx)("option",{value:"part-day",children:"\u043d\u0435\u043f\u043e\u043b\u043d\u044b\u0439 \u0434\u0435\u043d\u044c"}),Object(r.jsx)("option",{value:"full-day",children:"\u043f\u043e\u043b\u043d\u044b\u0439 \u0434\u0435\u043d\u044c"}),Object(r.jsx)("option",{value:"part-time",children:"\u0447\u0430\u0441\u0442\u0438\u0447\u043d\u0430\u044f \u0437\u0430\u043d\u044f\u0442\u043d\u043e\u0441\u0442\u044c"}),Object(r.jsx)("option",{value:"full-time",children:"\u043f\u043e\u043b\u043d\u0430\u044f \u0437\u0430\u043d\u044f\u0442\u043d\u043e\u0441\u0442\u044c"}),Object(r.jsx)("option",{value:"volunteer",children:"\u0432\u043e\u043b\u043e\u043d\u0442\u0435\u0440\u0441\u0442\u0432\u043e"}),Object(r.jsx)("option",{value:"one-time-job",children:"\u0440\u0430\u0437\u043e\u0432\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435"}),Object(r.jsx)("option",{value:"flexible-schedule",children:"\u0433\u0438\u0431\u043a\u0438\u0439 \u0433\u0440\u0430\u0444\u0438\u043a"}),Object(r.jsx)("option",{value:"shift-schedule",children:"\u0441\u043c\u0435\u043d\u043d\u044b\u0439 \u0433\u0440\u0430\u0444\u0438\u043a"}),Object(r.jsx)("option",{value:"shift-method",children:"\u0432\u0430\u0445\u0442\u043e\u0432\u044b\u0439 \u043c\u0435\u0442\u043e\u0434"}),Object(r.jsx)("option",{value:"remote",children:"\u0443\u0434\u0430\u043b\u0435\u043d\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430"})]})]})]}),Object(r.jsxs)("div",{className:"textarea-field",children:[Object(r.jsx)("p",{children:"\u0412\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u0435"}),Object(r.jsx)("textarea",{className:"popup__textarea-input",name:"leadingInput",id:"leadingInput",onChange:this.changeLeadingValue.bind(this),value:this.props.vacancyPlaceholder.leading})]}),Object(r.jsxs)("div",{className:"vacancy__about",children:[this.props.aboutBodies.map((function(a,t){return e.props.vacancyBuf.activeBodyId===t.toString()?Object(r.jsx)("form",{className:"body-block rounded","data-key":t,onSubmit:e.redactAboutBody,children:Object(r.jsxs)("div",{className:"about__body-inputs f-pre",children:[Object(r.jsxs)("div",{className:"about__body-inputs__header",children:[Object(r.jsx)("input",{className:"highlighted",type:"text",placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",name:"title",id:"title"}),Object(r.jsxs)("div",{className:"body-controls",children:[Object(r.jsx)("button",{className:"body-redact-btn",onClick:e.deactivateAboutBody,children:Object(r.jsx)("img",{src:v.a,alt:"closeIcon"})}),Object(r.jsx)("button",{className:"body-delete-btn",onClick:e.deleteAboutBody,children:Object(r.jsx)("img",{src:O.a,alt:"deleteIcon"})})]})]}),Object(r.jsx)("input",{className:"semi",type:"text",placeholder:"\u041f\u043e\u0434\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",name:"subtitle",id:"subtitle"}),Object(r.jsxs)("div",{className:"about__points-block input-list",children:[0!==e.props.vacancyPoints.length?Object(r.jsx)("ul",{className:"about__points-list rounded",children:e.props.vacancyPoints.map((function(a,t){return Object(r.jsxs)("li",{className:"list-input-field__el-block","data-key":t,children:[Object(r.jsx)("span",{children:a}),Object(r.jsx)("button",{className:"el-block__delete-el",onClick:e.pointDelete,children:"x"})]},t)}))}):"",Object(r.jsx)("p",{className:"about__point input-list",children:Object(r.jsx)("input",{type:"text",className:"input-list__input-block",placeholder:"\u042d\u043b\u0435\u043c\u0435\u043d\u0442 \u0441\u043f\u0438\u0441\u043a\u0430",onKeyDown:e.pointInput})})]}),Object(r.jsx)("input",{className:"form-submit-btn f-large rounded",type:"submit",value:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"})]})},t):Object(r.jsxs)("div",{className:"body-block rounded body-block-cut","data-key":t,children:[Object(r.jsx)("p",{className:"highlighted",children:a.title}),Object(r.jsxs)("div",{className:"body-controls",children:[Object(r.jsx)("button",{className:"body-redact-btn",onClick:e.activateAboutBody,children:Object(r.jsx)("img",{src:h.a,alt:"editIcon"})}),Object(r.jsx)("button",{className:"body-delete-btn",onClick:e.deleteAboutBody,children:Object(r.jsx)("img",{src:O.a,alt:"deleteIcon"})})]})]},t)})),Object(r.jsxs)("div",{className:"vacancy__about__add-block",children:[Object(r.jsx)("p",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0431\u043b\u043e\u043a"}),Object(r.jsx)("button",{className:"body-add-btn",onClick:this.addNewAboutBody,children:Object(r.jsx)("img",{src:p.a,alt:"plusIcon"})})]})]}),Object(r.jsxs)("div",{className:"textarea-field",children:[Object(r.jsx)("p",{children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435"}),Object(r.jsx)("textarea",{className:"popup__textarea-input",name:"trailingInput",id:"trailingInput",onChange:this.changeTrailingValue.bind(this),value:this.props.vacancyPlaceholder.trailing})]}),Object(r.jsxs)("div",{className:"resume__tags-block input-list",children:[Object(r.jsx)("ul",{className:"resume__tags-list",children:this.props.vacancyTags.map((function(a,t){return Object(r.jsxs)("li",{className:"list-input-field__el-block","data-key":t,children:[Object(r.jsx)("span",{children:a}),Object(r.jsx)("button",{className:"el-block__delete-el",onClick:e.tagDelete,children:"x"})]},t)}))}),Object(r.jsx)("input",{className:"resume__tags-input input-list__input-block",type:"text",onKeyDown:this.tagInput.bind(this),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u0433 \u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043f\u0440\u043e\u0431\u0435\u043b..."})]}),Object(r.jsx)("button",{className:"form-submit-btn f-large rounded bold",onClick:this.saveVacancyFormChanges,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"})]})]})}}]),t}(l.Component),P=Object(i.b)((function(e,a){var t;return t=a.index===e.vacancy.vacancies.length?e.vacancy.newVacancy:e.vacancy.placeholder[a.index],{userData:e.user.user,vacancyData:e.vacancy,vacancyPlaceholder:t,vacancyTags:t.tags,vacancyWorkType:t.work_type,vacancyState:t.state,vacancyPoints:e.vacancy.buf.bufPoints,vacancyIndex:a.index,vacancyBuf:e.vacancy.buf,aboutBodies:t.body,LeafletMapData:e.buf.leafletMap.data}}),(function(e){return{onAddVacancy:function(a){e(Object(f.c)(a)).then((function(e){null!==e.newVacancyId&&e.newVacancyId}))},onPopupRedactVacancyDeactivate:function(a){e({type:"POPUP_REDACT_VACANCY_DEACTIVATE",payload:a})},onPopupRedactVacancyDelete:function(a,t){e(Object(f.k)(a)).then((function(a){e(Object(f.t)(t)).then((function(a){null!==a.data&&"404"!==a.data&&(a.data.map((function(e){return e.state=""})),e({type:"INITIALIZE_VACANCY_PLACEHOLDER",payload:a.data}))}))}))},onVacancyHeaderColorChange:function(a,t){e({type:"POPUP_REDACT_VACANCY_CHANGE_COLOR",payload:{color:a,index:t}})},onTagAdd:function(a,t){e({type:"POPUP_REDACT_VACANCY_ADD_TAG",payload:{tag:a,index:t}})},onTagDelete:function(a,t){e({type:"POPUP_REDACT_VACANCY_DELETE_TAG",payload:{tagId:a,index:t}})},onWorkTypeAdd:function(a,t){e({type:"POPUP_REDACT_VACANCY_ADD_WORK_TYPE",payload:{workType:a,index:t}})},onWorkTypeDelete:function(a,t){e({type:"POPUP_REDACT_VACANCY_DELETE_WORK_TYPE",payload:{workTypeId:a,index:t}})},onVacancyNameChange:function(a,t){e({type:"POPUP_REDACT_VACANCY_CHANGE_VACANCY_NAME",payload:{text:a,index:t}})},onGradeValueChange:function(a,t){e({type:"POPUP_REDACT_VACANCY_CHANGE_GRADE_VALUE",payload:{text:a,index:t}})},onIndustryValueChange:function(a,t){e({type:"POPUP_REDACT_VACANCY_CHANGE_INDUSTRY_VALUE",payload:{text:a,index:t}})},onAddressValueChange:function(a,t){e({type:"POPUP_REDACT_VACANCY_CHANGE_ADDRESS_VALUE",payload:{text:a,index:t}})},onLeadingValueChange:function(a,t){e({type:"POPUP_REDACT_VACANCY_CHANGE_LEADING_VALUE",payload:{text:a,index:t}})},onTrailingValueChange:function(a,t){e({type:"POPUP_REDACT_VACANCY_CHANGE_TRAILING_VALUE",payload:{text:a,index:t}})},onPointAdd:function(a,t){e({type:"POPUP_REDACT_VACANCY_ADD_POINT",payload:{text:a,index:t}})},onPointDelete:function(a,t){e({type:"POPUP_REDACT_VACANCY_DELETE_POINT",payload:{pointId:a,index:t}})},onSalaryValueChange:function(a,t){e({type:"POPUP_REDACT_VACANCY_CHANGE_SALARY_VALUE",payload:{text:a,index:t}})},onSaveVacancyFormChanges:function(a,t,n,c){e(-1===t?Object(f.c)(a):Object(f.y)(a,c)).then((function(a){return e({type:"POPUP_REDACT_VACANCY_DEACTIVATE",payload:t})})).then((function(a){e(Object(f.t)(n)).then((function(a){null!==a.data&&"404"!==a.data&&(a.data.map((function(e){return e.state=""})),e({type:"INITIALIZE_VACANCY_PLACEHOLDER",payload:a.data}))}))}))},onInputMistake:function(e,a){console.log(e)},onAddAboutBody:function(a,t){e({type:"POPUP_REDACT_VACANCY_ADD_ABOUT_BODY",payload:{body:a,index:t}})},onRedactAboutBody:function(a,t){e({type:"POPUP_REDACT_VACANCY_REDACT_ABOUT_BODY",payload:{body:a,index:t}})},onAboutBodyDelete:function(a,t){e({type:"POPUP_REDACT_VACANCY_DELETE_ABOUT_BODY",payload:{bodyId:a,index:t}})},onAboutBodyActivate:function(a,t){e({type:"POPUP_REDACT_VACANCY_ACTIVATE_ABOUT_BODY",payload:{bodyId:a,index:t}})},onAboutBodyDeactivate:function(a,t){e({type:"POPUP_REDACT_VACANCY_DEACTIVATE_ABOUT_BODY",payload:{bodyId:a,index:t}})}}}))(x),C=t(96),N=function(e){Object(s.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var c=arguments.length,s=new Array(c),o=0;o<c;o++)s[o]=arguments[o];return(e=a.call.apply(a,[this].concat(s))).addVacancy=function(a){return fetch("../new_vacancy.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(a){return console.log(a),a.user_id=e.props.userData.user_id,a})).then((function(a){e.props.onPopupNewVacancyActivate(a)}))},e.redactVacancy=function(a){e.props.onPopupRedactVacancyActivate(a)},e}return Object(c.a)(t,[{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{className:"resumes-block",children:[this.props.userState.logged?0!==this.props.vacancyData.vacancies.length?Object(r.jsx)("h2",{children:"\u0412\u0430\u0448\u0438 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438:"}):"":0!==this.props.vacancyData.vacancies.length?Object(r.jsx)("h2",{children:"\u0412\u0430\u043a\u0430\u043d\u0441\u0438\u0438:"}):"",Object(r.jsxs)("ul",{className:"resumes-list",children:[0!==this.props.vacancyData.vacancies.length?this.props.vacancyData.vacancies.map((function(a,t){return Object(r.jsxs)("li",{className:"resume resumes-list-el rounded",children:["active"===a.state?Object(r.jsx)(P,{index:t}):"",Object(r.jsxs)("section",{className:"resume-main "+("active"===a.state?"muted":""),children:[Object(r.jsxs)("div",{className:"resume__header white top-rounded "+e.props.vacancyData.vacancies[t].bg_header_color,children:[Object(r.jsxs)("div",{className:"resume__header-top",children:[Object(r.jsx)("h2",{className:"resume__header__name bold f-large",children:a.vacancy_name}),-1===a.salary?Object(r.jsx)("span",{className:"resume__header__salary bold f-medium",children:"\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430"}):Object(r.jsxs)("span",{className:"resume__header__salary bold f-medium",children:[a.salary," \u0440\u0443\u0431."]})]}),Object(r.jsxs)("div",{className:"resume__header-bottom",children:[Object(r.jsx)("p",{className:"resume__header__grade",children:Object(_.d)(a.grade)}),Object(r.jsx)("p",{className:"resume__publication-date sup",children:a.pub_date.slice(0,10)})]})]}),Object(r.jsxs)("div",{className:"resume__main-info rounded",children:[Object(r.jsx)("p",{className:"resume__industry f-pre",children:a.industry}),Object(r.jsx)("p",{className:"resume__work-type",children:a.work_type.map((function(e){return Object(_.f)(e)})).join(", ")}),Object(r.jsx)("p",{className:"resume__about",children:a.about}),Object(r.jsx)("ul",{className:"resume__tags-list",children:a.tags.map((function(e,a){return Object(r.jsx)("li",{className:"resume__tags-list-el",children:e},a)}))})]})]}),e.props.userState.logged&&e.props.userState.user.id===e.props.userData.user?Object(r.jsx)("button",{className:"resume-redact-btn",onClick:e.redactVacancy.bind(e,t),children:Object(r.jsx)("img",{src:h.a,alt:"editIcon"})}):""]},t)})):"",0!==this.props.vacancyData.newVacancy.length&&"active"===this.props.vacancyData.newVacancy.state?Object(r.jsx)(P,{index:this.props.vacancyData.vacancies.length}):""]}),this.props.userState.logged&&this.props.userState.user.id===this.props.userData.user&&"active"!==this.props.vacancyData.newVacancy.state?Object(r.jsxs)("div",{className:"resume-add",children:[Object(r.jsx)("p",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u044e:"}),Object(r.jsx)("button",{className:"resume-add-btn",onClick:this.addVacancy.bind(this,0),children:Object(r.jsx)("img",{src:p.a,alt:"plusIcon"})})]}):"",-1!==this.props.vacancyData.openedVacancyId?Object(r.jsx)(C.a,{id:this.props.responseState.openedVacancyId}):""]})}}]),t}(l.Component),A=Object(i.b)((function(e){return{userState:e.user,userData:e.userData,vacancyData:e.vacancy}}),(function(e){return{onPopupRedactVacancyActivate:function(a){e({type:"POPUP_REDACT_VACANCY_ACTIVATE",payload:a})},onPopupNewVacancyActivate:function(a){e({type:"POPUP_NEW_VACANCY_ACTIVATE",payload:a})}}}))(N),D=t(100),E=t(30),k=(t(86),t(101)),I=function(e){Object(s.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var c=arguments.length,s=new Array(c),o=0;o<c;o++)s[o]=arguments[o];return(e=a.call.apply(a,[this].concat(s))).cropUserImage=function(a,t,n,c){e.props.onDeactivateCropper(),setTimeout((function(){void 0!==a&&e.props.onActivateCropper(a,t,n,c)}),0)},e.loadImageToFirebase=function(a,t){if(console.log(a),void 0!==a){var n=E.a.storage().ref().child("user-"+t+e.props.userState.user.id);n.put(a).then((function(a){n.getDownloadURL().then((function(a){console.log(a),"avatar"===t?e.props.onChangeAvatar(a):"personal-background"===t&&e.props.onChangePersonalBackground(a)}))}))}},e.getCropperData=function(){if(e.props.onDeactivateCropper(),"undefined"!==typeof e.props.cropperData.instance){var a=e.dataURLtoBlob(e.props.cropperData.instance.getCroppedCanvas().toDataURL());e.loadImageToFirebase(a,e.props.cropperData.imageType)}},e.dataURLtoBlob=function(e){for(var a=e.split(","),t=a[0].match(/:(.*?);/)[1],n=atob(a[1]),c=n.length,s=new Uint8Array(c);c--;)s[c]=n.charCodeAt(c);return new Blob([s],{type:t})},e.loadUserImage=function(a,t){var n=a.target.files[0];e.loadImageToFirebase(n,t)},e.deactivateCropper=function(){e.props.onDeactivateCropper()},e}return Object(c.a)(t,[{key:"checkOnEmpty",value:function(e,a){return""!==e?e:a}},{key:"render",value:function(){var e=this;return this.props.cropperFile||("avatar"===this.props.cropperData.imageType?this.props.onSetCropperFile("https://firebasestorage.googleapis.com/v0/b/diploma-55e3f.appspot.com/o/placeholder-avatar.jpg?alt=media&token=5058f243-49e5-4df4-8686-899c6ce12c54"):this.props.onSetCropperFile("https://firebasestorage.googleapis.com/v0/b/diploma-55e3f.appspot.com/o/placeholder-background.png?alt=media&token=1c91f99c-c236-4a28-b291-bfc2263df45b")),this.props.cropperActive?Object(r.jsxs)("div",{className:"cropper-block",children:[console.log(this.props.cropperFile),Object(r.jsx)("div",{className:"cropper__img-preview "+this.props.cropperData.imageType,style:{width:this.props.cropperMaxWidth,height:this.props.cropperMaxHeight,overflow:"hidden"}}),Object(r.jsx)(D.a,{style:{width:"100%",maxHeight:"400px",minHeight:"400px",backgroundColor:"#fff"},aspectRatio:this.props.cropperMaxWidth/this.props.cropperMaxHeight,preview:".cropper__img-preview",src:this.props.cropperFile,viewMode:1,dragMode:"move",guides:!0,minCropBoxHeight:10,minCropBoxWidth:10,background:!1,responsive:!0,autoCropArea:1,checkOrientation:!1,onInitialized:function(a){e.props.setCropperInstance(a)}}),Object(r.jsxs)("div",{className:"cropper-controls",children:[Object(r.jsx)("button",{className:"cropper-upload-btn",onClick:this.getCropperData,children:Object(r.jsx)("img",{src:k.a,alt:"uploadIcon"})}),Object(r.jsx)("button",{className:"cropper-close-btn",onClick:this.deactivateCropper,children:Object(r.jsx)("img",{src:v.a,alt:"closeIcon"})})]})]}):""}}]),t}(l.Component),T=Object(i.b)((function(e){return{cropperMaxWidth:e.companyProfile.buf.cropper.maxWidth,cropperMaxHeight:e.companyProfile.buf.cropper.maxHeight,cropperFile:e.companyProfile.buf.cropper.file,cropperActive:e.companyProfile.buf.cropper.state,cropperData:e.companyProfile.buf.cropper,userState:e.user}}),(function(e){return{setCropperInstance:function(a){e({type:"SET_CROPPER_INSTANCE",payload:a})},onChangeAvatar:function(a){e({type:"PROFILE_EMPLOYER_REDACT_AVATAR_CHANGE",payload:a})},onChangePersonalBackground:function(a){e({type:"POPUP_EMPLOYER_REDACT_PERSONAL_BACKGROUND_CHANGE",payload:a})},onDeactivateCropper:function(){e({type:"PROFILE_EMPLOYER_REDACT_DEACTIVATE_IMAGE_CROPPER",payload:null})},onSetCropperFile:function(a){e({type:"SET_CROPPER_FILE",payload:a})}}}))(I),R=function(e){Object(s.a)(t,e);var a=Object(o.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"checkOnEmpty",value:function(e,a){return""!==e?e:a}},{key:"render",value:function(){var e;return Object(r.jsxs)("div",{className:"main-placeholder rounded",children:[Object(r.jsx)("section",{className:"main-placeholder__personal top-rounded",style:{backgroundImage:"url(".concat(this.checkOnEmpty(this.props.personalBackground,u.a),")")},children:Object(r.jsx)("img",{className:"main-placeholder__personal__avatar",src:this.checkOnEmpty(this.props.avatarPhoto,d.a),alt:"\u0430\u0432\u0430\u0442\u0430\u0440"})}),Object(r.jsxs)("section",{className:"main-placeholder__info",children:[Object(r.jsx)("div",{className:"info-head",children:Object(r.jsx)("h2",{className:"info__name bold",children:this.props.userName})}),Object(r.jsx)("p",{className:"info__description",children:this.props.userDescription}),Object(r.jsx)("div",{className:"info__common-info",children:Object(r.jsx)("p",{className:"living__place",children:this.props.userAddress?this.props.userAddress.name:""})}),0!==this.props.userPhones.length?Object(r.jsxs)("div",{className:"info__contacts",children:[Object(r.jsx)("p",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"}),Object(r.jsx)("div",{className:"info__contacts__phones",children:null===(e=this.props.userPhones)||void 0===e?void 0:e.map((function(e,a){return Object(r.jsx)("a",{className:"contacts__phones-el",href:"tel:"+e,children:e},a)}))})]}):""]}),Object(r.jsx)(T,{})]})}}]),t}(l.Component),V=Object(i.b)((function(e){return{placeholderData:e.companyProfile.placeholder,userState:e.user,userData:e.userData,userName:e.companyProfile.placeholder.name,avatarPhoto:e.companyProfile.placeholder.photo_url,personalBackground:e.companyProfile.placeholder.profile_background,userDescription:e.companyProfile.placeholder.about,userAddress:e.companyProfile.placeholder.address,userPhones:e.companyProfile.placeholder.phone}}),(function(e){return{onUpdateUserName:function(a){e({type:"PLACEHOLDER_UPDATE_USER_NAME",payload:a})},setCropperInstance:function(a){e({type:"SET_CROPPER_INSTANCE",payload:a})}}}))(R),S=Object(i.b)((function(e){return{state:e,profileState:e.companyProfile,userState:e.user,placeholderData:e.companyProfile.placeholder,LeafletMapData:e.buf.leafletMap.data}}),(function(e){return{onUsernameChange:function(a){e({type:"POPUP_EMPLOYER_REDACT_USERNAME_CHANGE",payload:a})},onDescriptionChange:function(a){e({type:"POPUP_EMPLOYER_REDACT_DESCRIPTION_CHANGE",payload:a})},onPhoneAdd:function(a){e({type:"POPUP_EMPLOYER_REDACT_ADD_PHONE",payload:a})},onPhoneDelete:function(a){e({type:"POPUP_EMPLOYER_REDACT_DELETE_PHONE",payload:a})},onSaveNewAddress:function(a){e({type:"POPUP_EMPLOYER_REDACT_ADDRESS_CHANGE",payload:a})}}}))((function(e,a,t){var n,c=function(a){a.preventDefault(),console.log(a.target.parentElement.dataset.key),e.onPhoneDelete(e.placeholderData.phone[a.target.parentElement.dataset.key])};return Object(r.jsxs)("section",{className:"popup-redact-section",children:[Object(r.jsxs)("div",{className:"popup__input-block",children:[Object(r.jsxs)("div",{className:"input-field underline-anim",children:[Object(r.jsx)("input",{className:"popup__text-input",id:"nameInput",name:"nameInput",type:"text",placeholder:" ",onChange:function(a){var t=a.target.value;e.onUsernameChange(t)},value:e.placeholderData.name}),Object(r.jsx)("label",{className:"popup__text-label",htmlFor:"nameInput",children:"\u0418\u043c\u044f/\u043d\u0438\u043a\u043d\u0435\u0439\u043c"})]}),Object(r.jsxs)("div",{className:"textarea-field",children:[Object(r.jsx)("p",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f"}),Object(r.jsx)("textarea",{className:"popup__textarea-input",name:"descriptionInput",id:"descriptionInput",onChange:function(a){e.onDescriptionChange(a.target.value)},value:e.placeholderData.about})]}),Object(r.jsxs)("div",{className:"address-input",children:[Object(r.jsx)(b.a,{address:e.profileState.address}),Object(r.jsx)("button",{className:"highlighted sup-btn",onClick:function(a){e.onSaveNewAddress({name:e.LeafletMapData.name,lat:e.LeafletMapData.lat,lng:e.LeafletMapData.lng})},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]}),Object(r.jsxs)("div",{className:"list-input-field popup__input-block",children:[Object(r.jsx)("p",{children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u044b"}),null===(n=e.placeholderData.phone)||void 0===n?void 0:n.map((function(e,a){return Object(r.jsxs)("div",{className:"list-input-field__el-block","data-key":a,children:[Object(r.jsx)("span",{children:e}),Object(r.jsx)("button",{className:"el-block__delete-el",onClick:c,children:"x"})]},a)})),Object(r.jsxs)("form",{onSubmit:function(a){a.preventDefault(),e.onPhoneAdd(a.target.phonesInput.value)},children:[Object(r.jsx)("input",{className:"popup__text-input",type:"text",id:"phonesInput",name:"phonesInput",placeholder:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043f\u0440\u043e\u0431\u0435\u043b \u043f\u043e\u0441\u043b\u0435 \u0432\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043d\u043e\u043c\u0435\u0440\u0430...",onKeyDown:function(a){var t=a.target.value.split(" ").join("");9!==a.keyCode&&32!==a.keyCode||(a.preventDefault(),e.placeholderData.phone.length>1||-1===e.placeholderData.phone.indexOf(t)&&(e.onPhoneAdd(t),a.target.value=""))},maxLength:"12"}),Object(r.jsx)("button",{type:"submit",className:"sup-btn-circled",children:"+"})]})]})]})})),L=t(102),U=void 0,w=Object(i.b)((function(e){return{state:e,profileState:e.companyProfile,userState:e.user,placeholderData:e.companyProfile.placeholder,cropperData:e.companyProfile.buf.cropper}}),(function(e){return{onActivateCropper:function(a,t,n,c){e({type:"PROFILE_EMPLOYER_REDACT_ACTIVATE_IMAGE_CROPPER",payload:[a,t,n,c]})},onDeactivateCropper:function(){e({type:"PROFILE_EMPLOYER_REDACT_DEACTIVATE_IMAGE_CROPPER",payload:null})},onChangeAvatar:function(a){e({type:"PROFILE_EMPLOYER_REDACT_AVATAR_CHANGE",payload:a})},onChangePersonalBackground:function(a){e({type:"POPUP_EMPLOYER_REDACT_PERSONAL_BACKGROUND_CHANGE",payload:a})}}}))((function(e){var a=function(a,t,n,c){e.onDeactivateCropper(),setTimeout((function(){void 0!==a&&e.onActivateCropper(a,t,n,c)}),0)},t=function(a,t){if(console.log(a),void 0!==a){var n=E.a.storage().ref().child("user-"+t+e.userState.user.id);n.put(a).then((function(a){n.getDownloadURL().then((function(a){console.log(a),"avatar"===t?e.onChangeAvatar(a):"personal-background"===t&&e.onChangePersonalBackground(a)}))}))}},n=function(e,a){var n=e.target.files[0];t(n,a)},c=function(e){e.preventDefault()},s=function(e){e.preventDefault()},o=function(e){e.preventDefault()},l=function(e,a){e.preventDefault();var n=e.dataTransfer.files;console.log(n),t(n[0],a)};return Object(r.jsxs)("section",{className:"popup-redact-section",children:[Object(r.jsxs)("div",{className:"drop-container",onDragOver:c,onDragEnter:s,onDragLeave:o,onDrop:function(e){l(e,"avatar")},children:[Object(r.jsx)("input",{type:"file",id:"file-avatar",hidden:!0,name:"userAvatarInput",onChange:function(e){n(e,"avatar")}}),Object(r.jsx)("label",{className:"file-input rounded sup-btn",htmlFor:"file-avatar",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440"}),Object(r.jsx)("button",{className:"cropper-activate-btn",onClick:a.bind(U,e.placeholderData.photo_url,120,120,"avatar"),children:Object(r.jsx)("img",{src:L.a,alt:"\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"})}),Object(r.jsx)("div",{className:"drop-message",children:Object(r.jsx)("div",{className:"upload-icon"})})]}),Object(r.jsxs)("div",{className:"drop-container",onDragOver:c,onDragEnter:s,onDragLeave:o,onDrop:function(e){l(e,"personal-background")},children:[Object(r.jsx)("input",{type:"file",id:"file-back",hidden:!0,name:"userBackgroundInput",onChange:function(e){n(e,"personal-background")}}),Object(r.jsx)("label",{className:"file-input rounded sup-btn",htmlFor:"file-back",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0437\u0430\u0434\u043d\u0438\u0439 \u0444\u043e\u043d"}),Object(r.jsx)("button",{className:"cropper-activate-btn",onClick:a.bind(U,e.placeholderData.profile_background,700,160,"personal-background"),children:Object(r.jsx)("img",{src:L.a,alt:"\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"})}),Object(r.jsx)("div",{className:"drop-message",children:Object(r.jsx)("div",{className:"upload-icon"})})]})]})})),Y=t(103),B=t(104),M=function(e){Object(s.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var c=arguments.length,s=new Array(c),o=0;o<c;o++)s[o]=arguments[o];return(e=a.call.apply(a,[this].concat(s))).saveRedactProfileFormChanges=function(a){a.preventDefault();var t={user_id:e.props.userState.user.id,name:e.props.placeholderData.name,mailing:!0,address:e.props.placeholderData.address,phone:e.props.placeholderData.phone,about:e.props.placeholderData.about,links:[],profile_link:"",photo_url:e.props.placeholderData.photo_url,profile_background:e.props.placeholderData.profile_background};console.log(t),e.props.onUpdateEmployer(t,e.props.userState.user.id,e.props.onGetEmployer,e.props.onHasProfile),e.props.onPopupRedactProfileDeactivate()},e}return Object(c.a)(t,[{key:"popupClose",value:function(e){e.preventDefault(),this.props.onPopupRedactProfileDeactivate()}},{key:"changeSection",value:function(e){this.props.onChangeSection(e)}},{key:"render",value:function(){return Object(r.jsx)("div",{className:"no-fix-blur-box rounded profile-redact "+this.props.profileState.state,children:Object(r.jsxs)("div",{className:"profile-redact__popup-wrapper",children:[Object(r.jsx)(V,{}),Object(r.jsxs)("div",{className:"profile-redact__form",children:[Object(r.jsxs)("div",{className:"profile-redact__form-nav",children:[Object(r.jsx)("button",{className:"popup-nav-btn rounded "+("baseInfo"===this.props.profileState.popupRedactActiveSection?"active":""),onClick:this.changeSection.bind(this,"baseInfo"),children:Object(r.jsx)("img",{src:Y.a,alt:"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"})}),Object(r.jsx)("button",{className:"popup-nav-btn rounded "+("images"===this.props.profileState.popupRedactActiveSection?"active":""),onClick:this.changeSection.bind(this,"images"),children:Object(r.jsx)("img",{src:B.a,alt:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f"})})]}),"baseInfo"===this.props.profileState.popupRedactActiveSection?Object(r.jsx)(S,{}):"","images"===this.props.profileState.popupRedactActiveSection?Object(r.jsx)(w,{}):"",Object(r.jsx)("button",{className:"form-submit-btn f-large rounded bold",onClick:this.saveRedactProfileFormChanges,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"}),Object(r.jsx)("button",{className:"profile-redact__close-popup-btn",onClick:this.popupClose.bind(this),tabIndex:"-1",children:"x"})]})]})})}}]),t}(l.Component),H=Object(i.b)((function(e){return{profileState:e.companyProfile,userState:e.user,placeholderData:e.companyProfile.placeholder,loaderActive:e.nav.popup.loaderActive,cropperActive:e.companyProfile.buf.cropper.state,cropperData:e.companyProfile.buf.cropper}}),(function(e){return{onPopupRedactProfileDeactivate:function(){e({type:"POPUP_EMPLOYER_REDACT_PROFILE_DEACTIVATE",payload:null})},onChangeSection:function(a){e({type:"POPUP_EMPLOYER_REDACT_CHANGE_SECTION",payload:a})},onActivateLoader:function(){e({type:"POPUP_EMPLOYER_REDACT_ACTIVATE_LOADER",payload:null})},onDeactivateLoader:function(){e({type:"POPUP_EMPLOYER_REDACT_DEACTIVATE_LOADER",payload:null})},onCreateNewEmployer:function(a,t,n,c){e({type:"WAITING_FOR_FETCH",payload:null}),e(Object(f.g)(a)).then((function(e){return n(t,c)}))},onUpdateEmployer:function(a,t,n,c){e({type:"WAITING_FOR_FETCH",payload:null}),e(Object(f.B)(a,t)).then((function(e){return n(t,c)}))},onHasProfile:function(){e({type:"USER_HAS_PROFILE",payload:null})},onGetEmployer:function(a,t){e(Object(f.l)(a)).then((function(e){null!==e.userData&&(console.log(e.userData),t())}))}}}))(M),F=(t(127),t(28)),G=function(e){Object(s.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var c=arguments.length,s=new Array(c),o=0;o<c;o++)s[o]=arguments[o];return(e=a.call.apply(a,[this].concat(s))).initPlaceholder=function(){e.props.onInitializeProfileData({state:"muted",popupRedactActiveSection:"baseInfo",placeholder:e.props.userData,buf:{cropper:{state:!1,file:"",maxWidth:0,maxHeight:0,instance:{},imageType:""}}})},e}return Object(c.a)(t,[{key:"checkIfNotNull",value:function(e,a){return"undefined"!==typeof e&&null!==e&&""!==e?e:a}},{key:"componentDidMount",value:function(){this.props.userState.logged&&this.props.userFetchId===String(this.props.userState.user.id)?(console.log(this.props.userState.user),this.props.onGetLoggedEmployerFetch(this.props.userFetchId,this.props.onHasProfile,this.initPlaceholder,this.props.history)):this.props.onGetEmployer(this.props.userFetchId,this.props.onHasProfile,this.props.history),console.log(this.props.userFetchId),this.props.onGetVacancies(this.props.userFetchId)}},{key:"render",value:function(){return 0!==Object.keys(this.props.userData).length?Object(r.jsxs)("div",{className:"small-container profile-wrapper",children:[Object(r.jsxs)("div",{className:"profile__main",children:[Object(r.jsx)(y,{}),Object(r.jsx)(A,{})]}),Object(r.jsx)("div",{className:"profile__side",children:Object(r.jsx)(m,{})}),"active"===this.props.profileState.state?Object(r.jsx)(H,{}):""]}):Object(r.jsx)(F.a,{active:!0})}}]),t}(l.Component);a.default=Object(i.b)((function(e,a){return{userFetchId:a.match.params.id,history:a.history,profileState:e.companyProfile,userState:e.user,userData:e.userData,placeholderData:e.companyProfile.placeholder,resumeData:e.cvs}}),(function(e){return{onInitializeProfileData:function(a){e({type:"POPUP_EMPLOYER_REDACT_INITIALIZE_PROFILE",payload:a})},onHasProfile:function(){e({type:"USER_HAS_PROFILE",payload:null})},onGetLoggedEmployerFetch:function(a,t,n,c){e(Object(f.l)(a)).then((function(e){null!==e.userData&&"404"!==e.userData?("empty"!==e.userData.profile_link&&t(),n()):c.push("/landing")}))},onGetEmployer:function(a,t,n){e(Object(f.l)(a)).then((function(e){null!==e.userData&&"404"!==e.userData?t():n.push("/landing")}))},onGetVacancies:function(a){e(Object(f.t)(a)).then((function(a){null!==a.data&&"404"!==a.data&&(a.data.map((function(e){return e.state=""})),e({type:"INITIALIZE_VACANCY_PLACEHOLDER",payload:a.data}))}))}}}))(G)},96:function(e,a,t){"use strict";var n=t(15),c=t(16),s=t(18),o=t(17),r=t(2),l=t(4),i=t(19),p=t(25),d=t(14),u=(t(97),function(e){Object(s.a)(t,e);var a=Object(o.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.onGetVacancy(this.props.id)}},{key:"popupClose",value:function(e){e.preventDefault(),this.props.onCloseVacancyPopup()}},{key:"render",value:function(){return console.log(Object.keys(this.props.openedVacancy).length),0!==Object.keys(this.props.openedVacancy).length?Object(r.jsx)("div",{className:"blur-box active",onClick:this.popupClose.bind(this),children:Object(r.jsxs)("div",{className:"resume resumes-list-el popup-wrapper rounded",children:[Object(r.jsxs)("section",{className:"resume-main",children:[Object(r.jsxs)("div",{className:"resume__header white top-rounded "+this.props.openedVacancy.bg_header_color,children:[Object(r.jsxs)("div",{className:"resume__header-top",children:[Object(r.jsx)("h2",{className:"resume__header__name bold f-large",children:this.props.openedVacancy.vacancy_name}),Object(r.jsxs)("p",{children:[Object(r.jsx)("span",{className:"resume__header__salary bold f-medium",children:this.props.openedVacancy.salary}),Object(r.jsx)("span",{className:"bold f-medium",children:" \u0440\u0443\u0431."})]})]}),Object(r.jsxs)("div",{className:"resume__header-bottom",children:[Object(r.jsx)("p",{className:"resume__header__grade",children:Object(p.d)(this.props.openedVacancy.grade)}),Object(r.jsx)("p",{className:"resume__publication-date sup",children:this.props.openedVacancy.pub_date.slice(0,10)})]})]}),Object(r.jsxs)("div",{className:"resume__main-info bottom-rounded full-width",children:[Object(r.jsx)("p",{className:"resume__industry f-pre",children:this.props.openedVacancy.industry}),Object(r.jsx)("p",{className:"resume__work-type",children:this.props.openedVacancy.work_type.map((function(e){return Object(p.f)(e)})).join(", ")}),Object(r.jsxs)("div",{className:"vacancy__about",children:[Object(r.jsx)("p",{children:this.props.openedVacancy.leading}),Object(r.jsx)("ul",{className:"vacancy__about__body-list",children:this.props.openedVacancy.body.map((function(e,a){return Object(r.jsxs)("li",{children:[Object(r.jsx)("h3",{className:"bold f-large",children:e.title}),Object(r.jsx)("h4",{className:"bold f-medium",children:e.subtitle}),Object(r.jsx)("ul",{className:"vacancy__about__body-list__points-list",children:e.points.map((function(e,a){return Object(r.jsx)("li",{children:e},a)}))})]},a)}))}),Object(r.jsx)("p",{children:this.props.openedVacancy.trailing})]}),Object(r.jsx)("ul",{className:"resume__tags-list",children:this.props.openedVacancy.tags.map((function(e,a){return Object(r.jsx)("li",{className:"resume__tags-list-el",children:e},a)}))})]})]}),Object(r.jsx)("button",{className:"close-popup-btn",onClick:this.popupClose.bind(this),tabIndex:"-1",children:"x"})]})}):""}}]),t}(l.Component));a.a=Object(d.b)((function(e,a){return{openedVacancy:e.buf.openedVacancy,id:a.id}}),(function(e){return{onGetVacancy:function(a){e(Object(i.u)(a))},onCloseVacancyPopup:function(){e({type:"CLOSE_VACANCY_POPUP",payload:null})}}}))(u)},97:function(e,a,t){}}]);
//# sourceMappingURL=5.2b395960.chunk.js.map