{"version":3,"sources":["components/Profile/Main/Main.js","components/Profile/Side/Side.js","components/Profile/Resumes/ResumeRedactPopup/ResumeRedactPopup.js","components/ResumePopup/ResumePopup.js","components/Profile/Resumes/Resumes.js","components/Profile/ProfileRedactPopup/ImageCropper.js","components/Profile/ProfileRedactPopup/MainPlaceholder.js","components/Profile/ProfileRedactPopup/redactPopupSections/RedactPopupSectionBaseInfo.js","components/Profile/ProfileRedactPopup/redactPopupSections/RedactPopupSectionExperience.js","components/Profile/ProfileRedactPopup/redactPopupSections/RedactPopupSectionImages.js","img/experience.svg","components/Profile/ProfileRedactPopup/ProfileRedactPopup.js","components/Profile/Profile.js"],"names":["Main","props","convertIntToDay","num","toggleMapPopup","state","mapPopupState","setState","redactProfile","onPopupRedactProfileActivate","this","userState","user","user_type","className","el","returnValue","console","log","userData","hasProfile","style","backgroundImage","checkOnEmpty","profile_background","personalBackground","src","photo_url","placeholderAvatar","alt","id","onClick","editIcon","name","about","birthday","substring","gender","address","LeafletMap","citizenship","phone","language","education","experience","length","map","index","href","grade","schedule","start_time","end_time","day","profession","university","getEducationValues","type","start_year","end_year","position","company","getGradeValues","goPhrase","plusIcon","Component","connect","dispatch","onSubjectChangeToEmployer","payload","Side","ResumeRedactPopup","changeVacancyName","e","check","checkStringInput","target","value","onVacancyNameChange","resumeIndex","onInputMistake","changeGradeValue","onGradeValueChange","changeSalary","checkIntInput","onSalaryValueChange","parseInt","resumePlaceholder","salary","changeIndustryValue","onIndustryValueChange","workTypeDelete","preventDefault","parentElement","dataset","key","onWorkTypeDelete","resumeWorkType","workTypeInput","indexOf","onWorkTypeAdd","changeAboutValue","onAboutValueChange","saveResumeFormChanges","data","cvPlaceholder","vacancy_name","industry","work_type","tags","bg_header_color","resumeData","cvs","onSaveResumeFormChanges","tagDelete","onTagDelete","tagInput","split","join","keyCode","resumeTags","onTagAdd","closeRedactPopup","onPopupRedactResumeDeactivate","deleteResume","onPopupRedactResumeDelete","changeResumeHeaderColor","onResumeHeaderColorChange","resumeState","addStyle","required","placeholder","onChange","bind","closeIcon","deleteIcon","industries","item","data-key","getWorkTypeValues","tag","onKeyDown","ownProps","newCv","onAddResume","addResume","then","newCvId","userId","getUserResumes","color","tagId","workType","workTypeId","text","resumeId","redactResume","mistakeStr","ResumePopup","onGetResume","onCloseResumePopup","Object","keys","openedResume","popupClose","pub_date","slice","tabIndex","buf","getResume","Resumes","fetch","headers","response","json","onPopupNewResumeActivate","onPopupRedactResumeActivate","openResumeInfo","onOpenResumeInfo","logged","cvData","openedResumeId","newCvData","ImageCropper","cropUserImage","file","maxWidth","maxHeight","imageType","onDeactivateCropper","setTimeout","undefined","onActivateCropper","loadImageToFirebase","image","fileRef","fileUploader","storage","ref","child","put","getDownloadURL","onChangeAvatar","onChangePersonalBackground","getCropperData","cropperData","instance","croppedImage","dataURLtoBlob","getCroppedCanvas","toDataURL","dataurl","arr","mime","match","bstr","atob","n","u8arr","Uint8Array","charCodeAt","Blob","loadUserImage","files","deactivateCropper","cropperFile","onSetCropperFile","cropperActive","background","width","height","overflow","avatar","backgroundColor","aspectRatio","cropperMaxWidth","cropperMaxHeight","preview","viewMode","dragMode","guides","minCropBoxHeight","minCropBoxWidth","responsive","autoCropArea","checkOrientation","onInitialized","setCropperInstance","uploadIcon","profile","cropper","fileUrl","MainPlaceholder","avatarPhoto","userName","userDescription","userBirthday","userGender","userCz","userAddress","userPhones","userLanguages","userEducation","userExperience","placeholderData","description","onUpdateUserName","profileState","LeafletMapData","leafletMap","onUsernameChange","username","onDescriptionChange","onBDayChange","onCzChange","onAddressChange","onSaveNewAddress","onChangeGenderToMale","onChangeGenderToFemale","onLanguageAdd","onLanguageGradeChange","onLanguageDelete","languageId","onScheduleAdd","onScheduleDayChange","onScheduleStartTimeChange","time","onScheduleEndTimeChange","onScheduleDelete","scheduleId","onPhoneAdd","onPhoneDelete","phoneId","onCityChange","changeGender","deleteLanguage","deleteSchedule","deletePhone","input","htmlFor","cz","lat","lng","onSubmit","phonesInput","languageInput","newLanguage","languageGrade","filter","newSchedule","scheduleStartTime","scheduleEndTime","scheduleDay","onEducationAdd","onEducationDelete","educationId","onExperienceAdd","onExperienceDelete","experienceId","educationDelete","experienceDelete","educationBlocksAmount","newEducation","professionInput","universityInput","educationTypeInput","educationStartDateInput","educationEndDateInput","newExperience","positionInput","companyInput","experienceTypeInput","experienceStartDateInput","experienceEndDateInput","dragOver","dragEnter","dragLeave","fileDrop","dataTransfer","onDragOver","onDragEnter","onDragLeave","onDrop","event","hidden","cropIcon","ProfileRedactPopup","saveRedactProfileFormChanges","onUpdateEmployee","onGetUserFetch","onHasProfile","onUpdateEmployer","onPopupRedactProfileDeactivate","section","onChangeSection","popupRedactActiveSection","changeSection","baseInfoIcon","experienceIcon","personalizationIcon","loaderActive","nav","popup","onActivateLoader","onDeactivateLoader","onCreateNewEmployee","createNewEmployee","onCreateNewEmployer","updateEmployee","getUserData","Profile","initPlaceholder","onInitializeProfileData","checkIfNotNull","profile_link","social_links","variable","def","userFetchId","String","onGetLoggedUserFetch","history","onGetResumes","Loader","active","params","push","fetchId"],"mappings":"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","file":"static/js/6.f36b0db0.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {getEducationValues} from '../../../scripts/commonScripts'\r\nimport {getGradeValues} from '../../../scripts/commonScripts'\r\n\r\nimport plusIcon from '../../../img/plusIcon.svg'\r\nimport placeholderAvatar from '../../../img/placeholder-avatar.jpg'\r\nimport './main.css'\r\nimport personalBackground from'../../../img/personal-background.png'\r\nimport LeafletMap from '../../leafletMap/LeafletMap'\r\n\r\nimport editIcon from '../../../img/edit.svg'\r\n\r\n\r\nclass Main extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            mapPopupState:''\r\n        };\r\n    }\r\n\r\n    convertIntToDay = (num) =>{\r\n        const days = [\r\n            'Понедельник',\r\n            'Вторник',\r\n            'Среда',\r\n            'Четверг',\r\n            'Пятница',\r\n            'Суббота',\r\n            'Воскресенье',\r\n        ]\r\n\r\n        return days[num]\r\n    }\r\n\r\n    toggleMapPopup = () =>{\r\n        if (this.state.mapPopupState === ''){\r\n            this.setState({mapPopupState:'active'})\r\n        }\r\n        else this.setState({mapPopupState:''})\r\n    }\r\n    \r\n    goPhrase(){\r\n        if (this.props.userState.user.user_type === \"employee\"){\r\n            return <p className=\"info__go-phrase highlighted\">Пора начать свою карьеру!</p>\r\n        }\r\n        return <p className=\"info__go-phrase highlighted\">Пора найти команду!</p>\r\n    }\r\n\r\n    checkOnEmpty(el, returnValue){\r\n        if (el !== \"\"){\r\n            return el\r\n        }\r\n\r\n        return returnValue\r\n    }\r\n\r\n    redactProfile = () =>{\r\n        this.props.onPopupRedactProfileActivate()\r\n    }\r\n\r\n    \r\n    render() {\r\n        console.log(this.props.userData)\r\n        if (this.props.userState.hasProfile){\r\n            return (\r\n                <div className=\"main rounded\">\r\n                    <section className=\"personal top-rounded\" style={{backgroundImage: `url(${this.checkOnEmpty(this.props.userData.profile_background, personalBackground)})`}}>\r\n                        <img className=\"personal__avatar\" src={this.checkOnEmpty(this.props.userData.photo_url, placeholderAvatar)} alt=\"аватар\"/>\r\n                        \r\n                        {this.props.userState.user.id === this.props.userData.user ? (\r\n                            <button className=\"profile-redact-btn\"  onClick={this.redactProfile}>\r\n                                <img src={editIcon} alt=\"editIcon\"/>\r\n                            </button>\r\n                        ) : ('')}\r\n\r\n                    </section>\r\n    \r\n                    <section className=\"info\">\r\n                        <div className=\"info-head\">\r\n                            <h2 className=\"info__name bold\">{this.props.userData.name}</h2>\r\n                        </div>\r\n                        \r\n                        <p className=\"info__description\">{this.props.userData.about}</p>\r\n\r\n                        <div className=\"info__common-info\">\r\n                            <p className=\"info__common-info__birthday\">{this.props.userData.birthday?.substring(0, 10)}</p>\r\n                            <p className={\"info__common-info__gender \" + this.props.userData.gender}></p>\r\n                            {this.props.userData.address ?\r\n                                <div className=\"address__popup-block\">\r\n                                    <span className=\"living__place underline-link\" onClick={this.toggleMapPopup}>{this.props.userData.address.name}</span>\r\n\r\n                                    {this.state.mapPopupState === 'active' ? \r\n                                        <div className ={\"map-popup rounded\"}>\r\n                                            <button className=\"map-popup__closer-btn\" onClick={this.toggleMapPopup}>x</button>\r\n                                            <LeafletMap address={this.props.userData.address}></LeafletMap>\r\n                                        </div>\r\n                                    : ''}\r\n                                </div>\r\n                            : ''}\r\n                            <p className=\"living__cz\">{this.props.userData.citizenship}</p>\r\n\r\n                        </div>\r\n                        {this.props.userData.phone && this.props.userData.language && this.props.userData.education && this.props.userData.experience ?\r\n                            <div>\r\n                                {this.props.userData.phone.length !== 0 ? (\r\n                                <div className=\"info__contacts\">\r\n                                    <p>Контакты:</p>\r\n                                    <div className=\"info__contacts__phones\">\r\n                                        {this.props.userData.phone.map((phone, index) => <a key={index} className=\"contacts__phones-el\" href={\"tel:\"+phone}>{phone}</a> )}\r\n                                    </div>\r\n                                </div>):('')}\r\n\r\n                            {this.props.userData.language.length !== 0 ? (\r\n                            <div className=\"info__languages\">\r\n                                <p>Владение языками:</p>\r\n                                {this.props.userData.language.map((language, index) => <a key={index} className=\"languages-el\">{language.language + ' - ' + language.grade}</a> )}\r\n                            </div>):('')}\r\n                            {this.props.userData.schedule.length !== 0 ? (\r\n                            <div className=\"info__languages\">\r\n                                <p>Желательный график:</p>\r\n                                {this.props.userData.schedule.map((schedule, index) => <a key={index} className=\"schedule-el\">{schedule.start_time + ' - ' + schedule.end_time + '(' + this.convertIntToDay(schedule.day) + ')'}</a> )}\r\n                            </div>):('')}\r\n                            {this.props.userData.education.length!== 0 ?(\r\n                                <div className=\"info__education\">\r\n                                    <h3 className=\"education-head bold headed\">Образование:</h3>\r\n                                    {this.props.userData.education.map((el, index)=>{\r\n                                        return (\r\n                                            <div className=\"education-block\" key={index}>\r\n                                                <p className=\"education-name highlighted\">{el.profession}</p>\r\n                                                <div className=\"education-place\">\r\n                                                    <p className=\"education-place__institution\">{el.university},</p>\r\n                                                    <p className=\"education-place__grade\">&nbsp;{getEducationValues(el.type)}</p>     \r\n                                                    <p className=\"education-place__longing\">{el.start_year.substring(0, 10) + ' - ' + el.end_year.substring(0, 10)}</p>\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    })}\r\n                                </div>):('')}\r\n                                                \r\n                            {this.props.userData.experience.length!== 0 ? (\r\n                                <div className=\"info__work-experience\">\r\n                                    <h3 className=\"courses-head bold headed\">Опыт Работы:</h3>\r\n                                    {this.props.userData.experience.map((el, index)=>{\r\n                                        return (\r\n                                            <div className=\"education-block\" key={index}>\r\n                                                <p className=\"education-name highlighted\">{el.position}</p>\r\n                                                <div className=\"education-place\">\r\n                                                    <p className=\"education-place__institution\">{el.company},</p>\r\n                                                    <p className=\"education-place__grade\">&nbsp;{getGradeValues(el.type)},</p>     \r\n                                                    <p className=\"education-place__longing\">{el.start_year.substring(0, 10) + ' - ' + (el.end_year !== '' ? el.end_year.substring(0, 10) : 'по настоящее время')}</p>\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    })}\r\n                                </div>):('')}\r\n                            </div>\r\n                         : ''}\r\n                        \r\n                        \r\n                    </section>\r\n                </div>\r\n                \r\n            )\r\n        }\r\n        \r\n        else if (this.props.userState.user.id === this.props.userData.user){\r\n        return(\r\n            <div className=\"main rounded\">\r\n                <section className=\"personal top-rounded\" style={{backgroundImage: `url(${this.checkOnEmpty(this.props.userData.profile_background, personalBackground)})`}}>\r\n                    <img className=\"personal__avatar\" src={this.checkOnEmpty(this.props.userData.photo_url, placeholderAvatar)} alt=\"аватар\"/>\r\n                </section>\r\n                <section className=\"info\">\r\n                    <div className=\"info-head\">\r\n                        <h2 className=\"info__name bold\">{this.props.userData.name}</h2>\r\n                    </div>\r\n                    <div>\r\n                        <p className=\"info__description\">Чтобы создать профиль нажмите на кнопку и введите информацию о себе!</p>\r\n                        {this.goPhrase()}\r\n\r\n                        <button className=\"profile-add-btn\" onClick={this.redactProfile}>\r\n                            <img src={plusIcon} alt=\"plusIcon\"/>\r\n                        </button> \r\n                    </div>\r\n                </section>\r\n            </div>\r\n        )}\r\n        else\r\n        return(\r\n            <div className=\"main rounded\">\r\n                <section className=\"personal top-rounded\" style={{backgroundImage: `url(${this.checkOnEmpty(this.props.userData.profile_background, personalBackground)})`}}>\r\n                    <img className=\"personal__avatar\" src={this.checkOnEmpty(this.props.userData.photo_url, placeholderAvatar)} alt=\"аватар\"/>\r\n                </section>\r\n\r\n                <section className=\"info\">\r\n                    <div className=\"info-head\">\r\n                        <h2 className=\"info__name bold\">{this.props.userData.name}</h2>\r\n                    </div>\r\n                    <div>\r\n                        <p className=\"info__description\">Профиль пуст!</p>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        )\r\n\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) =>{\r\n    return {\r\n      userState: state.user,\r\n      userData: state.userData\r\n    }\r\n  }\r\n  \r\n  const mapDispatchToProps = (dispatch) =>{\r\n    return{\r\n      onSubjectChangeToEmployer: () => {\r\n        dispatch({type : 'CHANGE_SUBJECT_TO_EMPLOYER', payload:null})\r\n      },\r\n      onPopupRedactProfileActivate: () => {\r\n        dispatch({type : 'POPUP_REDACT_PROFILE_ACTIVATE', payload:null})\r\n      },\r\n     \r\n    }\r\n  }\r\n  \r\n  export default connect(mapStateToProps, mapDispatchToProps)(Main);\r\n","import React, { Component } from 'react'\r\nimport './side.css'\r\n\r\nexport default class Side extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"side rounded\">\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { addResume, redactResume, getUserResumes, deleteResume } from '../../../../actions/serverConnections'\r\nimport closeIcon from '../../../../img/close.svg'\r\nimport deleteIcon from '../../../../img/trash.svg'\r\nimport {checkStringInput, checkIntInput, getWorkTypeValues} from '../../../../scripts/commonScripts.js'\r\nimport industries from '../../../../jsonFiles/industries.json'\r\n\r\n\r\nclass ResumeRedactPopup extends Component {\r\n    changeVacancyName = (e) =>{\r\n        const check = checkStringInput(e.target.value, 35, 0);\r\n\r\n        check === \"pass\" ? \r\n        this.props.onVacancyNameChange(e.target.value, this.props.resumeIndex) : \r\n        (this.props.onInputMistake(check, e.target));\r\n    }\r\n\r\n    changeGradeValue = (e) =>{\r\n        this.props.onGradeValueChange(e.target.value, this.props.resumeIndex)\r\n    }\r\n\r\n    changeSalary = (e) =>{\r\n        const check = checkIntInput(e.target.value, 9999999, null);\r\n\r\n        check === \"pass\" ? \r\n        this.props.onSalaryValueChange(parseInt(e.target.value), this.props.resumeIndex):\r\n        (this.props.onInputMistake(check, e.target))\r\n        console.log(this.props.resumePlaceholder.salary)\r\n\r\n        if (e.target.value  === ''){\r\n            this.props.onSalaryValueChange(null, this.props.resumeIndex)\r\n        }\r\n    }\r\n\r\n    changeIndustryValue = (e) =>{\r\n        this.props.onIndustryValueChange(e.target.value, this.props.resumeIndex)\r\n    }\r\n\r\n    workTypeDelete = (e) =>{\r\n        e.preventDefault()\r\n        console.log(e.target.parentElement.dataset.key)\r\n        this.props.onWorkTypeDelete(this.props.resumeWorkType[e.target.parentElement.dataset.key], this.props.resumeIndex)\r\n    }\r\n\r\n    workTypeInput = (e) =>{\r\n        const value = e.target.value\r\n        e.preventDefault()\r\n        if(this.props.resumeWorkType.length > 5){\r\n\r\n        }\r\n        else if(this.props.resumeWorkType.indexOf(value) === -1){\r\n            this.props.onWorkTypeAdd(value, this.props.resumeIndex)\r\n            e.target.value = ''\r\n        }\r\n    }\r\n    \r\n\r\n    changeAboutValue = (e) =>{\r\n        this.props.onAboutValueChange(e.target.value, this.props.resumeIndex)\r\n    }\r\n\r\n    saveResumeFormChanges = (e) => {\r\n        e.preventDefault();\r\n        console.log(this.props.resumePlaceholder.salary)\r\n        let data = {\r\n            \"id\":this.props.cvPlaceholder.id,\r\n            \"user_id\": this.props.userData.id,\r\n            \"vacancy_name\": this.props.resumePlaceholder.vacancy_name,\r\n            \"industry\": this.props.resumePlaceholder.industry || 'Не указано',\r\n            \"grade\": this.props.resumePlaceholder.grade || 'internship',\r\n            \"salary\": this.props.resumePlaceholder.salary === null ? -1 : this.props.resumePlaceholder.salary,\r\n            \"work_type\": this.props.resumePlaceholder.work_type,\r\n            \"tags\": this.props.resumePlaceholder.tags,\r\n            \"about\": this.props.resumePlaceholder.about,\r\n            \"bg_header_color\": this.props.resumePlaceholder.bg_header_color,\r\n            \"portfolio\": [],\r\n        }\r\n        if (this.props.resumeData.cvs.length === this.props.resumeIndex || this.props.resumeData.cvs.length === 0){\r\n            this.props.onSaveResumeFormChanges(data, -1, this.props.userData.id, this.props.resumePlaceholder.vacancy_name)\r\n        }\r\n        else this.props.onSaveResumeFormChanges(data, this.props.resumeIndex, this.props.userData.id, this.props.cvPlaceholder.id)\r\n\r\n        console.log(data)\r\n    }\r\n\r\n    tagDelete = (e) =>{\r\n        e.preventDefault()\r\n        console.log(e.target.parentElement.dataset.key)\r\n        this.props.onTagDelete(this.props.resumePlaceholder.tags[e.target.parentElement.dataset.key], this.props.resumeIndex)\r\n    }\r\n\r\n    tagInput = (e) =>{\r\n        console.log(e)\r\n        const value = e.target.value.split(' ').join('')\r\n        if (e.keyCode === 9 || e.keyCode === 32){\r\n            e.preventDefault()\r\n            if(this.props.resumePlaceholder.tags.length > 10){\r\n\r\n            }\r\n            else if(this.props.resumeTags.indexOf(value) === -1){\r\n                this.props.onTagAdd(value, this.props.resumeIndex)\r\n                e.target.value = ''\r\n            }\r\n        }\r\n    }\r\n\r\n    closeRedactPopup = (e) =>{\r\n        e.preventDefault()\r\n        this.props.onPopupRedactResumeDeactivate(this.props.resumeIndex)\r\n    }\r\n\r\n    deleteResume = (e) =>{\r\n        e.preventDefault()\r\n        this.props.onPopupRedactResumeDelete(this.props.resumeData.cvs[this.props.resumeIndex].id, this.props.userData.id)\r\n    }\r\n\r\n    changeResumeHeaderColor = (e) =>{\r\n\r\n        e.preventDefault()\r\n        this.props.onResumeHeaderColorChange(e.target.value, this.props.resumeIndex)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form className={\"rounded resume-redact-block \"+this.props.resumeState} style={this.props.addStyle}>\r\n                <div className={\"resume__header white top-rounded \"+this.props.cvPlaceholder.bg_header_color}>\r\n                    <div className=\"resume__header-top\">\r\n                        <input required type=\"text\" className=\"resume__header__name bold f-large white\" placeholder=\"Название профессии\" onChange={this.changeVacancyName.bind(this)} value={this.props.resumePlaceholder.vacancy_name}/>\r\n                        <p className=\"resume__header__salary\"><input required type=\"number\" className=\"resume__header__salary-input bold f-pre white\" placeholder=\"Желаемая зарплата\" onChange={this.changeSalary.bind(this)} value={this.props.resumePlaceholder.salary === 0 || this.props.resumePlaceholder.salary === -1 || this.props.resumePlaceholder.salary === null ? '' :this.props.resumePlaceholder.salary }/><span className=\"bold f-pre\"> руб.</span></p>\r\n                    </div>\r\n                    <div className=\"resume__header-bottom\">\r\n                        <p className=\"resume__header__grade\">\r\n                            <select required className=\"white resume__header__grade-input bg-transparent\" id={\"resume-gradeInput-\"+this.props.index} name={\"resume-gradeInput-\"+this.props.index} onChange={this.changeGradeValue.bind(this)} value={this.props.resumePlaceholder.grade}>\r\n                                <option className=\"bg-light-black\" value=\"internship\">Стажер</option>\r\n                                <option className=\"bg-light-black\" value=\"junior\">Начинающий специалист</option>\r\n                                <option className=\"bg-light-black\" value=\"middle\">Специалист</option>\r\n                                <option className=\"bg-light-black\" value=\"senior\">Главный специалист</option>\r\n                                <option className=\"bg-light-black\" value=\"director\">Управляющий отдела</option>\r\n                                <option className=\"bg-light-black\" value=\"senior-director\">Генеральный директор</option>\r\n                            </select>\r\n                        </p>\r\n                        <ul className=\"resume__header-color\">\r\n                            <button className={\"resume__header-color-el bg-light-black \" + (this.props.cvPlaceholder.bg_header_color === 'bg-light-black' ? ('selected'):(''))} onClick={this.changeResumeHeaderColor} value=\"bg-light-black\"/>\r\n                            <button className={\"resume__header-color-el bg-blue-gray \" + (this.props.cvPlaceholder.bg_header_color === 'bg-blue-gray' ? ('selected'):(''))} onClick={this.changeResumeHeaderColor} value=\"bg-blue-gray\"/>\r\n                            <button className={\"resume__header-color-el bg-blue-black \" + (this.props.cvPlaceholder.bg_header_color === 'bg-blue-black' ? ('selected'):(''))} onClick={this.changeResumeHeaderColor} value=\"bg-blue-black\"/>\r\n                            <button className={\"resume__header-color-el bg-violet-gray \" + (this.props.cvPlaceholder.bg_header_color === 'bg-violet-gray' ? ('selected'):(''))} onClick={this.changeResumeHeaderColor} value=\"bg-violet-gray\"/>\r\n                            <button className={\"resume__header-color-el bg-violet-black \" + (this.props.cvPlaceholder.bg_header_color === 'bg-violet-black' ? ('selected'):(''))} onClick={this.changeResumeHeaderColor} value=\"bg-violet-black\"/>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n\r\n                <button className=\"resume-close-btn\"  onClick={this.closeRedactPopup}>\r\n                    <img src={closeIcon} alt=\"closeIcon\"/>\r\n                </button>\r\n                {this.props.resumeIndex !== this.props.resumeData.cvs.length ?(\r\n                    <button className=\"resume-delete-btn\"  onClick={this.deleteResume}>\r\n                        <img src={deleteIcon} alt=\"deleteIcon\"/>\r\n                    </button>\r\n                ):('')}\r\n                \r\n\r\n                <div className=\"resume__main-info rounded\">\r\n                    <p className=\"resume__industry f-pre\">\r\n                        <span className=\"semi f-medium\">Отрасль: </span>\r\n                        <select required id={\"resume-industryInput-\"+this.props.index} name={\"resume-industryInput-\"+this.props.index} onChange={this.changeIndustryValue.bind(this)} value={this.props.resumePlaceholder.industry}>\r\n                            {industries.map((item)=>{\r\n                                return <option value={item.name}>{item.name}</option>\r\n                            })}\r\n                        </select>\r\n                    </p>\r\n\r\n                    <div className=\"resume__work-type-block input-list\">\r\n                        <p className=\"input-label semi f-medium\">Типы работ:</p>\r\n\r\n                        <ul className=\"resume__work-type-list\">\r\n                            {this.props.resumeWorkType.map((item, index)=>{\r\n                                return (\r\n                                    <li key={index} className=\"list-input-field__el-block\" data-key={index}>\r\n                                        <span>{getWorkTypeValues(item)}</span>\r\n                                        <button className=\"el-block__delete-el\" onClick={this.workTypeDelete}>x</button>\r\n                                    </li>\r\n                                )\r\n                            })}\r\n                        </ul>\r\n                        <div className=\"resume__work-type input-list\">\r\n                            Выберите, чтобы добавить...\r\n                            <select className=\"select-input\" name=\"workTypeInput\" id=\"workTypeInput\" onChange={this.workTypeInput.bind(this)}>\r\n                                <option value=\"part-day\">неполный день</option>\r\n                                <option value=\"full-day\">полный день</option>\r\n                                <option value=\"part-time\">частичная занятность</option>\r\n                                <option value=\"full-time\">полная занятность</option>\r\n                                <option value=\"volunteer\">волонтерство</option>\r\n                                <option value=\"one-time-job\">разовое задание</option>\r\n                                <option value=\"flexible-schedule\">гибкий график</option>\r\n                                <option value=\"shift-schedule\">сменный график</option>\r\n                                <option value=\"shift-method\">вахтовый метод</option>\r\n                                <option value=\"remote\">удаленная работа</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <p className=\"resume__about border-black rounded\"><textarea className=\"resume__about-input\" name=\"\" id=\"\" placeholder=\"Описание резюме\" onChange={this.changeAboutValue.bind(this)} value={this.props.resumePlaceholder.about}></textarea></p>\r\n\r\n                    {/* <ul className=\"resume__portfolio\">\r\n                        <li className=\"resume__portfolio-el\">\r\n                            <a className=\"resume__portfolio-el__link\" href=\"#\">\r\n                                <img src=\"\" alt=\"\"/>\r\n                            </a>\r\n                        </li>\r\n\r\n                        <li className=\"resume__portfolio-el\">\r\n                            <a className=\"resume__portfolio-el__link\" href=\"#\">\r\n                                <img src=\"\" alt=\"\"/>\r\n                            </a>\r\n                        </li>\r\n                    </ul> */}\r\n                    <div className=\"resume__tags-block input-list\">\r\n                        <ul className=\"resume__tags-list\">\r\n                            {this.props.resumeTags.map((tag, index)=>{\r\n                                return (\r\n                                    <li key={index} className=\"list-input-field__el-block\" data-key={index}>\r\n                                        <span>{tag}</span>\r\n                                        <button className=\"el-block__delete-el\" onClick={this.tagDelete}>x</button>\r\n                                    </li>\r\n                                )\r\n                            })}\r\n                        </ul>\r\n                        <input className=\"resume__tags-input input-list__input-block\" type=\"text\" onKeyDown={this.tagInput.bind(this)} placeholder=\"Введите тег и нажмите пробел...\"/>\r\n                    </div>\r\n                    \r\n                    <input type=\"submit\" className=\"form-submit-btn f-large rounded bold\" onClick={this.saveResumeFormChanges} value=\"Сохранить изменения\"/>\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) =>{\r\n    let cvPlaceholder\r\n    if (ownProps.index === state.cvs.cvs.length) {cvPlaceholder = state.cvs.newCv}\r\n    else {cvPlaceholder = state.cvs.placeholder[ownProps.index]}\r\n    return {\r\n        userData: state.user.user,\r\n        resumeData: state.cvs,\r\n        resumePlaceholder: cvPlaceholder,\r\n        resumeTags: cvPlaceholder.tags,\r\n        resumeWorkType:cvPlaceholder.work_type,\r\n        resumeState: cvPlaceholder.state,\r\n        resumeIndex: ownProps.index,\r\n        cvPlaceholder:cvPlaceholder\r\n    }\r\n  }\r\n  \r\nconst mapDispatchToProps = (dispatch) =>{\r\n    return{\r\n        onAddResume: (resumeData) => {\r\n            dispatch(addResume(resumeData))\r\n            .then((data)=>{\r\n                if (data.newCvId !== null && data.newCvId!=='404'){\r\n                }\r\n            })\r\n        },\r\n        onPopupRedactResumeDeactivate: (index) => {\r\n            dispatch({type : 'POPUP_REDACT_RESUME_DEACTIVATE', payload:index})\r\n        },\r\n        onPopupRedactResumeDelete: (index, userId) => {\r\n            dispatch(deleteResume(index))\r\n            .then(data => {\r\n                dispatch(getUserResumes(userId))\r\n                .then((data)=>{\r\n                    if (data.data !== null && data.data!=='404'){\r\n                        data.data.map(el=>el.state = '')\r\n                        dispatch({type : 'INITIALIZE_RESUME_PLACEHOLDER', payload:data.data}) \r\n                    }\r\n                })\r\n            })\r\n        },\r\n        onResumeHeaderColorChange: (color, resumeIndex) =>{\r\n            dispatch({type : 'POPUP_REDACT_RESUME_CHANGE_COLOR', payload:{'color': color, 'index': resumeIndex}})\r\n        },\r\n        onTagAdd: (tag, resumeIndex) => {\r\n            dispatch({type : 'POPUP_REDACT_RESUME_ADD_TAG', payload:{'tag': tag, 'index': resumeIndex}})\r\n        },\r\n        onTagDelete: (tagId, resumeIndex) => {\r\n            dispatch({type : 'POPUP_REDACT_RESUME_DELETE_TAG', payload:{'tagId': tagId, 'index': resumeIndex}})\r\n        },\r\n        onWorkTypeAdd: (workType, resumeIndex) => {\r\n            dispatch({type : 'POPUP_REDACT_RESUME_ADD_WORK_TYPE', payload:{'workType': workType, 'index': resumeIndex}})\r\n        },\r\n        onWorkTypeDelete: (workTypeId, resumeIndex) => {\r\n            dispatch({type : 'POPUP_REDACT_RESUME_DELETE_WORK_TYPE', payload:{'workTypeId': workTypeId, 'index': resumeIndex}})\r\n        },\r\n        onVacancyNameChange: (text, resumeIndex) => {\r\n            dispatch({type : 'POPUP_REDACT_RESUME_CHANGE_VACANCY_NAME', payload:{'text': text, 'index': resumeIndex}})\r\n        },\r\n        onGradeValueChange: (text, resumeIndex) => {\r\n            dispatch({type : 'POPUP_REDACT_RESUME_CHANGE_GRADE_VALUE', payload:{'text': text, 'index': resumeIndex}})\r\n        },\r\n        onIndustryValueChange: (text, resumeIndex) => {\r\n            dispatch({type : 'POPUP_REDACT_RESUME_CHANGE_INDUSTRY_VALUE', payload:{'text': text, 'index': resumeIndex}})\r\n        },\r\n        onAboutValueChange: (text, resumeIndex) => {\r\n            dispatch({type : 'POPUP_REDACT_RESUME_CHANGE_ABOUT_VALUE', payload:{'text': text, 'index': resumeIndex}})\r\n        },\r\n        onSalaryValueChange: (text, resumeIndex) => {\r\n            dispatch({type : 'POPUP_REDACT_RESUME_CHANGE_SALARY_VALUE', payload:{'text': text, 'index': resumeIndex}})\r\n        },\r\n        onSaveResumeFormChanges:(data, resumeIndex, userId, resumeId) => {\r\n            dispatch(resumeIndex===-1?(addResume(data)):(redactResume(data, resumeId)))\r\n            .then(data => dispatch({type : 'POPUP_REDACT_RESUME_DEACTIVATE', payload:resumeIndex}))\r\n            .then(data => {\r\n                dispatch(getUserResumes(userId))\r\n                .then((data)=>{\r\n                    if (data.data !== null && data.data!=='404'){\r\n                        data.data.map(el=>el.state = '')\r\n                        dispatch({type : 'INITIALIZE_RESUME_PLACEHOLDER', payload:data.data}) \r\n                    }\r\n                })\r\n            })\r\n        },\r\n        onInputMistake:(mistakeStr, el) => {\r\n            console.log(mistakeStr)\r\n        }\r\n    }\r\n    }\r\n  \r\nexport default connect(mapStateToProps, mapDispatchToProps)(ResumeRedactPopup);\r\n","import React, { Component } from 'react'\r\nimport {getResume} from '../../actions/serverConnections'\r\nimport {getGradeValues, getWorkTypeValues} from '../../scripts/commonScripts'\r\nimport { connect } from 'react-redux'\r\nimport './resumePopup.css'\r\n\r\nclass ResumePopup extends Component {\r\n    componentDidMount(){\r\n        this.props.onGetResume(this.props.id)\r\n    }\r\n\r\n    popupClose(e){\r\n        e.preventDefault()\r\n        this.props.onCloseResumePopup();\r\n    }\r\n\r\n    render() {\r\n        if (Object.keys(this.props.openedResume).length !== 0)\r\n        return (\r\n            <div className=\"blur-box active\" onClick={this.popupClose.bind(this)}>\r\n                <div className=\"resume resumes-list-el popup-wrapper rounded vacancy-info\">\r\n                    <section className=\"resume-main\">\r\n                        <div className={\"resume__header white top-rounded \" + this.props.openedResume.bg_header_color}>\r\n                            <div className=\"resume__header-top\">\r\n                                <h2 className=\"resume__header__name bold f-large\">{this.props.openedResume.vacancy_name}</h2>\r\n                                <p>\r\n                                    {this.props.openedResume.salary === -1 ? <span className=\"resume__header__salary bold f-medium\">Зарплата не указана</span>:\r\n                                    <span className=\"resume__header__salary bold f-medium\">{this.props.openedResume.salary} руб.</span>}\r\n                                </p>\r\n                            </div>\r\n                            <div className=\"resume__header-bottom\">\r\n                                <p className=\"resume__header__grade\">{getGradeValues(this.props.openedResume.grade)}</p>\r\n\r\n                                <p className=\"resume__publication-date sup\">{this.props.openedResume.pub_date.slice(0,10)}</p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"resume__main-info bottom-rounded full-width\">\r\n                            <p className=\"resume__industry f-pre\">{this.props.openedResume.industry}</p>\r\n\r\n                            <p className=\"resume__work-type\">{this.props.openedResume.work_type.map((el)=>getWorkTypeValues(el)).join(', ')}</p>\r\n\r\n                            <p>{this.props.openedResume.about}</p>\r\n                            \r\n                            <ul className=\"resume__tags-list\">\r\n                                {this.props.openedResume.tags.map((tag, index)=><li key={index} className=\"resume__tags-list-el\">{tag}</li>)}\r\n\r\n                            </ul>\r\n                        </div>\r\n                    </section>\r\n\r\n                    <button className=\"close-popup-btn\" onClick={this.popupClose.bind(this)} tabIndex=\"-1\">x</button>\r\n                </div>\r\n            </div>\r\n        \r\n        )\r\n        else return ''\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    openedResume:state.buf.openedResume,\r\n    id:ownProps.id\r\n})\r\n\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    onGetResume: (id) => {\r\n        dispatch(getResume(id))\r\n    },\r\n    onCloseResumePopup: () => {\r\n        dispatch({type : 'CLOSE_RESUME_POPUP', payload:null})\r\n\r\n    }\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ResumePopup);\r\n\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {getWorkTypeValues, getGradeValues} from '../../../scripts/commonScripts'\r\nimport plusIcon from '../../../img/plusIcon.svg'\r\nimport ResumeRedactPopup from './ResumeRedactPopup/ResumeRedactPopup'\r\nimport editIcon from '../../../img/edit.svg'\r\nimport ResumePopup from '../../ResumePopup/ResumePopup'\r\n\r\nclass Resumes extends Component {\r\n    addResume = (e) => {\r\n        return fetch('../new_cv.json', {\r\n            headers : { \r\n              'Content-Type': 'application/json',\r\n              'Accept': 'application/json'\r\n            }\r\n        })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            console.log(data)\r\n            data.user = this.props.userData.user\r\n            return data\r\n        })\r\n        .then (data => {\r\n            this.props.onPopupNewResumeActivate(data)\r\n            // return this.props.onAddResume(data, this.props.onPopupRedactResumeActivate)\r\n        })\r\n    }\r\n\r\n    redactResume = (index) =>{\r\n        this.props.onPopupRedactResumeActivate(index)\r\n    }\r\n\r\n    openResumeInfo = (id) =>{\r\n        this.props.onOpenResumeInfo(id)\r\n    }\r\n\r\n    render() { \r\n        return (\r\n            <div className=\"resumes-block\">\r\n                {this.props.userState.logged ? (this.props.cvData.cvs.length !== 0 ?(<h2>Ваши Резюме:</h2>):('')):(this.props.cvData.cvs.length !== 0 ?(<h2>Резюме:</h2>):(''))}\r\n                <ul className=\"resumes-list\">\r\n                    {this.props.cvData.cvs.length !== 0 ? \r\n                    (this.props.cvData.cvs.map((el, index)=>\r\n                            (\r\n                            <li key={index} className=\"resume resumes-list-el rounded\">\r\n                                {el.state==='active' ? (<ResumeRedactPopup index={index}></ResumeRedactPopup>) : ('')}\r\n                                <section className={\"resume-main \" + (el.state === 'active' ? ('muted'):(''))}>\r\n                                    <div className={\"resume__header white top-rounded \" + el.bg_header_color}>\r\n                                        <div className=\"resume__header-top\">\r\n                                            <h2 className=\"resume__header__name bold f-large\" onClick={this.openResumeInfo.bind(this, el.id)}>{el.vacancy_name}</h2>\r\n                                            {el.salary === -1 ? <span className=\"resume__header__salary bold f-medium\">Зарплата не указана</span>:\r\n                                            <span className=\"resume__header__salary bold f-medium\">{el.salary} руб.</span>}\r\n                                        </div>\r\n                                        <div className=\"resume__header-bottom\">\r\n                                            <p className=\"resume__header__grade\">{getGradeValues(el.grade)}</p>\r\n                                            <p className=\"resume__publication-date sup\">{el.pub_date.slice(0,10)}</p>\r\n                                        </div>\r\n                                    </div>\r\n            \r\n                                    <div className=\"resume__main-info rounded\">\r\n                                        <p className=\"resume__industry f-pre\">{el.industry}</p>\r\n            \r\n                                        <p className=\"resume__work-type\">{el.work_type.map((item)=>getWorkTypeValues(item)).join(', ')}</p>\r\n            \r\n                                        <p className=\"resume__about\">{el.about}</p>\r\n            \r\n                                        {/* <ul className=\"resume__portfolio\">\r\n                                            <li className=\"resume__portfolio-el\">\r\n                                                <a className=\"resume__portfolio-el__link\" href=\"#\">\r\n                                                    <img src=\"\" alt=\"\"/>\r\n                                                </a>\r\n                                            </li>\r\n            \r\n                                            <li className=\"resume__portfolio-el\">\r\n                                                <a className=\"resume__portfolio-el__link\" href=\"#\">\r\n                                                    <img src=\"\" alt=\"\"/>\r\n                                                </a>\r\n                                            </li>\r\n                                        </ul> */}\r\n            \r\n                                        <ul className=\"resume__tags-list\">\r\n                                            {el.tags.map((tag, index)=><li key={index} className=\"resume__tags-list-el\">{tag}</li>)}\r\n\r\n                                        </ul>\r\n                                    </div>\r\n                                </section>\r\n                                {this.props.userState.logged && this.props.userState.user.id === this.props.userData.user?(\r\n                                    <button className=\"resume-redact-btn\"  onClick={this.redactResume.bind(this, index)}>\r\n                                        <img src={editIcon} alt=\"editIcon\"/>\r\n                                    </button>\r\n                                ):('')}\r\n                                \r\n                            </li>\r\n                            )\r\n                        )\r\n                    ):('')}\r\n\r\n                    {this.props.cvData.newCv.length!==0 ? (this.props.cvData.newCv.state==='active' ? (<ResumeRedactPopup index={this.props.cvData.cvs.length}></ResumeRedactPopup>) : ('')) : ('')}\r\n                </ul>\r\n                {this.props.userState.logged && this.props.userState.user.id === this.props.userData.user && this.props.cvData.newCv.state!=='active' ? (\r\n                    <div className=\"resume-add\">\r\n                        <p>Добавить резюме:</p>\r\n                        <button className=\"resume-add-btn\" onClick={this.addResume.bind(this, 0)}>\r\n                            <img src={plusIcon} alt=\"plusIcon\"/>\r\n                        </button>\r\n                    </div>)\r\n                :('')}\r\n                {this.props.cvData.openedResumeId !== -1 ? <ResumePopup id={this.props.cvData.openedResumeId}></ResumePopup> : ''}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) =>{\r\n    return {\r\n        userState: state.user,\r\n        userData: state.userData,\r\n        cvData: state.cvs,\r\n    }\r\n}\r\n  \r\nconst mapDispatchToProps = (dispatch) =>{\r\n    return{\r\n        onPopupRedactResumeActivate: (resumeIndex) => {\r\n            dispatch({type : 'POPUP_REDACT_RESUME_ACTIVATE', payload:resumeIndex})\r\n        },\r\n        onPopupNewResumeActivate: (newCvData) => {\r\n            dispatch({type : 'POPUP_NEW_RESUME_ACTIVATE', payload:newCvData})\r\n        },\r\n        onOpenResumeInfo: (id) =>{\r\n            dispatch({type : 'OPEN_RESUME_POPUP', payload:id})\r\n        }\r\n\r\n    }\r\n}\r\n  \r\nexport default connect(mapStateToProps, mapDispatchToProps)(Resumes);","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Cropper from \"react-cropper\";\r\nimport personalBackground from'../../../img/personal-background.png'\r\nimport fileUploader from '../../../actions/fileUploader';\r\nimport \"cropperjs/dist/cropper.css\";\r\nimport closeIcon from '../../../img/close.svg';\r\nimport uploadIcon from '../../../img/upload.svg';\r\n\r\n\r\nclass ImageCropper extends Component {\r\n    cropUserImage = (file, maxWidth, maxHeight, imageType) => {\r\n        this.props.onDeactivateCropper()\r\n        console.log(file)\r\n        setTimeout(()=>{\r\n            if (file !== undefined){\r\n                this.props.onActivateCropper(file, maxWidth, maxHeight, imageType)\r\n            }\r\n        }, 0)\r\n    }\r\n\r\n    checkOnEmpty(el, returnValue){\r\n        console.log(el)\r\n        if (el !== \"\" && el){\r\n            return el\r\n        }\r\n\r\n        return returnValue\r\n    }\r\n\r\n    loadImageToFirebase = (image, imageType) =>{\r\n        console.log(image)\r\n        if (image !== undefined){\r\n            const storageRef = fileUploader.storage().ref()\r\n            const fileRef = storageRef.child('user-' + imageType + this.props.userState.user.id)\r\n            fileRef.put(image).then((response)=>{\r\n                fileRef.getDownloadURL()\r\n                .then((response) => {\r\n                    console.log(response)\r\n                    if (imageType === 'avatar'){\r\n                        this.props.onChangeAvatar(response)\r\n                    }\r\n                    else if(imageType === 'personal-background'){\r\n                        this.props.onChangePersonalBackground(response)\r\n                    }\r\n                })\r\n            })\r\n        }\r\n\r\n    }\r\n    \r\n    getCropperData = () => {\r\n        this.props.onDeactivateCropper()\r\n\r\n        if (typeof this.props.cropperData.instance !== \"undefined\") {\r\n          const croppedImage = this.dataURLtoBlob(this.props.cropperData.instance.getCroppedCanvas().toDataURL());\r\n          this.loadImageToFirebase(croppedImage, this.props.cropperData.imageType)\r\n        }\r\n    };\r\n\r\n    dataURLtoBlob = (dataurl) => {\r\n        var arr = dataurl.split(','), mime = arr[0].match(/:(.*?);/)[1],\r\n            bstr = atob(arr[1]), n = bstr.length, u8arr = new Uint8Array(n);\r\n        while(n--){\r\n            u8arr[n] = bstr.charCodeAt(n);\r\n        }\r\n        return new Blob([u8arr], {type:mime});\r\n    }\r\n\r\n\r\n    loadUserImage = (e, imageType) =>{\r\n        const file = e.target.files[0];\r\n        this.loadImageToFirebase(file, imageType)\r\n    }\r\n\r\n    deactivateCropper = () =>{\r\n        this.props.onDeactivateCropper()\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.cropperFile){\r\n            if(this.props.cropperData.imageType === 'avatar'){\r\n                this.props.onSetCropperFile('https://firebasestorage.googleapis.com/v0/b/diploma-55e3f.appspot.com/o/placeholder-avatar.jpg?alt=media&token=5058f243-49e5-4df4-8686-899c6ce12c54')\r\n            }\r\n            else this.props.onSetCropperFile('https://firebasestorage.googleapis.com/v0/b/diploma-55e3f.appspot.com/o/placeholder-background.png?alt=media&token=1c91f99c-c236-4a28-b291-bfc2263df45b')\r\n        }\r\n\r\n\r\n        return this.props.cropperActive && this.props.cropperFile ? (\r\n            <div className=\"blur-box active\" >\r\n                <div className=\"popup-wrapper rounded cropper\">\r\n                    <div className=\"cropper-block\">\r\n                        {this.props.cropperData.imageType === 'avatar' ?\r\n                        <div className=\"cropper-placeholder\">\r\n                            {console.log(this.props.ownProps.background)}\r\n                            <div className=\"top-rounded main-placeholder__personal\" style={{backgroundImage: `url(${this.checkOnEmpty(this.props.personalBackground, personalBackground)})`}}>\r\n                                <div className=\"cropper__img-preview avatar\"></div>\r\n                            </div>\r\n                        </div>\r\n                        :\r\n                        <div className=\"cropper-placeholder\" >\r\n                            <div className=\"top-rounded cropper__img-preview personal-background\" style={{width:'720px', height: '160px', overflow:'hidden'}}>\r\n\r\n                            </div>\r\n                            <img className=\"main-placeholder__personal__avatar\" src={this.props.ownProps.avatar} alt=\"\"/>\r\n\r\n                        </div>\r\n                        }\r\n                        \r\n\r\n                        <Cropper\r\n                        style={{ width: \"100%\", height: \"300px\", backgroundColor:\"#fff\" }}\r\n                        aspectRatio={this.props.cropperMaxWidth / this.props.cropperMaxHeight}\r\n\r\n                        preview=\".cropper__img-preview\"\r\n                        src={this.props.cropperFile}\r\n                        viewMode={1}\r\n                        dragMode='move'\r\n                        guides={true}\r\n                        minCropBoxHeight={10}\r\n                        minCropBoxWidth={10}\r\n                        background={false}\r\n                        responsive={true}\r\n                        autoCropArea={1}\r\n                        checkOrientation={false} \r\n                        onInitialized={(instance) => {\r\n                            this.props.setCropperInstance(instance);\r\n                        }}\r\n                        />\r\n                        \r\n                        <div className=\"cropper-controls\">\r\n                            <button className=\"cropper-upload-btn\" onClick={this.getCropperData}>\r\n                                <img src={uploadIcon} alt=\"uploadIcon\"/>\r\n                            </button>\r\n\r\n                            <button className=\"cropper-close-btn\" onClick={this.deactivateCropper}>\r\n                                <img src={closeIcon} alt=\"closeIcon\"/>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n        ) : ('')\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return {\r\n        cropperMaxWidth:state.profile.buf.cropper.maxWidth,\r\n        cropperMaxHeight:state.profile.buf.cropper.maxHeight,\r\n        cropperFile:state.profile.buf.cropper.file,\r\n        cropperActive:state.profile.buf.cropper.state,\r\n        cropperData:state.profile.buf.cropper,\r\n        userState: state.user,\r\n        ownProps:ownProps\r\n\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) =>{\r\n    return{\r\n        setCropperInstance: (instance) => {\r\n            dispatch({type : 'SET_CROPPER_INSTANCE', payload:instance})\r\n        },\r\n        onChangeAvatar: (fileUrl)=>{\r\n            dispatch({type : 'POPUP_REDACT_AVATAR_CHANGE', payload:fileUrl})\r\n        },\r\n        onChangePersonalBackground: (fileUrl)=>{\r\n            dispatch({type : 'POPUP_REDACT_PERSONAL_BACKGROUND_CHANGE', payload:fileUrl})\r\n        },\r\n        onDeactivateCropper:()=>{\r\n            dispatch({type : 'DEACTIVATE_PROFILE_REDACT_IMAGE_CROPPER', payload:null})\r\n        },\r\n        onSetCropperFile:(file) => {\r\n            dispatch({type : 'SET_CROPPER_FILE', payload:file})\r\n        },\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ImageCropper)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport placeholderAvatar from '../../../img/placeholder-avatar.jpg'\r\nimport personalBackground from'../../../img/personal-background.png'\r\nimport ImageCropper from \"./ImageCropper\";\r\nimport \"cropperjs/dist/cropper.css\";\r\n\r\n\r\nexport class MainPlaceholder extends Component {\r\n    checkOnEmpty(el, returnValue){\r\n        if (el !== \"\"){\r\n            return el\r\n        }\r\n\r\n        return returnValue\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div className=\"main-placeholder rounded\">\r\n                <div className=\"main-placeholder__personal top-rounded\" style={{backgroundImage: `url(${this.checkOnEmpty(this.props.personalBackground, personalBackground)})`}}>\r\n                    <img className=\"main-placeholder__personal__avatar\" src={this.checkOnEmpty(this.props.avatarPhoto, placeholderAvatar)} alt=\"аватар\"/>\r\n                </div>\r\n                <section className=\"main-placeholder__info\">\r\n                    <div className=\"main-placeholder__info-wrapper\">\r\n                        <div className=\"info-head\">\r\n                            <h2 className=\"info__name bold\">{this.props.userName}</h2>\r\n                        </div>\r\n                        \r\n                        <p className=\"info__description\">{this.props.userDescription}</p>\r\n                        <div className=\"info__common-info\">\r\n                            \r\n                            <p className={'info__common-info__birthday ' + this.props.userBirthday?.substring(0, 10)}>{this.props.userBirthday?.substring(0, 10)}</p>\r\n                            <p className={'info__common-info__gender ' + this.props.userGender}></p>\r\n                            <div className=\"info__common-info__living\">\r\n                                <p className=\"living__cz\">{this.props.userCz}</p>\r\n                                <p className=\"living__place\">{this.props.userAddress ? this.props.userAddress.name:''}</p>\r\n                            </div>\r\n                            \r\n                        </div>\r\n                        \r\n                        <div className=\"info__contacts__phones\">\r\n                            <p>Контакты:</p>\r\n                            {this.props.userPhones?.map((phone, index) => <a key={index} className=\"contacts__phones-el\" href={\"tel:\"+phone}>{phone}</a> )}\r\n                        </div>\r\n\r\n                        <div className=\"info__languages\">\r\n                            <p>Владение языками:</p>\r\n                            {this.props.userLanguages?.map((language, index) => <a key={index} className=\"languages-el\">{language.language + ' - ' + language.grade}</a> )}\r\n                        </div>\r\n                        \r\n                        {this.props.userEducation.length!== 0 ?(\r\n                            <div className=\"info__education\">\r\n                                <h3 className=\"education-head bold headed\">Образование:</h3>\r\n                                {this.props.userEducation?.map((el, index)=>{\r\n                                    console.log('education', el)\r\n                                    return (\r\n                                        <div className=\"education-block\" key={index}>\r\n                                            <p className=\"education-name highlighted\">{el.profession}</p>\r\n                                            <div className=\"education-place\">\r\n                                                <p className=\"education-place__institution\">{el.university},</p>\r\n                                                <p className=\"education-place__grade\">&nbsp;{el.type}</p>     \r\n                                                <p className=\"education-place__longing\">{el.start_year.substring(0, 10) + ' - ' + el.end_year.substring(0, 10)}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                })}\r\n                            </div>):('')}\r\n                                               \r\n                        {this.props.userExperience.length!== 0 ? (\r\n                            <div className=\"info__work-experience\">\r\n                                <h3 className=\"courses-head bold headed\">Опыт Работы:</h3>\r\n                                {this.props.userExperience.map((el, index)=>{\r\n                                    console.log('education', el)\r\n                                    return (\r\n                                        <div className=\"education-block\" key={index}>\r\n                                            <p className=\"education-name highlighted\">{el.position}</p>\r\n                                            <div className=\"education-place\">\r\n                                                <p className=\"education-place__institution\">{el.company},</p>\r\n                                                <p className=\"education-place__grade\">&nbsp;{el.type},</p>     \r\n                                                <p className=\"education-place__longing\">{el.start_year.substring(0, 10) + ' - ' + el.end_year.substring(0, 10)}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                })}\r\n                            </div>):('')}\r\n                    </div>\r\n                </section>\r\n                \r\n                <ImageCropper avatar={this.props.avatarPhoto} background={this.props.personalBackground}></ImageCropper>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        placeholderData: state.profile.placeholder,\r\n        userState: state.user,\r\n        userData: state.userData,\r\n        userName: state.profile.placeholder.userName,\r\n        avatarPhoto:state.profile.placeholder.photo_url,\r\n        personalBackground:state.profile.placeholder.profile_background,\r\n        userDescription: state.profile.placeholder.description,\r\n        userBirthday: state.profile.placeholder.birthday,\r\n        userGender:state.profile.placeholder.gender,\r\n        userAddress:state.profile.address,\r\n        userCz:state.profile.placeholder.citizenship,\r\n        userPhones:state.profile.userPhones,\r\n        userLanguages: state.profile.language,\r\n        userEducation:state.profile.education,\r\n        userExperience:state.profile.experience,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) =>{\r\n    return{\r\n      onUpdateUserName: (userName) => {\r\n        dispatch({type : 'PLACEHOLDER_UPDATE_USER_NAME', payload:userName})\r\n      },\r\n      setCropperInstance: (instance) => {\r\n        dispatch({type : 'SET_CROPPER_INSTANCE', payload:instance})\r\n      }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MainPlaceholder)\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport LeafletMap from '../../../leafletMap/LeafletMap'\r\nimport {checkStringInput} from '../../../../scripts/commonScripts.js'\r\n\r\n\r\nconst RedactPopupSectionBaseInfo = (state, placeholderData, LeafletMapData, profileState, onUsernameChange,onSaveNewAddress, onDescriptionChange, onBDayChange, onCzChange, onCityChange, onChangeGenderToMale, onChangeGenderToFemale, onLanguageDelete, onLanguageGradeChange, onLanguageAdd, onPhoneDelete, onPhoneAdd) => {\r\n    const changeUserNameValue = (e) => {\r\n        let input = e.target.value\r\n        state.onUsernameChange(input)\r\n    }\r\n\r\n    const convertIntToDay = (num) =>{\r\n        const days = [\r\n            'Понедельник',\r\n            'Вторник',\r\n            'Среда',\r\n            'Четверг',\r\n            'Пятница',\r\n            'Суббота',\r\n            'Воскресенье',\r\n        ]\r\n\r\n        return days[num]\r\n    }\r\n\r\n    const changeUserDescriptionValue = (e) => {\r\n        state.onDescriptionChange(e.target.value)\r\n    }\r\n\r\n    const changeUserBDay = (e) => {\r\n        state.onBDayChange(e.target.value)\r\n    }\r\n\r\n    const changeCzValue = (e) => {\r\n        state.onCzChange(e.target.value)\r\n    }\r\n\r\n    const saveNewAddress = (e) => {\r\n        state.onSaveNewAddress({\r\n            name:state.LeafletMapData.name,\r\n            lat:state.LeafletMapData.lat,\r\n            lng:state.LeafletMapData.lng\r\n\r\n        })\r\n    }\r\n\r\n    const changeGender = (e) => {\r\n        if (e.target.value === 'male'){\r\n          state.onChangeGenderToMale();\r\n        }\r\n        else if (e.target.value === 'female'){\r\n            state.onChangeGenderToFemale();\r\n        }\r\n    }\r\n\r\n    const deleteLanguage = (e) =>{\r\n        e.preventDefault()\r\n        console.log(e.target.parentElement.dataset.key)\r\n        state.onLanguageDelete(state.profileState.language[e.target.parentElement.dataset.key])\r\n    }\r\n\r\n    const languageGradeChange = (e) =>{\r\n        state.onLanguageGradeChange(e.target.value)\r\n    }\r\n\r\n    const languageInput = (e) =>{\r\n        const value = e.target.value.split(' ').join('')\r\n\r\n        if (e.keyCode === 9 || e.keyCode === 32){\r\n            e.preventDefault()\r\n            let newLanguage = {\r\n                \"grade\": state.profileState.buf.languageGrade,\r\n                \"language\": value\r\n            }\r\n            console.log(state.profileState.language.filter((el) => el.language === newLanguage.language))\r\n            if(state.profileState.language.filter((el) => el.language === newLanguage.language).length === 0){\r\n                state.onLanguageAdd(newLanguage)\r\n                e.target.value = ''\r\n            }\r\n        }\r\n    }\r\n\r\n    const addLanguage = (e) => {\r\n        e.preventDefault()\r\n        \r\n        const value = e.target.languageInput.value.split(' ').join('')\r\n        let newLanguage = {\r\n            \"grade\": state.profileState.buf.languageGrade,\r\n            \"language\": value\r\n        }\r\n        console.log(state.profileState.language.filter((el) => el.language === newLanguage.language))\r\n        if(state.profileState.language.filter((el) => el.language === newLanguage.language).length === 0){\r\n            state.onLanguageAdd(newLanguage)\r\n            e.target.languageInput.value = ''\r\n\r\n        }\r\n\r\n    }\r\n\r\n    const deleteSchedule = (e) =>{\r\n        e.preventDefault()\r\n        console.log(e.target.parentElement.dataset.key)\r\n        state.onScheduleDelete(state.profileState.schedule[e.target.parentElement.dataset.key])\r\n    }\r\n\r\n    const scheduleDayChange = (e) =>{\r\n        state.onScheduleDayChange(e.target.value)\r\n    }\r\n\r\n    const scheduleEndTimeChange = (e) =>{\r\n        state.onScheduleEndTimeChange(e.target.value)\r\n    }\r\n\r\n    const scheduleStartTimeChange = (e) =>{\r\n        state.onScheduleStartTimeChange(e.target.value)\r\n    }\r\n\r\n    const addSchedule = (e) => {\r\n        e.preventDefault()\r\n        \r\n        let newSchedule = {\r\n            \"start_time\": state.profileState.buf.scheduleStartTime,\r\n            \"end_time\": state.profileState.buf.scheduleEndTime,\r\n            \"day\": parseInt(state.profileState.buf.scheduleDay)\r\n        }\r\n        console.log(state.profileState.schedule.filter((el) => el.day === newSchedule.day))\r\n        if(state.profileState.schedule.filter((el) => el.day === newSchedule.day).length === 0){\r\n            state.onScheduleAdd(newSchedule)\r\n        }\r\n    }\r\n    \r\n    \r\n    const deletePhone = (e) =>{\r\n        e.preventDefault()\r\n        console.log(e.target.parentElement.dataset.key)\r\n        state.onPhoneDelete(state.profileState.userPhones[e.target.parentElement.dataset.key])\r\n    }\r\n\r\n    const addPhone = (e) => {\r\n        e.preventDefault()\r\n        const value = e.target.phonesInput.value.split(' ').join('')\r\n\r\n        const check = checkStringInput(value, 100, 3, /^([+]?[0-9\\s-\\(\\)]{3,25})*$/i);\r\n\r\n        check === \"pass\" ? \r\n        state.onPhoneAdd(value) \r\n        : state.onInputMistake(check);\r\n\r\n        e.target.phonesInput.value = ''\r\n    }\r\n\r\n    const phoneInput = (e) =>{\r\n        const value = e.target.value.split(' ').join('')\r\n\r\n        if (e.keyCode === 9 || e.keyCode === 32){\r\n            e.preventDefault()\r\n            if(state.profileState.userPhones.length > 2){\r\n                \r\n            }\r\n            else if(state.profileState.userPhones.indexOf(value) === -1){\r\n                const check = checkStringInput(value, 100, 0, /^([+]?[0-9\\s-\\(\\)]{3,25})*$/i);\r\n\r\n                check === \"pass\" ? \r\n                state.onPhoneAdd(value) \r\n                : state.onInputMistake(check);\r\n\r\n                e.target.value = ''\r\n            }\r\n        }\r\n    }\r\n    return (\r\n        <section className=\"popup-redact-section\">\r\n            <div className=\"popup__input-block\">\r\n                <div className=\"input-field underline-anim\">\r\n                    <input className=\"popup__text-input\" id=\"nameInput\" name=\"nameInput\" type=\"text\" placeholder=\" \" onChange={changeUserNameValue} value={placeholderData.userName}/>\r\n                    <label className=\"popup__text-label\" htmlFor=\"nameInput\">Имя/никнейм</label>\r\n                </div>\r\n\r\n                <div className=\"gender-radio-box\">\r\n                    <p>Пол:</p>\r\n                    <input className=\"gender-input\" type=\"radio\" id=\"gender-male\" name=\"gender-radio\" value=\"male\" onChange={changeGender}/>\r\n                    <input className=\"gender-input\" type=\"radio\" id=\"gender-female\" name=\"gender-radio\" value=\"female\" onChange={changeGender}/>\r\n\r\n                    <div>\r\n                        <label htmlFor=\"gender-male\">Мужской</label>\r\n                        <label htmlFor=\"gender-female\">Женский</label>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div className=\"textarea-field\">\r\n                    <p>Описание профиля</p>\r\n                    <textarea className=\"popup__textarea-input\" name=\"descriptionInput\" id=\"descriptionInput\" onChange={changeUserDescriptionValue} value={placeholderData.description}></textarea>\r\n                </div>\r\n                \r\n                <div className=\"input-field underlined\">\r\n                    <input className=\"popup__text-input\" id=\"birthdayInput\" name=\"birthdayInput\" type=\"date\" placeholder=\" \" onChange={changeUserBDay} value={placeholderData.birthday}/>\r\n                    <label className=\"popup__text-label\" htmlFor=\"birthdayInput\">Дата рождения</label>\r\n                </div>\r\n\r\n                <div className=\"input-field underlined\">\r\n                    <input className=\"popup__text-input\" id=\"czInput\" name=\"czInput\" type=\"text\" placeholder=\" \" onChange={changeCzValue} value={placeholderData.cz}/>\r\n                    <label className=\"popup__text-label\" htmlFor=\"czInput\">Гражданство</label>\r\n                </div>\r\n                <div className=\"address-input\">\r\n                    <LeafletMap address={state.profileState.address}></LeafletMap>\r\n                    <button className=\"highlighted sup-btn\" onClick={saveNewAddress}>Сохранить</button>\r\n                </div>\r\n                \r\n            </div>\r\n\r\n            <div className=\"list-input-field popup__input-block\">\r\n                <p>Телефоны</p>\r\n                \r\n                {state.profileState.userPhones.map((phone, index)=>{\r\n                    return (\r\n                        <div key={index} className=\"list-input-field__el-block\" data-key={index}>\r\n                            <span>{phone}</span>\r\n                            <button className=\"el-block__delete-el\" onClick={deletePhone}>x</button>\r\n                        </div>\r\n                    )\r\n                })}\r\n                <form className=\"flex\" onSubmit={addPhone}>\r\n                    <input className=\"popup__text-input\" type=\"text\" id=\"phonesInput\" name=\"phonesInput\" placeholder=\"Нажмите пробел после введения номера...\" onKeyDown={phoneInput} />\r\n                    <button className=\"sup-btn-circled\">+</button>\r\n                </form>\r\n\r\n            </div>\r\n\r\n            <div className=\"list-input-field popup__input-block\">\r\n                <p>Владение языками</p>\r\n\r\n                {state.profileState.language?.map((el, index)=>{\r\n                    return (\r\n                        <div key={index} className=\"list-input-field__el-block\" data-key={index}>\r\n                            <span>{el.language + ' - ' + el.grade}</span>\r\n                            <button className=\"el-block__delete-el\" onClick={deleteLanguage}>x</button>\r\n                        </div>\r\n                    )\r\n                })}\r\n                <form className=\"popup__select-text-input\" onSubmit={addLanguage}>\r\n                    <input className=\"popup__text-input\" type=\"text\" id=\"languageInput\" name=\"languageInput\" placeholder=\"Нажмите пробел после введения языка...\" onKeyDown={languageInput}/>\r\n                    <select name=\"languageGradeInput\" id=\"languageGradeInput\" onChange={languageGradeChange} value={state.profileState.buf.languageGrade}>\r\n                        <option value=\"A1\">A1 - начинающий (Beginner)</option>\r\n                        <option value=\"A2\">A2 - предпродвинутый (Pre-Intermediate)</option>\r\n                        <option value=\"B1\">B1 - продвинутый (Intermediate)</option>\r\n                        <option value=\"B2\">B2 - предпрофессиональный (Upper-Intermediate)</option>\r\n                        <option value=\"C1\">C1 - Профессиональный (Advanced)</option>\r\n                        <option value=\"C2\">C2 - Владение в совершенстве (Mastery)</option>\r\n                    </select>\r\n                    <button className=\"sup-btn-circled\">+</button>\r\n                </form>\r\n            </div>\r\n\r\n            <div className=\"list-input-field popup__input-block\">\r\n                <p>Желательный график работы</p>\r\n\r\n                {state.profileState.schedule.map((el, index)=>{\r\n                    return (\r\n                        <div key={index} className=\"list-input-field__el-block\" data-key={index}>\r\n                            <span>{el.start_time + ' - ' + el.end_time + '(' + convertIntToDay(el.day) + ')'}</span>\r\n                            <button className=\"el-block__delete-el\" onClick={deleteSchedule}>x</button>\r\n                        </div>\r\n                    )\r\n                })}\r\n\r\n                <form className=\"popup__select-text-input\" onSubmit={addSchedule}>\r\n                    <select name=\"scheduleStartTimeInput\" id=\"scheduleStartTimeInput\" onChange={scheduleStartTimeChange} value={state.profileState.buf.scheduleStartTime}>\r\n                        <option value=\"00:00\">00:00</option>\r\n                        <option value=\"00:30\">00:30</option>\r\n                        <option value=\"01:00\">01:00</option>\r\n                        <option value=\"01:30\">01:30</option>\r\n                        <option value=\"02:00\">02:00</option>\r\n                        <option value=\"02:30\">02:30</option>\r\n                        <option value=\"03:00\">03:00</option>\r\n                        <option value=\"03:30\">03:30</option>\r\n                        <option value=\"04:00\">04:00</option>\r\n                        <option value=\"04:30\">04:30</option>\r\n                        <option value=\"05:00\">05:00</option>\r\n                        <option value=\"05:30\">05:30</option>\r\n                        <option value=\"06:00\">06:00</option>\r\n                        <option value=\"06:30\">06:30</option>\r\n                        <option value=\"07:00\">07:00</option>\r\n                        <option value=\"07:30\">07:30</option>\r\n                        <option value=\"08:00\">08:00</option>\r\n                        <option value=\"08:30\">08:30</option>\r\n                        <option value=\"09:00\">09:00</option>\r\n                        <option value=\"09:30\">09:30</option>\r\n                        <option value=\"10:00\">10:00</option>\r\n                        <option value=\"10:30\">10:30</option>\r\n                        <option value=\"11:00\">11:00</option>\r\n                        <option value=\"11:30\">11:30</option>\r\n                        <option value=\"12:00\">12:00</option>\r\n                        <option value=\"12:30\">12:30</option>\r\n                        <option value=\"13:00\">13:00</option>\r\n                        <option value=\"13:30\">13:30</option>\r\n                        <option value=\"14:00\">14:00</option>\r\n                        <option value=\"14:30\">14:30</option>\r\n                        <option value=\"15:00\">15:00</option>\r\n                        <option value=\"15:30\">15:30</option>\r\n                        <option value=\"16:00\">16:00</option>\r\n                        <option value=\"16:30\">16:30</option>\r\n                        <option value=\"17:00\">17:00</option>\r\n                        <option value=\"17:30\">17:30</option>\r\n                        <option value=\"18:00\">18:00</option>\r\n                        <option value=\"18:30\">18:30</option>\r\n                        <option value=\"19:00\">19:00</option>\r\n                        <option value=\"19:30\">19:30</option>\r\n                        <option value=\"20:00\">20:00</option>\r\n                        <option value=\"20:30\">20:30</option>\r\n                        <option value=\"21:00\">21:00</option>\r\n                        <option value=\"21:30\">21:30</option>\r\n                        <option value=\"22:00\">22:00</option>\r\n                        <option value=\"22:30\">22:30</option>\r\n                        <option value=\"23:00\">23:00</option>\r\n                        <option value=\"23:30\">23:30</option>\r\n                    </select>\r\n                    <select name=\"scheduleEndTimeInput\" id=\"scheduleEndTimeInput\" onChange={scheduleEndTimeChange} value={state.profileState.buf.scheduleEndTime}>\r\n                        <option value=\"00:00\">00:00</option>\r\n                        <option value=\"00:30\">00:30</option>\r\n                        <option value=\"01:00\">01:00</option>\r\n                        <option value=\"01:30\">01:30</option>\r\n                        <option value=\"02:00\">02:00</option>\r\n                        <option value=\"02:30\">02:30</option>\r\n                        <option value=\"03:00\">03:00</option>\r\n                        <option value=\"03:30\">03:30</option>\r\n                        <option value=\"04:00\">04:00</option>\r\n                        <option value=\"04:30\">04:30</option>\r\n                        <option value=\"05:00\">05:00</option>\r\n                        <option value=\"05:30\">05:30</option>\r\n                        <option value=\"06:00\">06:00</option>\r\n                        <option value=\"06:30\">06:30</option>\r\n                        <option value=\"07:00\">07:00</option>\r\n                        <option value=\"07:30\">07:30</option>\r\n                        <option value=\"08:00\">08:00</option>\r\n                        <option value=\"08:30\">08:30</option>\r\n                        <option value=\"09:00\">09:00</option>\r\n                        <option value=\"09:30\">09:30</option>\r\n                        <option value=\"10:00\">10:00</option>\r\n                        <option value=\"10:30\">10:30</option>\r\n                        <option value=\"11:00\">11:00</option>\r\n                        <option value=\"11:30\">11:30</option>\r\n                        <option value=\"12:00\">12:00</option>\r\n                        <option value=\"12:30\">12:30</option>\r\n                        <option value=\"13:00\">13:00</option>\r\n                        <option value=\"13:30\">13:30</option>\r\n                        <option value=\"14:00\">14:00</option>\r\n                        <option value=\"14:30\">14:30</option>\r\n                        <option value=\"15:00\">15:00</option>\r\n                        <option value=\"15:30\">15:30</option>\r\n                        <option value=\"16:00\">16:00</option>\r\n                        <option value=\"16:30\">16:30</option>\r\n                        <option value=\"17:00\">17:00</option>\r\n                        <option value=\"17:30\">17:30</option>\r\n                        <option value=\"18:00\">18:00</option>\r\n                        <option value=\"18:30\">18:30</option>\r\n                        <option value=\"19:00\">19:00</option>\r\n                        <option value=\"19:30\">19:30</option>\r\n                        <option value=\"20:00\">20:00</option>\r\n                        <option value=\"20:30\">20:30</option>\r\n                        <option value=\"21:00\">21:00</option>\r\n                        <option value=\"21:30\">21:30</option>\r\n                        <option value=\"22:00\">22:00</option>\r\n                        <option value=\"22:30\">22:30</option>\r\n                        <option value=\"23:00\">23:00</option>\r\n                        <option value=\"23:30\">23:30</option>\r\n                    </select>\r\n                    <select name=\"scheduleDayInput\" id=\"scheduleDayInput\" onChange={scheduleDayChange} value={state.profileState.buf.scheduleDay}>\r\n                        <option value=\"0\">Понедельник</option>\r\n                        <option value=\"1\">Вторник</option>\r\n                        <option value=\"2\">Среда</option>\r\n                        <option value=\"3\">Четверг</option>\r\n                        <option value=\"4\">Пятница</option>\r\n                        <option value=\"5\">Суббота</option>\r\n                        <option value=\"6\">Воскресенье</option>\r\n                    </select>\r\n                    <button className=\"sup-btn-circled\">+</button>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) =>{\r\n    return {\r\n        state:state,\r\n        profileState: state.profile,\r\n        userState: state.user,\r\n        placeholderData: state.profile.placeholder,\r\n        LeafletMapData:state.buf.leafletMap.data\r\n    }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = (dispatch) =>{\r\n    return{\r\n        onUsernameChange: (username)=>{\r\n            dispatch({type : 'POPUP_REDACT_USERNAME_CHANGE', payload:username})\r\n        },\r\n        onDescriptionChange: (text)=>{\r\n            dispatch({type : 'POPUP_REDACT_DESCRIPTION_CHANGE', payload:text})\r\n        },\r\n        onBDayChange: (text)=>{\r\n            dispatch({type : 'POPUP_REDACT_BIRTHDAY_CHANGE', payload:text})\r\n        },\r\n        onCzChange: (text)=>{\r\n            dispatch({type : 'POPUP_REDACT_CITIZENSHIP_CHANGE', payload:text})\r\n        },\r\n        onAddressChange: (text)=>{\r\n            dispatch({type : 'POPUP_REDACT_ADDRESS_NAME_CHANGE', payload:text})\r\n        }, \r\n        onSaveNewAddress:(address)=>{\r\n            dispatch({type : 'POPUP_REDACT_ADDRESS_CHANGE', payload:address})\r\n        },       \r\n        onChangeGenderToMale: () => {\r\n            dispatch({type : 'CHANGE_GENDER_TO_MALE', payload:null})\r\n        },\r\n        onChangeGenderToFemale: () => {\r\n            dispatch({type : 'CHANGE_GENDER_TO_FEMALE', payload:null})\r\n        },\r\n        onLanguageAdd: (language)=>{\r\n            dispatch({type : 'POPUP_REDACT_ADD_LANGUAGE', payload:language})\r\n        },\r\n        onLanguageGradeChange: (grade)=>{\r\n            dispatch({type : 'POPUP_REDACT_LANGUAGE_GRADE_CHANGE', payload:grade})\r\n        },\r\n        onLanguageDelete: (languageId)=>{\r\n            dispatch({type : 'POPUP_REDACT_DELETE_LANGUAGE', payload:languageId})\r\n        },\r\n        onScheduleAdd: (schedule)=>{\r\n            dispatch({type : 'POPUP_REDACT_ADD_SCHEDULE', payload:schedule})\r\n        },\r\n        onScheduleDayChange: (day)=>{\r\n            dispatch({type : 'POPUP_REDACT_SCHEDULE_DAY_CHANGE', payload:day})\r\n        },\r\n        onScheduleStartTimeChange: (time)=>{\r\n            dispatch({type : 'POPUP_REDACT_SCHEDULE_START_TIME_CHANGE', payload:time})\r\n        },\r\n        onScheduleEndTimeChange: (time)=>{\r\n            dispatch({type : 'POPUP_REDACT_SCHEDULE_END_TIME_CHANGE', payload:time})\r\n        },\r\n        onScheduleDelete: (scheduleId)=>{\r\n            dispatch({type : 'POPUP_REDACT_DELETE_SCHEDULE', payload:scheduleId})\r\n        },\r\n        onPhoneAdd: (phone)=>{\r\n            dispatch({type : 'POPUP_REDACT_ADD_PHONE', payload:phone})\r\n        },\r\n        onPhoneDelete: (phoneId)=>{\r\n            dispatch({type : 'POPUP_REDACT_DELETE_PHONE', payload:phoneId})\r\n        },\r\n        onInputMistake:(mistakeStr) => {\r\n            console.log(mistakeStr)\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RedactPopupSectionBaseInfo)\r\n\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\n\r\nconst RedactPopupSectionExperience = (state, profileState, onExperienceAdd, onExperienceDelete, onEducationAdd, onEducationDelete) => {\r\n    const experienceAdd = (e) =>{\r\n        e.preventDefault();\r\n        console.log(e.target)\r\n        state.profileState.buf.educationBlocksAmount++\r\n        const newExperience = {\r\n            \"position\": e.target.positionInput.value,\r\n            \"company\": e.target.companyInput.value,\r\n            \"type\":e.target.experienceTypeInput.value,\r\n            \"start_year\":e.target.experienceStartDateInput.value,\r\n            \"end_year\":e.target.experienceEndDateInput.value\r\n        }\r\n        state.onExperienceAdd(newExperience)\r\n\r\n    }\r\n\r\n    const educationAdd = (e) =>{\r\n        e.preventDefault();\r\n        state.profileState.buf.educationBlocksAmount++\r\n        const newEducation = {\r\n            \"profession\": e.target.professionInput.value,\r\n            \"university\": e.target.universityInput.value,\r\n            \"type\":e.target.educationTypeInput.value,\r\n            \"start_year\":e.target.educationStartDateInput.value,\r\n            \"end_year\":e.target.educationEndDateInput.value\r\n        }\r\n        state.onEducationAdd(newEducation)\r\n    }\r\n\r\n    const educationDelete = (e) =>{\r\n        e.preventDefault()\r\n        console.log(e.target.parentElement.dataset.key)\r\n        state.onEducationDelete(state.profileState.education[e.target.parentElement.dataset.key])\r\n    }\r\n\r\n    const experienceDelete = (e) =>{\r\n        e.preventDefault()\r\n        console.log(e.target.parentElement.dataset.key)\r\n        state.onExperienceDelete(state.profileState.experience[e.target.parentElement.dataset.key])   \r\n    }\r\n\r\n    return (\r\n        <section className=\"popup-redact-section\">\r\n            <form className=\"popup__education-input popup__input-block\" onSubmit={educationAdd}>\r\n            {console.log(state)}\r\n            {state.profileState.education.map((el, index)=>{\r\n                    return (\r\n                        <div key={index} className=\"list-input-field__el-block\" data-key={index}>\r\n                            <span>{el.profession + ' - ' + el.university}</span>\r\n                            <button className=\"el-block__delete-el\" onClick={educationDelete}>x</button>\r\n                        </div>\r\n                    )\r\n            })}\r\n            <div className=\"input-field underlined\">\r\n                <input className=\"popup__text-input\" id=\"professionInput\" name=\"professionInput\" type=\"input\" placeholder=\" \" required/>\r\n                <label className=\"popup__text-label\" htmlFor=\"professionInput\">Профессия</label>\r\n            </div>\r\n\r\n            <div className=\"input-field underlined\">\r\n                <input className=\"popup__text-input\" id=\"universityInput\" name=\"universityInput\" type=\"input\" placeholder=\" \" required/>\r\n                <label className=\"popup__text-label\" htmlFor=\"universityInput\">Место образования</label>\r\n            </div>\r\n\r\n            <select name=\"educationTypeInput\" id=\"educationTypeInput\">\r\n                <option value=\"course\">Курсы</option>\r\n                <option value=\"primary\">Начальное образование (4 класса)</option>\r\n                <option value=\"basic\">Среднее общее образование (9 классов)</option>\r\n                <option value=\"secondary\">Среднее полное образование (11 классов)</option>\r\n                <option value=\"post-secondary\">Среднее профессиональное образование</option>\r\n                <option value=\"bachelor\">Высшее (бакалавриат)</option>\r\n                <option value=\"specialist\">Высшее (специалитет)</option>\r\n                <option value=\"master\">Высшее (магистратура)</option>\r\n                <option value=\"PhD-asp\">Аспирантура</option>\r\n                <option value=\"PhD-doc\">Докторантура</option>\r\n            </select>\r\n\r\n            <div className=\"popup__date-fields\">\r\n                <div className=\"input-field\">\r\n                    <input className=\"popup__text-input\" id=\"educationStartDateInput\" name=\"educationStartDateInput\" type=\"date\" placeholder=\" \" required/>\r\n                    <label className=\"popup__text-label\" htmlFor=\"educationStartDateInput\">Дата начала</label>\r\n                </div>\r\n\r\n                <div className=\"input-field\">\r\n                    <input className=\"popup__text-input\" id=\"educationEndDateInput\" name=\"educationEndDateInput\" type=\"date\" placeholder=\" \" required/>\r\n                    <label className=\"popup__text-label\" htmlFor=\"educationEndDateInput\">Дата окончания</label>\r\n                </div>\r\n            </div>\r\n\r\n            <input type=\"submit\" className=\"education-input__submit highlighted sup-btn\" value=\"Сохранить\"/>\r\n        </form>\r\n\r\n        <form className=\"popup__experience-input popup__input-block\" onSubmit={experienceAdd}>\r\n            {state.profileState.experience.map((el, index)=>{\r\n                return (\r\n                    <div key={index} className=\"list-input-field__el-block\" data-key={index}>\r\n                        <span>{el.position + ' - ' + el.company}</span>\r\n                        <button className=\"el-block__delete-el\" onClick={experienceDelete}>x</button>\r\n                    </div>\r\n                )\r\n            })}\r\n\r\n            <div className=\"input-field\">\r\n                <input className=\"popup__text-input\" id=\"positionInput\" name=\"positionInput\" type=\"input\" placeholder=\" \"/>\r\n                <label className=\"popup__text-label\" htmlFor=\"positionInput\">Позиция</label>\r\n            </div>\r\n\r\n            <div className=\"input-field\">\r\n                <input className=\"popup__text-input\" id=\"companyInput\" name=\"companyInput\" type=\"input\" placeholder=\" \"/>\r\n                <label className=\"popup__text-label\" htmlFor=\"companyInput\">Компания</label>\r\n            </div>\r\n\r\n            <select name=\"experienceTypeInput\" id=\"experienceTypeInput\">\r\n                <option value=\"internship\">Стажировка</option>\r\n                <option value=\"junior\">Младший специалист</option>\r\n                <option value=\"middle\">Средний специалист</option>\r\n                <option value=\"senior\">Старший специалист</option>\r\n                <option value=\"director\">Руководитель</option>\r\n                <option value=\"senior-director\">Старший руководитель</option>\r\n            </select>\r\n\r\n            <div className=\"popup__date-fields\">\r\n                <div className=\"input-field\">\r\n                    <input className=\"popup__text-input\" id=\"experienceStartDateInput\" name=\"experienceStartDateInput\" type=\"date\" placeholder=\" \"/>\r\n                    <label className=\"popup__text-label\" htmlFor=\"experienceStartDateInput\">Дата начала</label>\r\n                </div>\r\n\r\n                <div className=\"input-field\">\r\n                    <input className=\"popup__text-input\" id=\"experienceEndDateInput\" name=\"experienceEndDateInput\" type=\"date\" placeholder=\" \"/>\r\n                    <label className=\"popup__text-label\" htmlFor=\"experienceEndDateInput\">Дата окончания</label>\r\n                </div>\r\n            </div>\r\n\r\n            <input type=\"submit\" className=\"experience-input__submit highlighted sup-btn\" value=\"Сохранить\"/>\r\n        </form>\r\n        </section>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) =>{\r\n    return {\r\n        state:state,\r\n        profileState: state.profile,\r\n        userState: state.user,\r\n        placeholderData: state.profile.placeholder,\r\n        cropperData:state.profile.buf.cropper\r\n    }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = (dispatch) =>{\r\n    return{\r\n        onEducationAdd: (education)=>{\r\n            dispatch({type : 'POPUP_REDACT_ADD_EDUCATION', payload:education})\r\n        },\r\n        onEducationDelete: (educationId)=>{\r\n            dispatch({type : 'POPUP_REDACT_DELETE_EDUCATION', payload:educationId})\r\n        },\r\n        onExperienceAdd: (experience)=>{\r\n            dispatch({type : 'POPUP_REDACT_ADD_EXPERIENCE', payload:experience})\r\n        },\r\n        onExperienceDelete: (experienceId)=>{\r\n            dispatch({type : 'POPUP_REDACT_DELETE_EXPERIENCE', payload:experienceId})\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RedactPopupSectionExperience)\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport \"cropperjs/dist/cropper.css\";\r\nimport fileUploader from '../../../../actions/fileUploader';\r\nimport cropIcon from '../../../../img/crop.svg'\r\n\r\nconst RedactPopupSectionImages = (state, placeholderData, cropperData, onDeactivateCropper, onActivateCropper, userState, onChangeAvatar, onChangePersonalBackground) => {\r\n    \r\n    const cropUserImage = (file, maxWidth, maxHeight, imageType) => {\r\n        state.onDeactivateCropper()\r\n        console.log(file)\r\n\r\n        setTimeout(()=>{\r\n            if (file !== undefined){\r\n                state.onActivateCropper(file, maxWidth, maxHeight, imageType)\r\n            }\r\n        }, 0)\r\n    }\r\n\r\n    const loadImageToFirebase = (image, imageType) =>{\r\n        console.log(image, imageType)\r\n        if (image !== undefined){\r\n            const storageRef = fileUploader.storage().ref()\r\n            const fileRef = storageRef.child('user-' + imageType + state.userState.user.id)\r\n            fileRef.put(image).then((response)=>{\r\n                console.log(response)\r\n                fileRef.getDownloadURL()\r\n                .then((response) => {\r\n                    console.log(response)\r\n                    if (imageType === 'avatar'){\r\n                        state.onChangeAvatar(response)\r\n                    }\r\n                    else if(imageType === 'personal-background'){\r\n                        state.onChangePersonalBackground(response)\r\n                    }\r\n                })\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    const dragOver = (e) => {\r\n        e.preventDefault();\r\n    }\r\n\r\n    const dragEnter = (e) => {\r\n        e.preventDefault();\r\n    }\r\n\r\n    const dragLeave = (e) => {\r\n        e.preventDefault();\r\n    }\r\n\r\n    const fileDrop = (e, imageType) => {\r\n        e.preventDefault();\r\n        const files = e.dataTransfer.files;\r\n        console.log(files);\r\n        loadImageToFirebase(files[0], imageType)\r\n\r\n    }\r\n\r\n    const loadUserImage = (e, imageType) =>{\r\n        const file = e.target.files[0];\r\n        loadImageToFirebase(file, imageType)\r\n    }\r\n\r\n\r\n    return (\r\n        <section className=\"popup-redact-section\">\r\n            <div className=\"drop-container\" \r\n                onDragOver={dragOver}\r\n                onDragEnter={dragEnter}\r\n                onDragLeave={dragLeave}\r\n                onDrop={(event)=>{fileDrop(event, 'avatar')}}\r\n            >\r\n                <input type=\"file\" id=\"file-avatar\" hidden name=\"userAvatarInput\" onChange={(event) => {loadUserImage(event, 'avatar')}}/>\r\n                <label className=\"file-input rounded sup-btn\" htmlFor=\"file-avatar\">Загрузить аватар</label>\r\n                \r\n                <button className=\"cropper-activate-btn\" onClick={cropUserImage.bind(this, state.placeholderData.photo_url, 120, 120, 'avatar')}>\r\n                    <img src={cropIcon} alt=\"обрезать\"/>\r\n                </button>\r\n          \r\n                <div className=\"drop-message\">\r\n                    <div className=\"upload-icon\"></div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"drop-container\" \r\n                onDragOver={dragOver}\r\n                onDragEnter={dragEnter}\r\n                onDragLeave={dragLeave}\r\n                onDrop={(event)=>{fileDrop(event, 'personal-background')}}\r\n            >\r\n                <input type=\"file\" id=\"file-back\" hidden name=\"userBackgroundInput\" onChange={(event) => {loadUserImage(event, 'personal-background')}}/>\r\n                <label className=\"file-input rounded sup-btn\" htmlFor=\"file-back\">Загрузить задний фон</label>\r\n\r\n                <button className=\"cropper-activate-btn\" onClick={cropUserImage.bind(this, state.placeholderData.profile_background, 700, 160, 'personal-background')}>\r\n                    <img src={cropIcon} alt=\"обрезать\"/>\r\n                </button>\r\n\r\n                <div className=\"drop-message\">\r\n                    <div className=\"upload-icon\"></div>\r\n                    \r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) =>{\r\n    return {\r\n        state: state,\r\n        profileState: state.profile,\r\n        userState: state.user,\r\n        placeholderData: state.profile.placeholder,\r\n        cropperData:state.profile.buf.cropper\r\n    }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = (dispatch) =>{\r\n    return{\r\n        onActivateCropper:(file, maxWidth, maxHeight, imageType)=>{\r\n            dispatch({type : 'ACTIVATE_PROFILE_REDACT_IMAGE_CROPPER', payload:[file, maxWidth, maxHeight, imageType]})\r\n        },\r\n        onDeactivateCropper:()=>{\r\n            dispatch({type : 'DEACTIVATE_PROFILE_REDACT_IMAGE_CROPPER', payload:null})\r\n        },\r\n        onChangeAvatar: (fileUrl)=>{\r\n            dispatch({type : 'POPUP_REDACT_AVATAR_CHANGE', payload:fileUrl})\r\n        },\r\n        onChangePersonalBackground: (fileUrl)=>{\r\n            dispatch({type : 'POPUP_REDACT_PERSONAL_BACKGROUND_CHANGE', payload:fileUrl})\r\n        },\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RedactPopupSectionImages)\r\n","export default __webpack_public_path__ + \"static/media/experience.042835b3.svg\";","import React, {Component} from 'react'\r\nimport { connect } from 'react-redux'\r\nimport MainPlaceholder from './MainPlaceholder'\r\nimport {createNewEmployee, updateEmployee, getUserData} from '../../../actions/serverConnections'\r\nimport \"cropperjs/dist/cropper.css\";\r\n\r\nimport RedactPopupSectionBaseInfo from './redactPopupSections/RedactPopupSectionBaseInfo'\r\nimport RedactPopupSectionExperience from './redactPopupSections/RedactPopupSectionExperience'\r\nimport RedactPopupSectionImages from './redactPopupSections/RedactPopupSectionImages'\r\n\r\nimport baseInfoIcon from '../../../img/baseInfo.svg'\r\nimport experienceIcon from '../../../img/experience.svg'\r\nimport personalizationIcon from '../../../img/personalization.svg'\r\n\r\n\r\nclass ProfileRedactPopup extends Component {\r\n    popupClose(e){\r\n        e.preventDefault()\r\n        this.props.onPopupRedactProfileDeactivate();\r\n    }\r\n\r\n    saveRedactProfileFormChanges = (e) =>{\r\n        e.preventDefault();\r\n\r\n        let data = {\r\n            \"user_id\": this.props.userState.user.id,\r\n            \"gender\":this.props.placeholderData.gender,\r\n            \"name\":this.props.placeholderData.userName,\r\n            \"mailing\": true,\r\n            \"language\": this.props.profileState.language,\r\n            \"birthday\": this.props.placeholderData.birthday,\r\n            \"address\": this.props.profileState.address,\r\n            \"phone\": this.props.profileState.userPhones,\r\n            \"about\": this.props.placeholderData.description,\r\n            \"schedule\": this.props.profileState.schedule,\r\n            \"social_links\": [],\r\n            \"education\": this.props.profileState.education,\r\n            \"experience\": this.props.profileState.experience,\r\n            \"citizenship\": this.props.placeholderData.citizenship,\r\n            \"profile_link\": \"\",\r\n            \"photo_url\": this.props.placeholderData.photo_url,\r\n            \"profile_background\": this.props.placeholderData.profile_background\r\n        }\r\n\r\n        if (this.props.userState.user.user_type === 'employee'){\r\n            this.props.onUpdateEmployee(data, this.props.userState.user.id, this.props.onGetUserFetch, this.props.onHasProfile)\r\n        }\r\n        else this.props.onUpdateEmployer(data, this.props.userState.user.id, this.props.onGetUserFetch, this.props.onHasProfile)\r\n\r\n        this.props.onPopupRedactProfileDeactivate();\r\n    }\r\n\r\n    changeSection(section) {\r\n        this.props.onChangeSection(section)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={\"no-fix-blur-box rounded profile-redact \" + this.props.profileState.state}>\r\n                <div className=\"profile-redact__popup-wrapper\">\r\n                    <MainPlaceholder></MainPlaceholder>\r\n                    <div className=\"profile-redact__form\">\r\n                        <div className=\"profile-redact__form-nav\">\r\n                            <button className={\"popup-nav-btn rounded \" + (this.props.profileState.popupRedactActiveSection === 'baseInfo' ? 'active' : '')} onClick={this.changeSection.bind(this, 'baseInfo')}>\r\n                                <img src={baseInfoIcon} alt=\"Базовая информация\"/>\r\n                            </button>\r\n                            <button className={\"popup-nav-btn rounded \" + (this.props.profileState.popupRedactActiveSection === 'experience' ? 'active' : '')} onClick={this.changeSection.bind(this, 'experience')}>\r\n                                <img src={experienceIcon} alt=\"Опыт и образование\"/>\r\n                            </button>\r\n                            <button className={\"popup-nav-btn rounded \" + (this.props.profileState.popupRedactActiveSection === 'images' ? 'active' : '')} onClick={this.changeSection.bind(this, 'images')}>\r\n                                <img src={personalizationIcon} alt=\"Персонализация\"/>\r\n                            </button>\r\n                        </div>\r\n                        {this.props.profileState.popupRedactActiveSection === 'baseInfo' ? (<RedactPopupSectionBaseInfo></RedactPopupSectionBaseInfo>) : ('')}\r\n                        {this.props.profileState.popupRedactActiveSection === 'experience' ? (<RedactPopupSectionExperience></RedactPopupSectionExperience>) : ('')}\r\n                        {this.props.profileState.popupRedactActiveSection === 'images' ? (<RedactPopupSectionImages></RedactPopupSectionImages>) : ('')}\r\n\r\n                        <button className=\"form-submit-btn f-large rounded bold\" onClick={this.saveRedactProfileFormChanges}>Сохранить изменения</button>\r\n                        <button className=\"profile-redact__close-popup-btn\" onClick={this.popupClose.bind(this)} tabIndex=\"-1\">x</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) =>{\r\n    return {\r\n        profileState: state.profile,\r\n        userState: state.user,\r\n        placeholderData: state.profile.placeholder,\r\n        loaderActive: state.nav.popup.loaderActive,\r\n    }\r\n  }\r\n  \r\nconst mapDispatchToProps = (dispatch) =>{\r\n    return{\r\n        onPopupRedactProfileDeactivate: () => {\r\n            dispatch({type : 'POPUP_REDACT_PROFILE_DEACTIVATE', payload:null})\r\n        },\r\n        onChangeSection: (section) => {\r\n            dispatch({type : 'POPUP_REDACT_CHANGE_SECTION', payload:section})\r\n        },\r\n        onActivateLoader: ()=>{\r\n            dispatch({type : 'ACTIVATE_PROFILE_REDACT_LOADER', payload:null})\r\n        },\r\n        onDeactivateLoader: ()=>{\r\n            dispatch({type : 'DEACTIVATE_PROFILE_REDACT_LOADER', payload:null})\r\n        },\r\n        onCreateNewEmployee:(data, userId, onGetUserFetch, onHasProfile)=>{\r\n            dispatch({type : 'WAITING_FOR_FETCH', payload:null})\r\n            dispatch(createNewEmployee(data))\r\n            .then(data => onGetUserFetch(userId, onHasProfile))\r\n        },\r\n        onCreateNewEmployer:()=>{\r\n            dispatch({type : 'WAITING_FOR_FETCH', payload:null})\r\n        },\r\n        onUpdateEmployee:(data, userId, onGetUserFetch, onHasProfile)=>{\r\n            dispatch({type : 'WAITING_FOR_FETCH', payload:null})\r\n            dispatch(updateEmployee(data, userId))\r\n            .then(data => onGetUserFetch(userId, onHasProfile))\r\n        },\r\n        onUpdateEmployer:()=>{\r\n            dispatch({type : 'WAITING_FOR_FETCH', payload:null})\r\n        },\r\n        onHasProfile: () => {\r\n          dispatch({type : 'USER_HAS_PROFILE', payload:null})\r\n        },\r\n        onGetUserFetch: (userId, onHasProfile)=> {\r\n          dispatch(getUserData(userId))\r\n          .then((data)=>{\r\n              if (data.userData !== null){\r\n                  console.log(data.userData)\r\n                  onHasProfile()\r\n              }\r\n          })\r\n        },\r\n    }\r\n}\r\n  \r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProfileRedactPopup);","import React, { Component } from 'react'\r\nimport Main from './Main/Main'\r\nimport Side from './Side/Side'\r\nimport Resumes from './Resumes/Resumes'\r\nimport ProfileRedactPopup from './ProfileRedactPopup/ProfileRedactPopup'\r\nimport { connect } from 'react-redux'\r\nimport {getUserResumes, getUserData} from '../../actions/serverConnections'\r\nimport './profile.css'\r\nimport Loader from '../Loader/Loader'\r\n\r\n\r\nclass Profile extends Component {\r\n    checkIfNotNull(variable, def){\r\n        console.log(variable)\r\n\r\n        if(typeof(variable) !== \"undefined\") {\r\n            if(variable !== null && variable !== '') {\r\n                return variable\r\n            }\r\n        }\r\n        return def\r\n    }\r\n\r\n    initPlaceholder = () => {\r\n        console.log(this.props.userState.hasProfile)\r\n        setTimeout(()=>{\r\n            if (this.props.userState.hasProfile)\r\n            this.props.onInitializeProfileData({\r\n                    state: this.props.profileState.state,\r\n                    popupRedactActiveSection: this.props.profileState.popupRedactActiveSection,\r\n                        placeholder: {\r\n                        userName: this.props.userData.name,\r\n                        description: this.checkIfNotNull(this.props.userData.about, ''),\r\n                        avatar: '',\r\n                        gender: this.checkIfNotNull(this.props.userData.gender, ''),\r\n                        birthday: this.checkIfNotNull(this.props.userData.birthday, ''),\r\n                        citizenship: this.checkIfNotNull(this.props.userData.citizenship, ''),\r\n                        profile_link: '',\r\n                        photo_url: this.checkIfNotNull(this.props.userData.photo_url, 'https://firebasestorage.googleapis.com/v0/b/diploma-55e3f.appspot.com/o/placeholder-avatar.jpg?alt=media&token=5058f243-49e5-4df4-8686-899c6ce12c54'),\r\n                        profile_background: this.checkIfNotNull(this.props.userData.profile_background, '')\r\n                    },\r\n                    address: this.props.userData.address,\r\n                    userPhones: this.checkIfNotNull(this.props.userData.phone, []),\r\n                    language: this.checkIfNotNull(this.props.userData.language, []),\r\n                    schedule: this.checkIfNotNull(this.props.userData.schedule, []),\r\n                    education: this.checkIfNotNull(this.props.userData.education, []),\r\n                    experience: this.checkIfNotNull(this.props.userData.experience, []),\r\n                    social_links: [],\r\n                    buf:{\r\n                        languageGrade:'A1',\r\n                        scheduleDay:'0',\r\n                        scheduleEndTime:'00:00',\r\n                        scheduleStartTime:'00:00',\r\n                        cropper:{\r\n                          state:false,\r\n                          file:this.checkIfNotNull(this.props.userData.photo_url, 'https://firebasestorage.googleapis.com/v0/b/diploma-55e3f.appspot.com/o/placeholder-avatar.jpg?alt=media&token=5058f243-49e5-4df4-8686-899c6ce12c54'),\r\n                          maxWidth:120,\r\n                          maxHeight:120\r\n                        }\r\n                    }\r\n                }\r\n            )\r\n            else \r\n            this.props.onInitializeProfileData({\r\n                    state: this.props.profileState.state,\r\n                    popupRedactActiveSection:'baseInfo',\r\n                    placeholder: {\r\n                        userName: this.props.userData.name,\r\n                        description: '',\r\n                        avatar: '',\r\n                        gender: '',\r\n                        birthday: '',\r\n                        citizenship:'',\r\n                        profile_link: '',\r\n                        photo_url: '',\r\n                        profile_background: ''\r\n                    },\r\n                    address: null,\r\n                    userPhones: [],\r\n                    schedule:[],\r\n                    education: [],\r\n                    experience : [],\r\n                    social_links: [],\r\n                    buf:{\r\n                        languageGrade:'A1',\r\n                        scheduleDay:'0',\r\n                        scheduleEndTime:'00:00',\r\n                        scheduleStartTime:'00:00',\r\n                        cropper:{\r\n                          state:false,\r\n                          file:'https://firebasestorage.googleapis.com/v0/b/diploma-55e3f.appspot.com/o/placeholder-avatar.jpg?alt=media&token=5058f243-49e5-4df4-8686-899c6ce12c54',\r\n                          maxWidth:0,\r\n                          maxHeight:0,\r\n                          imageType:''\r\n    \r\n                        }\r\n                    }\r\n    \r\n                }\r\n            )\r\n        }, 100)\r\n        \r\n\r\n    }\r\n\r\n    componentDidMount(){\r\n\r\n        if (this.props.userState.logged && this.props.userFetchId === String(this.props.userState.user.id)){\r\n            console.log(this.props.userState.user)\r\n            this.props.onGetLoggedUserFetch(this.props.userFetchId,this.props.onHasProfile, this.initPlaceholder, this.props.history)\r\n        }\r\n        else{\r\n            this.props.onGetUserFetch(this.props.userFetchId, this.props.history, this.props.onHasProfile)\r\n        }        \r\n        this.props.onGetResumes(this.props.userFetchId)\r\n    }\r\n    \r\n    render() {\r\n        if (Object.keys(this.props.userData).length !== 0)\r\n        return (\r\n            <div className=\"small-container profile-wrapper\">\r\n                <div className=\"profile__main\">\r\n                    <Main></Main>\r\n                    \r\n                    <Resumes></Resumes>\r\n                </div>\r\n                <div className=\"profile__side\">\r\n                    <Side></Side>\r\n                </div>\r\n                {this.props.profileState.state === 'active' ? (<ProfileRedactPopup></ProfileRedactPopup>):('')}\r\n            </div>\r\n        )\r\n\r\n        else return <Loader active={true}></Loader>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return {\r\n        userFetchId: ownProps.match.params.id,\r\n        history: ownProps.history,\r\n        profileState: state.profile,\r\n        userState: state.user,\r\n        userData: state.userData,\r\n        placeholderData: state.profile.placeholder,\r\n        resumeData:state.cvs\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) =>{\r\n    return{\r\n        onInitializeProfileData: (data)=>{\r\n            dispatch({type : 'POPUP_REDACT_INITIALIZE_PROFILE', payload:data}) \r\n        },\r\n        onHasProfile: ()=>{\r\n            dispatch({type : 'USER_HAS_PROFILE', payload:null}) \r\n        },\r\n        onGetLoggedUserFetch: (userId, onHasProfile, initPlaceholder, history)=> {\r\n            dispatch(getUserData(userId))\r\n            .then((data)=>{\r\n                if (data.userData !== null && data.userData!=='404'){\r\n                    console.log(data.userData)\r\n                    if (data.userData.profile_link !== \"empty\"){\r\n                        onHasProfile()\r\n                        console.log('profile')\r\n                    }\r\n                    initPlaceholder()\r\n\r\n                }\r\n                else history.push('/landing')           \r\n            })\r\n        },\r\n        onGetUserFetch: (userId, history, onHasProfile)=> {\r\n            dispatch(getUserData(userId))\r\n            .then((data)=>{\r\n                if (data.userData !== null && data.userData!=='404'){\r\n                    if (data.userData.profile_link !== \"empty\"){\r\n                        onHasProfile()\r\n                        console.log('profile')\r\n                    }\r\n                }\r\n                else history.push('/landing')           \r\n            })\r\n        },\r\n        onGetResumes: (fetchId) => {\r\n            console.log(fetchId)\r\n            dispatch(getUserResumes(fetchId))\r\n            .then((data)=>{\r\n                if (data.data !== null && data.data!=='404'){\r\n                    \r\n                    data.data.map(el=>el.state = '')\r\n                    dispatch({type : 'INITIALIZE_RESUME_PLACEHOLDER', payload:data.data}) \r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\r\n"],"sourceRoot":""}