(this.webpackJsonpdev=this.webpackJsonpdev||[]).push([[7],{118:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},131:function(e,t,a){},193:function(e,t,a){"use strict";a.r(t);var s=a(14),n=a(15),r=a(17),o=a(16),c=a(2),i=a(4),l=a(13),p=a(88),u=a(35),d=(a(118),a(106),a(93)),h=a(91),j=a(90),m=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).toggleMapPopup=function(){""===n.state.mapPopupState?n.setState({mapPopupState:"active"}):n.setState({mapPopupState:""})},n.redactProfile=function(){n.props.onPopupRedactProfileActivate()},n.state={mapPopupState:""},n}return Object(n.a)(a,[{key:"goPhrase",value:function(){return"employee"===this.props.userState.user.user_type?Object(c.jsx)("p",{className:"info__go-phrase highlighted",children:"\u041f\u043e\u0440\u0430 \u043d\u0430\u0447\u0430\u0442\u044c \u0441\u0432\u043e\u044e \u043a\u0430\u0440\u044c\u0435\u0440\u0443!"}):Object(c.jsx)("p",{className:"info__go-phrase highlighted",children:"\u041f\u043e\u0440\u0430 \u043d\u0430\u0439\u0442\u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u0443!"})}},{key:"checkOnEmpty",value:function(e,t){return""!==e?e:t}},{key:"render",value:function(){return this.props.userState.hasProfile?Object(c.jsxs)("div",{className:"main rounded",children:[Object(c.jsxs)("section",{className:"personal top-rounded",style:{backgroundImage:"url(".concat(this.checkOnEmpty(this.props.userData.profile_background,d.a),")")},children:[Object(c.jsx)("img",{className:"personal__avatar",src:this.checkOnEmpty(this.props.userData.photo_url,u.a),alt:"\u0430\u0432\u0430\u0442\u0430\u0440"}),this.props.userState.user.id===this.props.userData.user?Object(c.jsx)("button",{className:"profile-redact-btn",onClick:this.redactProfile,children:Object(c.jsx)("img",{src:j.a,alt:"editIcon"})}):""]}),Object(c.jsxs)("section",{className:"info",children:[Object(c.jsx)("div",{className:"info-head",children:Object(c.jsx)("h2",{className:"info__name bold",children:this.props.userData.name})}),Object(c.jsx)("p",{className:"info__description",children:this.props.userData.about}),Object(c.jsxs)("div",{className:"info__common-info",children:[Object(c.jsx)("p",{className:"info__common-info__birthday",children:this.props.userData.birthday}),Object(c.jsx)("p",{className:"info__common-info__gender "+this.props.userData.gender}),this.props.userData.address?Object(c.jsxs)("div",{className:"address__popup-block",children:[Object(c.jsx)("span",{className:"living__place underline-link",onClick:this.toggleMapPopup,children:this.props.userData.address.name}),"active"===this.state.mapPopupState?Object(c.jsxs)("div",{className:"map-popup rounded",children:[Object(c.jsx)("button",{className:"map-popup__closer-btn",onClick:this.toggleMapPopup,children:"x"}),Object(c.jsx)(h.a,{address:this.props.userData.address})]}):""]}):"",Object(c.jsx)("p",{className:"living__cz",children:this.props.userData.citizenship})]}),this.props.userData.phone&&this.props.userData.language&&this.props.userData.education&&this.props.userData.experience?Object(c.jsxs)("div",{children:[0!==this.props.userData.phone.length?Object(c.jsxs)("div",{className:"info__contacts",children:[Object(c.jsx)("p",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"}),Object(c.jsx)("div",{className:"info__contacts__phones",children:this.props.userData.phone.map((function(e,t){return Object(c.jsx)("a",{className:"contacts__phones-el",href:"tel:"+e,children:e},t)}))})]}):"",0!==this.props.userData.language.length?Object(c.jsxs)("div",{className:"info__languages",children:[Object(c.jsx)("p",{children:"\u0412\u043b\u0430\u0434\u0435\u043d\u0438\u0435 \u044f\u0437\u044b\u043a\u0430\u043c\u0438:"}),this.props.userData.language.map((function(e,t){return Object(c.jsx)("a",{className:"languages-el",children:e.language+" - "+e.grade},t)}))]}):"",0!==this.props.userData.education.length?Object(c.jsxs)("div",{className:"info__education",children:[Object(c.jsx)("h3",{className:"education-head bold headed",children:"\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435:"}),this.props.userData.education.map((function(e,t){return Object(c.jsxs)("div",{className:"education-block",children:[Object(c.jsx)("p",{className:"education-name highlighted",children:e.profession}),Object(c.jsxs)("div",{className:"education-place",children:[Object(c.jsxs)("p",{className:"education-place__institution",children:[e.university,","]}),Object(c.jsxs)("p",{className:"education-place__grade",children:["\xa0",e.type]}),Object(c.jsx)("p",{className:"education-place__longing",children:e.start_year+" - "+e.end_year})]})]},t)}))]}):"",0!==this.props.userData.experience.length?Object(c.jsxs)("div",{className:"info__work-experience",children:[Object(c.jsx)("h3",{className:"courses-head bold headed",children:"\u041e\u043f\u044b\u0442 \u0420\u0430\u0431\u043e\u0442\u044b:"}),this.props.userData.experience.map((function(e,t){return Object(c.jsxs)("div",{className:"education-block",children:[Object(c.jsx)("p",{className:"education-name highlighted",children:e.position}),Object(c.jsxs)("div",{className:"education-place",children:[Object(c.jsxs)("p",{className:"education-place__institution",children:[e.company,","]}),Object(c.jsxs)("p",{className:"education-place__grade",children:["\xa0",e.type,","]}),Object(c.jsx)("p",{className:"education-place__longing",children:e.start_year+" - "+e.end_year})]})]},t)}))]}):""]}):""]})]}):this.props.userState.user.id===this.props.userData.user?Object(c.jsxs)("div",{className:"main rounded",children:[Object(c.jsx)("section",{className:"personal top-rounded",style:{backgroundImage:"url(".concat(this.checkOnEmpty(this.props.userData.profile_background,d.a),")")},children:Object(c.jsx)("img",{className:"personal__avatar",src:this.checkOnEmpty(this.props.userData.photo_url,u.a),alt:"\u0430\u0432\u0430\u0442\u0430\u0440"})}),Object(c.jsxs)("section",{className:"info",children:[Object(c.jsx)("div",{className:"info-head",children:Object(c.jsx)("h2",{className:"info__name bold",children:this.props.userData.name})}),Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{className:"info__description",children:"\u0427\u0442\u043e\u0431\u044b \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 \u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0441\u0435\u0431\u0435!"}),this.goPhrase(),Object(c.jsx)("button",{className:"profile-add-btn",onClick:this.redactProfile,children:Object(c.jsx)("img",{src:p.a,alt:"plusIcon"})})]})]})]}):Object(c.jsxs)("div",{className:"main rounded",children:[Object(c.jsx)("section",{className:"personal top-rounded",style:{backgroundImage:"url(".concat(this.checkOnEmpty(this.props.userData.profile_background,d.a),")")},children:Object(c.jsx)("img",{className:"personal__avatar",src:this.checkOnEmpty(this.props.userData.photo_url,u.a),alt:"\u0430\u0432\u0430\u0442\u0430\u0440"})}),Object(c.jsxs)("section",{className:"info",children:[Object(c.jsx)("div",{className:"info-head",children:Object(c.jsx)("h2",{className:"info__name bold",children:this.props.userData.name})}),Object(c.jsx)("div",{children:Object(c.jsx)("p",{className:"info__description",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u043f\u0443\u0441\u0442!"})})]})]})}}]),a}(i.Component),b=Object(l.b)((function(e){return{userState:e.user,userData:e.userData}}),(function(e){return{onSubjectChangeToEmployer:function(){e({type:"CHANGE_SUBJECT_TO_EMPLOYER",payload:null})},onPopupRedactProfileActivate:function(){e({type:"POPUP_REDACT_PROFILE_ACTIVATE",payload:null})}}}))(m),_=(a(127),function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){return Object(c.jsx)("div",{className:"side rounded"})}}]),a}(i.Component)),f=a(23),g=a(24),O=a(94),x=a(107),v=a(95),y=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).changeVacancyName=function(t){var a=Object(g.b)(t.target.value,35,0,/^[a-zA-Z]*^$/);"pass"===a?e.props.onVacancyNameChange(t.target.value,e.props.resumeIndex):e.props.onInputMistake(a,t.target)},e.changeGradeValue=function(t){e.props.onGradeValueChange(t.target.value,e.props.resumeIndex)},e.changeSalary=function(t){var a=Object(g.a)(t.target.value,9999999,null);"pass"===a?e.props.onSalaryValueChange(parseInt(t.target.value),e.props.resumeIndex):e.props.onInputMistake(a,t.target),console.log(e.props.resumePlaceholder.salary),""===t.target.value&&e.props.onSalaryValueChange(null,e.props.resumeIndex)},e.changeIndustryValue=function(t){e.props.onIndustryValueChange(t.target.value,e.props.resumeIndex)},e.workTypeDelete=function(t){t.preventDefault(),console.log(t.target.parentElement.dataset.key),e.props.onWorkTypeDelete(e.props.resumeWorkType[t.target.parentElement.dataset.key],e.props.resumeIndex)},e.workTypeInput=function(t){var a=t.target.value;t.preventDefault(),e.props.resumeWorkType.length>5||-1===e.props.resumeWorkType.indexOf(a)&&(e.props.onWorkTypeAdd(a,e.props.resumeIndex),t.target.value="")},e.changeAboutValue=function(t){e.props.onAboutValueChange(t.target.value,e.props.resumeIndex)},e.saveResumeFormChanges=function(t){t.preventDefault(),console.log(e.props.resumePlaceholder.salary);var a={id:e.props.cvPlaceholder.id,user_id:e.props.userData.id,vacancy_name:e.props.resumePlaceholder.vacancy_name,industry:e.props.resumePlaceholder.industry||"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e",grade:e.props.resumePlaceholder.grade||"internship",salary:null===e.props.resumePlaceholder.salary?-1:e.props.resumePlaceholder.salary,work_type:e.props.resumePlaceholder.work_type,tags:e.props.resumePlaceholder.tags,about:e.props.resumePlaceholder.about,bg_header_color:e.props.resumePlaceholder.bg_header_color,portfolio:[]};e.props.resumeData.cvs.length===e.props.resumeIndex||0===e.props.resumeData.cvs.length?e.props.onSaveResumeFormChanges(a,-1,e.props.userData.id,e.props.resumePlaceholder.vacancy_name):e.props.onSaveResumeFormChanges(a,e.props.resumeIndex,e.props.userData.id,e.props.cvPlaceholder.id),console.log(a)},e.tagDelete=function(t){t.preventDefault(),console.log(t.target.parentElement.dataset.key),e.props.onTagDelete(e.props.resumePlaceholder.tags[t.target.parentElement.dataset.key],e.props.resumeIndex)},e.tagInput=function(t){console.log(t);var a=t.target.value.split(" ").join("");9!==t.keyCode&&32!==t.keyCode||(t.preventDefault(),e.props.resumePlaceholder.tags.length>10||-1===e.props.resumeTags.indexOf(a)&&(e.props.onTagAdd(a,e.props.resumeIndex),t.target.value=""))},e.closeRedactPopup=function(t){t.preventDefault(),e.props.onPopupRedactResumeDeactivate(e.props.resumeIndex)},e.deleteResume=function(t){t.preventDefault(),e.props.onPopupRedactResumeDelete(e.props.resumeData.cvs[e.props.resumeIndex].id,e.props.userData.id)},e.changeResumeHeaderColor=function(t){t.preventDefault(),e.props.onResumeHeaderColorChange(t.target.value,e.props.resumeIndex)},e}return Object(n.a)(a,[{key:"render",value:function(){var e=this;return Object(c.jsxs)("form",{className:"rounded resume-redact-block "+this.props.resumeState,style:this.props.addStyle,children:[Object(c.jsxs)("div",{className:"resume__header white top-rounded "+this.props.cvPlaceholder.bg_header_color,children:[Object(c.jsxs)("div",{className:"resume__header-top",children:[Object(c.jsx)("input",{required:!0,type:"text",className:"resume__header__name bold f-large white",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u0438",onChange:this.changeVacancyName.bind(this),value:this.props.resumePlaceholder.vacancy_name}),Object(c.jsxs)("p",{className:"resume__header__salary",children:[Object(c.jsx)("input",{required:!0,type:"number",className:"resume__header__salary-input bold f-medium white",placeholder:"\u0416\u0435\u043b\u0430\u0435\u043c\u0430\u044f \u0437\u0430\u0440\u043f\u043b\u0430\u0442\u0430",onChange:this.changeSalary.bind(this),value:0===this.props.resumePlaceholder.salary||-1===this.props.resumePlaceholder.salary||null===this.props.resumePlaceholder.salary?"":this.props.resumePlaceholder.salary}),Object(c.jsx)("span",{className:"bold f-medium",children:" \u0440\u0443\u0431."})]})]}),Object(c.jsxs)("div",{className:"resume__header-bottom",children:[Object(c.jsx)("p",{className:"resume__header__grade",children:Object(c.jsxs)("select",{required:!0,className:"white resume__header__grade-input bg-transparent",id:"resume-gradeInput-"+this.props.index,name:"resume-gradeInput-"+this.props.index,onChange:this.changeGradeValue.bind(this),value:this.props.resumePlaceholder.grade,children:[Object(c.jsx)("option",{value:"internship",children:"\u0421\u0442\u0430\u0436\u0435\u0440"}),Object(c.jsx)("option",{value:"junior",children:"\u041d\u0430\u0447\u0438\u043d\u0430\u044e\u0449\u0438\u0439 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442"}),Object(c.jsx)("option",{value:"middle",children:"\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442"}),Object(c.jsx)("option",{value:"senior",children:"\u0413\u043b\u0430\u0432\u043d\u044b\u0439 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442"}),Object(c.jsx)("option",{value:"director",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0449\u0438\u0439 \u043e\u0442\u0434\u0435\u043b\u0430"}),Object(c.jsx)("option",{value:"senior-director",children:"\u0413\u0435\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u044b\u0439 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440"})]})}),Object(c.jsxs)("ul",{className:"resume__header-color",children:[Object(c.jsx)("button",{className:"resume__header-color-el bg-light-black "+("bg-light-black"===this.props.cvPlaceholder.bg_header_color?"selected":""),onClick:this.changeResumeHeaderColor,value:"bg-light-black"}),Object(c.jsx)("button",{className:"resume__header-color-el bg-blue-gray "+("bg-blue-gray"===this.props.cvPlaceholder.bg_header_color?"selected":""),onClick:this.changeResumeHeaderColor,value:"bg-blue-gray"}),Object(c.jsx)("button",{className:"resume__header-color-el bg-blue-black "+("bg-blue-black"===this.props.cvPlaceholder.bg_header_color?"selected":""),onClick:this.changeResumeHeaderColor,value:"bg-blue-black"}),Object(c.jsx)("button",{className:"resume__header-color-el bg-violet-gray "+("bg-violet-gray"===this.props.cvPlaceholder.bg_header_color?"selected":""),onClick:this.changeResumeHeaderColor,value:"bg-violet-gray"}),Object(c.jsx)("button",{className:"resume__header-color-el bg-violet-black "+("bg-violet-black"===this.props.cvPlaceholder.bg_header_color?"selected":""),onClick:this.changeResumeHeaderColor,value:"bg-violet-black"})]})]})]}),Object(c.jsx)("button",{className:"resume-close-btn",onClick:this.closeRedactPopup,children:Object(c.jsx)("img",{src:O.a,alt:"closeIcon"})}),this.props.resumeIndex!==this.props.resumeData.cvs.length?Object(c.jsx)("button",{className:"resume-delete-btn",onClick:this.deleteResume,children:Object(c.jsx)("img",{src:x.a,alt:"deleteIcon"})}):"",Object(c.jsxs)("div",{className:"resume__main-info rounded",children:[Object(c.jsxs)("p",{className:"resume__industry f-pre",children:[Object(c.jsx)("span",{children:"\u041e\u0442\u0440\u0430\u0441\u043b\u044c: "}),Object(c.jsx)("select",{required:!0,id:"resume-industryInput-"+this.props.index,name:"resume-industryInput-"+this.props.index,onChange:this.changeIndustryValue.bind(this),value:this.props.resumePlaceholder.industry,children:v.map((function(e){return Object(c.jsx)("option",{value:e.name,children:e.name})}))})]}),Object(c.jsxs)("div",{className:"resume__work-type-block input-list",children:[Object(c.jsx)("p",{className:"input-label",children:"\u0422\u0438\u043f\u044b \u0440\u0430\u0431\u043e\u0442:"}),Object(c.jsx)("ul",{className:"resume__work-type-list",children:this.props.resumeWorkType.map((function(t,a){return Object(c.jsxs)("li",{className:"list-input-field__el-block","data-key":a,children:[Object(c.jsx)("span",{children:Object(g.e)(t)}),Object(c.jsx)("button",{className:"el-block__delete-el",onClick:e.workTypeDelete,children:"x"})]},a)}))}),Object(c.jsxs)("div",{className:"resume__work-type input-list",children:["\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c...",Object(c.jsxs)("select",{className:"select-input",name:"workTypeInput",id:"workTypeInput",onChange:this.workTypeInput.bind(this),children:[Object(c.jsx)("option",{value:"part-day",children:"\u043d\u0435\u043f\u043e\u043b\u043d\u044b\u0439 \u0434\u0435\u043d\u044c"}),Object(c.jsx)("option",{value:"full-day",children:"\u043f\u043e\u043b\u043d\u044b\u0439 \u0434\u0435\u043d\u044c"}),Object(c.jsx)("option",{value:"part-time",children:"\u043f\u043e\u043b\u043d\u0430\u044f \u0437\u0430\u043d\u044f\u0442\u043d\u043e\u0441\u0442\u044c"}),Object(c.jsx)("option",{value:"full-time",children:"\u0432\u043e\u043b\u043e\u043d\u0442\u0435\u0440\u0441\u0442\u0432\u043e"}),Object(c.jsx)("option",{value:"one-time-job",children:"\u0440\u0430\u0437\u043e\u0432\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435"}),Object(c.jsx)("option",{value:"flexible-schedule",children:"\u0433\u0438\u0431\u043a\u0438\u0439 \u0433\u0440\u0430\u0444\u0438\u043a"}),Object(c.jsx)("option",{value:"shift-schedule",children:"\u0441\u043c\u0435\u043d\u043d\u044b\u0439 \u0433\u0440\u0430\u0444\u0438\u043a"}),Object(c.jsx)("option",{value:"shift-method",children:"\u0432\u0430\u0445\u0442\u043e\u0432\u044b\u0439 \u043c\u0435\u0442\u043e\u0434"}),Object(c.jsx)("option",{value:"remote",children:"\u0443\u0434\u0430\u043b\u0435\u043d\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430"})]})]})]}),Object(c.jsx)("p",{className:"resume__about",children:Object(c.jsx)("textarea",{className:"resume__about-input",name:"",id:"",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0435\u0437\u044e\u043c\u0435",onChange:this.changeAboutValue.bind(this),value:this.props.resumePlaceholder.about})}),Object(c.jsxs)("div",{className:"resume__tags-block input-list",children:[Object(c.jsx)("ul",{className:"resume__tags-list",children:this.props.resumeTags.map((function(t,a){return Object(c.jsxs)("li",{className:"list-input-field__el-block","data-key":a,children:[Object(c.jsx)("span",{children:t}),Object(c.jsx)("button",{className:"el-block__delete-el",onClick:e.tagDelete,children:"x"})]},a)}))}),Object(c.jsx)("input",{className:"resume__tags-input input-list__input-block",type:"text",onKeyDown:this.tagInput.bind(this),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u0433 \u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043f\u0440\u043e\u0431\u0435\u043b..."})]}),Object(c.jsx)("input",{type:"submit",className:"form-submit-btn f-large rounded bold",onClick:this.saveResumeFormChanges,value:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"})]})]})}}]),a}(i.Component),N=Object(l.b)((function(e,t){var a;return a=t.index===e.cvs.cvs.length?e.cvs.newCv:e.cvs.placeholder[t.index],{userData:e.user.user,resumeData:e.cvs,resumePlaceholder:a,resumeTags:a.tags,resumeWorkType:a.work_type,resumeState:a.state,resumeIndex:t.index,cvPlaceholder:a}}),(function(e){return{onAddResume:function(t){e(Object(f.b)(t)).then((function(e){null!==e.newCvId&&e.newCvId}))},onPopupRedactResumeDeactivate:function(t){e({type:"POPUP_REDACT_RESUME_DEACTIVATE",payload:t})},onPopupRedactResumeDelete:function(t,a){e(Object(f.i)(t)).then((function(t){e(Object(f.r)(a)).then((function(t){null!==t.data&&"404"!==t.data&&(t.data.map((function(e){return e.state=""})),e({type:"INITIALIZE_RESUME_PLACEHOLDER",payload:t.data}))}))}))},onResumeHeaderColorChange:function(t,a){e({type:"POPUP_REDACT_RESUME_CHANGE_COLOR",payload:{color:t,index:a}})},onTagAdd:function(t,a){e({type:"POPUP_REDACT_RESUME_ADD_TAG",payload:{tag:t,index:a}})},onTagDelete:function(t,a){e({type:"POPUP_REDACT_RESUME_DELETE_TAG",payload:{tagId:t,index:a}})},onWorkTypeAdd:function(t,a){e({type:"POPUP_REDACT_RESUME_ADD_WORK_TYPE",payload:{workType:t,index:a}})},onWorkTypeDelete:function(t,a){e({type:"POPUP_REDACT_RESUME_DELETE_WORK_TYPE",payload:{workTypeId:t,index:a}})},onVacancyNameChange:function(t,a){e({type:"POPUP_REDACT_RESUME_CHANGE_VACANCY_NAME",payload:{text:t,index:a}})},onGradeValueChange:function(t,a){e({type:"POPUP_REDACT_RESUME_CHANGE_GRADE_VALUE",payload:{text:t,index:a}})},onIndustryValueChange:function(t,a){e({type:"POPUP_REDACT_RESUME_CHANGE_INDUSTRY_VALUE",payload:{text:t,index:a}})},onAboutValueChange:function(t,a){e({type:"POPUP_REDACT_RESUME_CHANGE_ABOUT_VALUE",payload:{text:t,index:a}})},onSalaryValueChange:function(t,a){e({type:"POPUP_REDACT_RESUME_CHANGE_SALARY_VALUE",payload:{text:t,index:a}})},onSaveResumeFormChanges:function(t,a,s,n){e(-1===a?Object(f.b)(t):Object(f.w)(t,n)).then((function(t){return e({type:"POPUP_REDACT_RESUME_DEACTIVATE",payload:a})})).then((function(t){e(Object(f.r)(s)).then((function(t){null!==t.data&&"404"!==t.data&&(t.data.map((function(e){return e.state=""})),e({type:"INITIALIZE_RESUME_PLACEHOLDER",payload:t.data}))}))}))},onInputMistake:function(e,t){console.log(e)}}}))(y),D=(a(128),function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"componentDidMount",value:function(){this.props.onGetResume(this.props.id)}},{key:"popupClose",value:function(e){e.preventDefault(),this.props.onCloseResumePopup()}},{key:"render",value:function(){return 0!==Object.keys(this.props.openedResume).length?Object(c.jsx)("div",{className:"blur-box active",onClick:this.popupClose.bind(this),children:Object(c.jsxs)("div",{className:"resume resumes-list-el popup-wrapper rounded vacancy-info",children:[Object(c.jsxs)("section",{className:"resume-main",children:[Object(c.jsxs)("div",{className:"resume__header white top-rounded "+this.props.openedResume.bg_header_color,children:[Object(c.jsxs)("div",{className:"resume__header-top",children:[Object(c.jsx)("h2",{className:"resume__header__name bold f-large",children:this.props.openedResume.vacancy_name}),Object(c.jsx)("p",{children:-1===this.props.openedResume.salary?Object(c.jsx)("span",{className:"resume__header__salary bold f-medium",children:"\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430"}):Object(c.jsxs)("span",{className:"resume__header__salary bold f-medium",children:[this.props.openedResume.salary," \u0440\u0443\u0431."]})})]}),Object(c.jsxs)("div",{className:"resume__header-bottom",children:[Object(c.jsx)("p",{className:"resume__header__grade",children:Object(g.c)(this.props.openedResume.grade)}),Object(c.jsx)("p",{className:"resume__publication-date sup",children:this.props.openedResume.pub_date.slice(0,10)})]})]}),Object(c.jsxs)("div",{className:"resume__main-info bottom-rounded full-width",children:[Object(c.jsx)("p",{className:"resume__industry f-pre",children:this.props.openedResume.industry}),Object(c.jsx)("p",{className:"resume__work-type",children:this.props.openedResume.work_type.map((function(e){return Object(g.e)(e)})).join(", ")}),Object(c.jsx)("p",{children:this.props.openedResume.about}),Object(c.jsx)("ul",{className:"resume__tags-list",children:this.props.openedResume.tags.map((function(e,t){return Object(c.jsx)("li",{className:"resume__tags-list-el",children:e},t)}))})]})]}),Object(c.jsx)("button",{className:"close-popup-btn",onClick:this.popupClose.bind(this),tabIndex:"-1",children:"x"})]})}):""}}]),a}(i.Component)),E=Object(l.b)((function(e,t){return{openedResume:e.buf.openedResume,id:t.id}}),(function(e){return{onGetResume:function(t){e(Object(f.m)(t))},onCloseResumePopup:function(){e({type:"CLOSE_RESUME_POPUP",payload:null})}}}))(D),C=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).addResume=function(t){return fetch("../new_cv.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){return console.log(t),t.user=e.props.userData.user,t})).then((function(t){e.props.onPopupNewResumeActivate(t)}))},e.redactResume=function(t){e.props.onPopupRedactResumeActivate(t)},e.openResumeInfo=function(t){e.props.onOpenResumeInfo(t)},e}return Object(n.a)(a,[{key:"render",value:function(){var e=this;return Object(c.jsxs)("div",{className:"resumes-block",children:[this.props.userState.logged?0!==this.props.cvData.cvs.length?Object(c.jsx)("h2",{children:"\u0412\u0430\u0448\u0438 \u0420\u0435\u0437\u044e\u043c\u0435:"}):"":0!==this.props.cvData.cvs.length?Object(c.jsx)("h2",{children:"\u0420\u0435\u0437\u044e\u043c\u0435:"}):"",Object(c.jsxs)("ul",{className:"resumes-list",children:[0!==this.props.cvData.cvs.length?this.props.cvData.cvs.map((function(t,a){return Object(c.jsxs)("li",{className:"resume resumes-list-el rounded",children:["active"===t.state?Object(c.jsx)(N,{index:a}):"",Object(c.jsxs)("section",{className:"resume-main "+("active"===t.state?"muted":""),children:[Object(c.jsxs)("div",{className:"resume__header white top-rounded "+t.bg_header_color,children:[Object(c.jsxs)("div",{className:"resume__header-top",children:[Object(c.jsx)("h2",{className:"resume__header__name bold f-large",onClick:e.openResumeInfo.bind(e,t.id),children:t.vacancy_name}),Object(c.jsx)("p",{children:-1===t.salary?Object(c.jsx)("span",{className:"resume__header__salary bold f-medium",children:"\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430"}):Object(c.jsxs)("span",{className:"resume__header__salary bold f-medium",children:[t.salary," \u0440\u0443\u0431."]})})]}),Object(c.jsxs)("div",{className:"resume__header-bottom",children:[Object(c.jsx)("p",{className:"resume__header__grade",children:Object(g.c)(t.grade)}),Object(c.jsx)("p",{className:"resume__publication-date sup",children:t.pub_date.slice(0,10)})]})]}),Object(c.jsxs)("div",{className:"resume__main-info rounded",children:[Object(c.jsx)("p",{className:"resume__industry f-pre",children:t.industry}),Object(c.jsx)("p",{className:"resume__work-type",children:t.work_type.map((function(e){return Object(g.e)(e)})).join(", ")}),Object(c.jsx)("p",{className:"resume__about",children:t.about}),Object(c.jsx)("ul",{className:"resume__tags-list",children:t.tags.map((function(e,t){return Object(c.jsx)("li",{className:"resume__tags-list-el",children:e},t)}))})]})]}),e.props.userState.logged&&e.props.userState.user.id===e.props.userData.user?Object(c.jsx)("button",{className:"resume-redact-btn",onClick:e.redactResume.bind(e,a),children:Object(c.jsx)("img",{src:j.a,alt:"editIcon"})}):""]},a)})):"",0!==this.props.cvData.newCv.length&&"active"===this.props.cvData.newCv.state?Object(c.jsx)(N,{index:this.props.cvData.cvs.length}):""]}),this.props.userState.logged&&this.props.userState.user.id===this.props.userData.user&&"active"!==this.props.cvData.newCv.state?Object(c.jsxs)("div",{className:"resume-add",children:[Object(c.jsx)("p",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0437\u044e\u043c\u0435:"}),Object(c.jsx)("button",{className:"resume-add-btn",onClick:this.addResume.bind(this,0),children:Object(c.jsx)("img",{src:p.a,alt:"plusIcon"})})]}):"",-1!==this.props.cvData.openedResumeId?Object(c.jsx)(E,{id:this.props.cvData.openedResumeId}):""]})}}]),a}(i.Component),P=Object(l.b)((function(e){return{userState:e.user,userData:e.userData,cvData:e.cvs}}),(function(e){return{onPopupRedactResumeActivate:function(t){e({type:"POPUP_REDACT_RESUME_ACTIVATE",payload:t})},onPopupNewResumeActivate:function(t){e({type:"POPUP_NEW_RESUME_ACTIVATE",payload:t})},onOpenResumeInfo:function(t){e({type:"OPEN_RESUME_POPUP",payload:t})}}}))(C),A=a(27),k=(a(129),a(99)),I=(a(46),a(29)),R=(a(85),a(108)),S=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).cropUserImage=function(t,a,s,n){e.props.onDeactivateCropper(),console.log(t),setTimeout((function(){void 0!==t&&e.props.onActivateCropper(t,a,s,n)}),0)},e.loadImageToFirebase=function(t,a){if(console.log(t),void 0!==t){var s=I.a.storage().ref().child("user-"+a+e.props.userState.user.id);s.put(t).then((function(t){s.getDownloadURL().then((function(t){console.log(t),"avatar"===a?e.props.onChangeAvatar(t):"personal-background"===a&&e.props.onChangePersonalBackground(t)}))}))}},e.getCropperData=function(){if(e.props.onDeactivateCropper(),"undefined"!==typeof e.props.cropperData.instance){var t=e.dataURLtoBlob(e.props.cropperData.instance.getCroppedCanvas().toDataURL());e.loadImageToFirebase(t,e.props.cropperData.imageType)}},e.dataURLtoBlob=function(e){for(var t=e.split(","),a=t[0].match(/:(.*?);/)[1],s=atob(t[1]),n=s.length,r=new Uint8Array(n);n--;)r[n]=s.charCodeAt(n);return new Blob([r],{type:a})},e.loadUserImage=function(t,a){var s=t.target.files[0];e.loadImageToFirebase(s,a)},e.deactivateCropper=function(){e.props.onDeactivateCropper()},e}return Object(n.a)(a,[{key:"render",value:function(){var e=this;return this.props.cropperFile||("avatar"===this.props.cropperData.imageType?this.props.onSetCropperFile("https://firebasestorage.googleapis.com/v0/b/diploma-55e3f.appspot.com/o/placeholder-avatar.jpg?alt=media&token=5058f243-49e5-4df4-8686-899c6ce12c54"):this.props.onSetCropperFile("https://firebasestorage.googleapis.com/v0/b/diploma-55e3f.appspot.com/o/placeholder-background.png?alt=media&token=1c91f99c-c236-4a28-b291-bfc2263df45b")),this.props.cropperActive&&this.props.cropperFile?Object(c.jsxs)("div",{className:"cropper-block",children:[Object(c.jsx)("div",{className:"cropper__img-preview "+this.props.cropperData.imageType,style:{width:this.props.cropperMaxWidth,height:this.props.cropperMaxHeight,overflow:"hidden"}}),Object(c.jsx)(k.a,{style:{width:"100%",height:"400px",backgroundColor:"#fff"},aspectRatio:this.props.cropperMaxWidth/this.props.cropperMaxHeight,preview:".cropper__img-preview",src:this.props.cropperFile,viewMode:1,dragMode:"move",guides:!0,minCropBoxHeight:10,minCropBoxWidth:10,background:!1,responsive:!0,autoCropArea:1,checkOrientation:!1,onInitialized:function(t){e.props.setCropperInstance(t)}}),Object(c.jsxs)("div",{className:"cropper-controls",children:[Object(c.jsx)("button",{className:"cropper-upload-btn",onClick:this.getCropperData,children:Object(c.jsx)("img",{src:R.a,alt:"uploadIcon"})}),Object(c.jsx)("button",{className:"cropper-close-btn",onClick:this.deactivateCropper,children:Object(c.jsx)("img",{src:O.a,alt:"closeIcon"})})]})]}):""}}]),a}(i.Component),T=Object(l.b)((function(e){return{cropperMaxWidth:e.profile.buf.cropper.maxWidth,cropperMaxHeight:e.profile.buf.cropper.maxHeight,cropperFile:e.profile.buf.cropper.file,cropperActive:e.profile.buf.cropper.state,cropperData:e.profile.buf.cropper,userState:e.user}}),(function(e){return{setCropperInstance:function(t){e({type:"SET_CROPPER_INSTANCE",payload:t})},onChangeAvatar:function(t){e({type:"POPUP_REDACT_AVATAR_CHANGE",payload:t})},onChangePersonalBackground:function(t){e({type:"POPUP_REDACT_PERSONAL_BACKGROUND_CHANGE",payload:t})},onDeactivateCropper:function(){e({type:"DEACTIVATE_PROFILE_REDACT_IMAGE_CROPPER",payload:null})},onSetCropperFile:function(t){e({type:"SET_CROPPER_FILE",payload:t})}}}))(S),U=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"checkOnEmpty",value:function(e,t){return""!==e?e:t}},{key:"render",value:function(){return Object(c.jsxs)("div",{className:"main-placeholder rounded",children:[Object(c.jsx)("div",{className:"main-placeholder__personal top-rounded",style:{backgroundImage:"url(".concat(this.checkOnEmpty(this.props.personalBackground,d.a),")")},children:Object(c.jsx)("img",{className:"main-placeholder__personal__avatar",src:this.checkOnEmpty(this.props.avatarPhoto,u.a),alt:"\u0430\u0432\u0430\u0442\u0430\u0440"})}),Object(c.jsx)("section",{className:"main-placeholder__info",children:Object(c.jsxs)("div",{className:"main-placeholder__info-wrapper",children:[Object(c.jsx)("div",{className:"info-head",children:Object(c.jsx)("h2",{className:"info__name bold",children:this.props.userName})}),Object(c.jsx)("p",{className:"info__description",children:this.props.userDescription}),Object(c.jsxs)("div",{className:"info__common-info",children:[Object(c.jsx)("p",{className:"info__common-info__birthday "+this.props.userBirthday,children:this.props.userBirthday}),Object(c.jsx)("p",{className:"info__common-info__gender "+this.props.userGender}),Object(c.jsxs)("div",{className:"info__common-info__living",children:[Object(c.jsx)("p",{className:"living__cz",children:this.props.userCz}),Object(c.jsx)("p",{className:"living__place",children:this.props.userAddress?this.props.userAddress.name:""})]})]}),Object(c.jsxs)("div",{className:"info__contacts__phones",children:[Object(c.jsx)("p",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"}),this.props.userPhones.map((function(e,t){return Object(c.jsx)("a",{className:"contacts__phones-el",href:"tel:"+e,children:e},t)}))]}),Object(c.jsxs)("div",{className:"info__languages",children:[Object(c.jsx)("p",{children:"\u0412\u043b\u0430\u0434\u0435\u043d\u0438\u0435 \u044f\u0437\u044b\u043a\u0430\u043c\u0438:"}),this.props.userLanguages.map((function(e,t){return Object(c.jsx)("a",{className:"languages-el",children:e.language+" - "+e.grade},t)}))]}),0!==this.props.userEducation.length?Object(c.jsxs)("div",{className:"info__education",children:[Object(c.jsx)("h3",{className:"education-head bold headed",children:"\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435:"}),this.props.userEducation.map((function(e,t){return console.log("education",e),Object(c.jsxs)("div",{className:"education-block",children:[Object(c.jsx)("p",{className:"education-name highlighted",children:e.profession}),Object(c.jsxs)("div",{className:"education-place",children:[Object(c.jsxs)("p",{className:"education-place__institution",children:[e.university,","]}),Object(c.jsxs)("p",{className:"education-place__grade",children:["\xa0",e.type]}),Object(c.jsx)("p",{className:"education-place__longing",children:e.start_year+" - "+e.end_year})]})]},t)}))]}):"",0!==this.props.userExperience.length?Object(c.jsxs)("div",{className:"info__work-experience",children:[Object(c.jsx)("h3",{className:"courses-head bold headed",children:"\u041e\u043f\u044b\u0442 \u0420\u0430\u0431\u043e\u0442\u044b:"}),this.props.userExperience.map((function(e,t){return console.log("education",e),Object(c.jsxs)("div",{className:"education-block",children:[Object(c.jsx)("p",{className:"education-name highlighted",children:e.position}),Object(c.jsxs)("div",{className:"education-place",children:[Object(c.jsxs)("p",{className:"education-place__institution",children:[e.company,","]}),Object(c.jsxs)("p",{className:"education-place__grade",children:["\xa0",e.type,","]}),Object(c.jsx)("p",{className:"education-place__longing",children:e.start_year+" - "+e.end_year})]})]},t)}))]}):""]})}),Object(c.jsx)(T,{})]})}}]),a}(i.Component),G=Object(l.b)((function(e){return{placeholderData:e.profile.placeholder,userState:e.user,userData:e.userData,userName:e.profile.placeholder.userName,avatarPhoto:e.profile.placeholder.photo_url,personalBackground:e.profile.placeholder.profile_background,userDescription:e.profile.placeholder.description,userBirthday:e.profile.placeholder.birthday,userGender:e.profile.placeholder.gender,userAddress:e.profile.address,userCz:e.profile.placeholder.citizenship,userPhones:e.profile.userPhones,userLanguages:e.profile.language,userEducation:e.profile.education,userExperience:e.profile.experience}}),(function(e){return{onUpdateUserName:function(t){e({type:"PLACEHOLDER_UPDATE_USER_NAME",payload:t})},setCropperInstance:function(t){e({type:"SET_CROPPER_INSTANCE",payload:t})}}}))(U),L=Object(l.b)((function(e){return{state:e,profileState:e.profile,userState:e.user,placeholderData:e.profile.placeholder,LeafletMapData:e.buf.leafletMap.data}}),(function(e){return{onUsernameChange:function(t){e({type:"POPUP_REDACT_USERNAME_CHANGE",payload:t})},onDescriptionChange:function(t){e({type:"POPUP_REDACT_DESCRIPTION_CHANGE",payload:t})},onBDayChange:function(t){e({type:"POPUP_REDACT_BIRTHDAY_CHANGE",payload:t})},onCzChange:function(t){e({type:"POPUP_REDACT_CITIZENSHIP_CHANGE",payload:t})},onAddressChange:function(t){e({type:"POPUP_REDACT_ADDRESS_NAME_CHANGE",payload:t})},onSaveNewAddress:function(t){e({type:"POPUP_REDACT_ADDRESS_CHANGE",payload:t})},onChangeGenderToMale:function(){e({type:"CHANGE_GENDER_TO_MALE",payload:null})},onChangeGenderToFemale:function(){e({type:"CHANGE_GENDER_TO_FEMALE",payload:null})},onLanguageAdd:function(t){e({type:"POPUP_REDACT_ADD_LANGUAGE",payload:t})},onLanguageGradeChange:function(t){e({type:"POPUP_REDACT_LANGUAGE_GRADE_CHANGE",payload:t})},onLanguageDelete:function(t){e({type:"POPUP_REDACT_DELETE_LANGUAGE",payload:t})},onPhoneAdd:function(t){e({type:"POPUP_REDACT_ADD_PHONE",payload:t})},onPhoneDelete:function(t){e({type:"POPUP_REDACT_DELETE_PHONE",payload:t})},onInputMistake:function(e){console.log(e)}}}))((function(e,t,a,s,n,r,o,i,l,p,u,d,j,m,b,_,f){var O=function(t){"male"===t.target.value?e.onChangeGenderToMale():"female"===t.target.value&&e.onChangeGenderToFemale()},x=function(t){t.preventDefault(),console.log(t.target.parentElement.dataset.key),e.onLanguageDelete(e.profileState.language[t.target.parentElement.dataset.key])},v=function(t){var a;if(t.target.value?a=t.target.value.split(" ").join(""):(t.preventDefault(),a=t.target.languageInput.value.split(" ").join("")),console.log(a),9===t.keyCode||32===t.keyCode||t.target.value){t.preventDefault();var s={grade:e.profileState.buf.languageGrade,language:a};console.log(e.profileState.language.filter((function(e){return e.language===s.language}))),0===e.profileState.language.filter((function(e){return e.language===s.language})).length&&(e.onLanguageAdd(s),t.target.value="")}},y=function(t){t.preventDefault(),console.log(t.target.parentElement.dataset.key),e.onPhoneDelete(e.profileState.userPhones[t.target.parentElement.dataset.key])},N=function(t){var a;if(t.target.value?a=t.target.value.split(" ").join(""):(t.preventDefault(),a=t.target.phonesInput.value.split(" ").join("")),console.log(a),9===t.keyCode||32===t.keyCode||!t.target.value)if(t.preventDefault(),e.profileState.userPhones.length>2);else if(-1===e.profileState.userPhones.indexOf(a)){var s=Object(g.b)(a,100,0,/^([+]?[0-9\s-\(\)]{3,25})*$/i);"pass"===s?e.onPhoneAdd(a):e.onInputMistake(s),a=""}};return Object(c.jsxs)("section",{className:"popup-redact-section",children:[Object(c.jsxs)("div",{className:"popup__input-block",children:[Object(c.jsxs)("div",{className:"input-field underline-anim",children:[Object(c.jsx)("input",{className:"popup__text-input",id:"nameInput",name:"nameInput",type:"text",placeholder:" ",onChange:function(t){var a=t.target.value;e.onUsernameChange(a)},value:t.userName}),Object(c.jsx)("label",{className:"popup__text-label",htmlFor:"nameInput",children:"\u0418\u043c\u044f/\u043d\u0438\u043a\u043d\u0435\u0439\u043c"})]}),Object(c.jsxs)("div",{className:"gender-radio-box",children:[Object(c.jsx)("p",{children:"\u041f\u043e\u043b:"}),Object(c.jsx)("input",{className:"gender-input",type:"radio",id:"gender-male",name:"gender-radio",value:"male",onChange:O}),Object(c.jsx)("input",{className:"gender-input",type:"radio",id:"gender-female",name:"gender-radio",value:"female",onChange:O}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"gender-male",children:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439"}),Object(c.jsx)("label",{htmlFor:"gender-female",children:"\u0416\u0435\u043d\u0441\u043a\u0438\u0439"})]})]}),Object(c.jsxs)("div",{className:"textarea-field",children:[Object(c.jsx)("p",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f"}),Object(c.jsx)("textarea",{className:"popup__textarea-input",name:"descriptionInput",id:"descriptionInput",onChange:function(t){e.onDescriptionChange(t.target.value)},value:t.description})]}),Object(c.jsxs)("div",{className:"input-field underlined",children:[Object(c.jsx)("input",{className:"popup__text-input",id:"birthdayInput",name:"birthdayInput",type:"date",placeholder:" ",onChange:function(t){e.onBDayChange(t.target.value)},value:t.birthday}),Object(c.jsx)("label",{className:"popup__text-label",htmlFor:"birthdayInput",children:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"})]}),Object(c.jsxs)("div",{className:"input-field underlined",children:[Object(c.jsx)("input",{className:"popup__text-input",id:"czInput",name:"czInput",type:"text",placeholder:" ",onChange:function(t){e.onCzChange(t.target.value)},value:t.cz}),Object(c.jsx)("label",{className:"popup__text-label",htmlFor:"czInput",children:"\u0413\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u0442\u0432\u043e"})]}),Object(c.jsxs)("div",{className:"address-input",children:[Object(c.jsx)(h.a,{address:e.profileState.address}),Object(c.jsx)("button",{className:"highlighted sup-btn",onClick:function(t){e.onSaveNewAddress({name:e.LeafletMapData.name,lat:e.LeafletMapData.lat,lng:e.LeafletMapData.lng})},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]}),Object(c.jsxs)("div",{className:"list-input-field popup__input-block",children:[Object(c.jsx)("p",{children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u044b"}),e.profileState.userPhones.map((function(e,t){return Object(c.jsxs)("div",{className:"list-input-field__el-block","data-key":t,children:[Object(c.jsx)("span",{children:e}),Object(c.jsx)("button",{className:"el-block__delete-el",onClick:y,children:"x"})]},t)})),Object(c.jsxs)("form",{className:"flex",onSubmit:N,children:[Object(c.jsx)("input",{className:"popup__text-input",type:"text",id:"phonesInput",name:"phonesInput",placeholder:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043f\u0440\u043e\u0431\u0435\u043b \u043f\u043e\u0441\u043b\u0435 \u0432\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043d\u043e\u043c\u0435\u0440\u0430...",onKeyDown:N}),Object(c.jsx)("button",{className:"sup-btn-circled",children:"+"})]})]}),Object(c.jsxs)("div",{className:"list-input-field popup__input-block",children:[Object(c.jsx)("p",{children:"\u0412\u043b\u0430\u0434\u0435\u043d\u0438\u0435 \u044f\u0437\u044b\u043a\u0430\u043c\u0438"}),e.profileState.language.map((function(e,t){return Object(c.jsxs)("div",{className:"list-input-field__el-block","data-key":t,children:[Object(c.jsx)("span",{children:e.language+" - "+e.grade}),Object(c.jsx)("button",{className:"el-block__delete-el",onClick:x,children:"x"})]},t)})),Object(c.jsxs)("form",{className:"popup__select-text-input",onSubmit:v,children:[Object(c.jsx)("input",{className:"popup__text-input",type:"text",id:"languageInput",name:"languageInput",placeholder:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043f\u0440\u043e\u0431\u0435\u043b \u043f\u043e\u0441\u043b\u0435 \u0432\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u044f\u0437\u044b\u043a\u0430...",onKeyDown:v}),Object(c.jsxs)("select",{name:"languageGradeInput",id:"languageGradeInput",onChange:function(t){e.onLanguageGradeChange(t.target.value)},value:e.profileState.buf.languageGrade,children:[Object(c.jsx)("option",{value:"A1",children:"A1 - \u043d\u0430\u0447\u0438\u043d\u0430\u044e\u0449\u0438\u0439 (Beginner)"}),Object(c.jsx)("option",{value:"A2",children:"A2 - \u043f\u0440\u0435\u0434\u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0439 (Pre-Intermediate)"}),Object(c.jsx)("option",{value:"B1",children:"B1 - \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0439 (Intermediate)"}),Object(c.jsx)("option",{value:"B2",children:"B2 - \u043f\u0440\u0435\u0434\u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 (Upper-Intermediate)"}),Object(c.jsx)("option",{value:"C1",children:"C1 - \u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 (Advanced)"}),Object(c.jsx)("option",{value:"C2",children:"C2 - \u0412\u043b\u0430\u0434\u0435\u043d\u0438\u0435 \u0432 \u0441\u043e\u0432\u0435\u0440\u0448\u0435\u043d\u0441\u0442\u0432\u0435 (Mastery)"})]}),Object(c.jsx)("button",{className:"sup-btn-circled",children:"+"})]})]})]})})),w=Object(l.b)((function(e){return{state:e,profileState:e.profile,userState:e.user,placeholderData:e.profile.placeholder,cropperData:e.profile.buf.cropper}}),(function(e){return{onEducationAdd:function(t){e({type:"POPUP_REDACT_ADD_EDUCATION",payload:t})},onEducationDelete:function(t){e({type:"POPUP_REDACT_DELETE_EDUCATION",payload:t})},onExperienceAdd:function(t){e({type:"POPUP_REDACT_ADD_EXPERIENCE",payload:t})},onExperienceDelete:function(t){e({type:"POPUP_REDACT_DELETE_EXPERIENCE",payload:t})}}}))((function(e,t,a,s,n,r){var o=function(t){t.preventDefault(),console.log(t.target.parentElement.dataset.key),e.onEducationDelete(e.profileState.education[t.target.parentElement.dataset.key])},i=function(t){t.preventDefault(),console.log(t.target.parentElement.dataset.key),e.onExperienceDelete(e.profileState.experience[t.target.parentElement.dataset.key])};return Object(c.jsxs)("section",{className:"popup-redact-section",children:[Object(c.jsxs)("form",{className:"popup__education-input popup__input-block",onSubmit:function(t){t.preventDefault(),e.profileState.buf.educationBlocksAmount++;var a={profession:t.target.professionInput.value,university:t.target.universityInput.value,type:t.target.educationTypeInput.value,start_year:t.target.educationStartDateInput.value,end_year:t.target.educationEndDateInput.value};e.onEducationAdd(a)},children:[console.log(e),e.profileState.education.map((function(e,t){return Object(c.jsxs)("div",{className:"list-input-field__el-block","data-key":t,children:[Object(c.jsx)("span",{children:e.profession+" - "+e.university}),Object(c.jsx)("button",{className:"el-block__delete-el",onClick:o,children:"x"})]},t)})),Object(c.jsxs)("div",{className:"input-field underlined",children:[Object(c.jsx)("input",{className:"popup__text-input",id:"professionInput",name:"professionInput",type:"input",placeholder:" ",required:!0}),Object(c.jsx)("label",{className:"popup__text-label",htmlFor:"professionInput",children:"\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f"})]}),Object(c.jsxs)("div",{className:"input-field underlined",children:[Object(c.jsx)("input",{className:"popup__text-input",id:"universityInput",name:"universityInput",type:"input",placeholder:" ",required:!0}),Object(c.jsx)("label",{className:"popup__text-label",htmlFor:"universityInput",children:"\u041c\u0435\u0441\u0442\u043e \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u044f"})]}),Object(c.jsxs)("select",{name:"educationTypeInput",id:"educationTypeInput",children:[Object(c.jsx)("option",{value:"course",children:"\u041a\u0443\u0440\u0441\u044b"}),Object(c.jsx)("option",{value:"primary",children:"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 (4 \u043a\u043b\u0430\u0441\u0441\u0430)"}),Object(c.jsx)("option",{value:"basic",children:"\u0421\u0440\u0435\u0434\u043d\u0435\u0435 \u043e\u0431\u0449\u0435\u0435 \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 (9 \u043a\u043b\u0430\u0441\u0441\u043e\u0432)"}),Object(c.jsx)("option",{value:"secondary",children:"\u0421\u0440\u0435\u0434\u043d\u0435\u0435 \u043f\u043e\u043b\u043d\u043e\u0435 \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 (11 \u043a\u043b\u0430\u0441\u0441\u043e\u0432)"}),Object(c.jsx)("option",{value:"post-secondary",children:"\u0421\u0440\u0435\u0434\u043d\u0435\u0435 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435"}),Object(c.jsx)("option",{value:"bachelor",children:"\u0412\u044b\u0441\u0448\u0435\u0435 (\u0431\u0430\u043a\u0430\u043b\u0430\u0432\u0440\u0438\u0430\u0442)"}),Object(c.jsx)("option",{value:"specialist",children:"\u0412\u044b\u0441\u0448\u0435\u0435 (\u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0442\u0435\u0442)"}),Object(c.jsx)("option",{value:"master",children:"\u0412\u044b\u0441\u0448\u0435\u0435 (\u043c\u0430\u0433\u0438\u0441\u0442\u0440\u0430\u0442\u0443\u0440\u0430)"}),Object(c.jsx)("option",{value:"PhD-asp",children:"\u0410\u0441\u043f\u0438\u0440\u0430\u043d\u0442\u0443\u0440\u0430"}),Object(c.jsx)("option",{value:"PhD-doc",children:"\u0414\u043e\u043a\u0442\u043e\u0440\u0430\u043d\u0442\u0443\u0440\u0430"})]}),Object(c.jsxs)("div",{className:"popup__date-fields",children:[Object(c.jsxs)("div",{className:"input-field",children:[Object(c.jsx)("input",{className:"popup__text-input",id:"educationStartDateInput",name:"educationStartDateInput",type:"date",placeholder:" ",required:!0}),Object(c.jsx)("label",{className:"popup__text-label",htmlFor:"educationStartDateInput",children:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430"})]}),Object(c.jsxs)("div",{className:"input-field",children:[Object(c.jsx)("input",{className:"popup__text-input",id:"educationEndDateInput",name:"educationEndDateInput",type:"date",placeholder:" ",required:!0}),Object(c.jsx)("label",{className:"popup__text-label",htmlFor:"educationEndDateInput",children:"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f"})]})]}),Object(c.jsx)("input",{type:"submit",className:"education-input__submit highlighted sup-btn",value:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),Object(c.jsxs)("form",{className:"popup__experience-input popup__input-block",onSubmit:function(t){t.preventDefault(),console.log(t.target),e.profileState.buf.educationBlocksAmount++;var a={position:t.target.positionInput.value,company:t.target.companyInput.value,type:t.target.experienceTypeInput.value,start_year:t.target.experienceStartDateInput.value,end_year:t.target.experienceEndDateInput.value};e.onExperienceAdd(a)},children:[e.profileState.experience.map((function(e,t){return Object(c.jsxs)("div",{className:"list-input-field__el-block","data-key":t,children:[Object(c.jsx)("span",{children:e.position+" - "+e.company}),Object(c.jsx)("button",{className:"el-block__delete-el",onClick:i,children:"x"})]},t)})),Object(c.jsxs)("div",{className:"input-field",children:[Object(c.jsx)("input",{className:"popup__text-input",id:"positionInput",name:"positionInput",type:"input",placeholder:" "}),Object(c.jsx)("label",{className:"popup__text-label",htmlFor:"positionInput",children:"\u041f\u043e\u0437\u0438\u0446\u0438\u044f"})]}),Object(c.jsxs)("div",{className:"input-field",children:[Object(c.jsx)("input",{className:"popup__text-input",id:"companyInput",name:"companyInput",type:"input",placeholder:" "}),Object(c.jsx)("label",{className:"popup__text-label",htmlFor:"companyInput",children:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f"})]}),Object(c.jsxs)("select",{name:"experienceTypeInput",id:"experienceTypeInput",children:[Object(c.jsx)("option",{value:"internship",children:"\u0421\u0442\u0430\u0436\u0438\u0440\u043e\u0432\u043a\u0430"}),Object(c.jsx)("option",{value:"junior",children:"\u041c\u043b\u0430\u0434\u0448\u0438\u0439 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442"}),Object(c.jsx)("option",{value:"middle",children:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442"}),Object(c.jsx)("option",{value:"senior",children:"\u0421\u0442\u0430\u0440\u0448\u0438\u0439 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442"}),Object(c.jsx)("option",{value:"director",children:"\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c"}),Object(c.jsx)("option",{value:"senior-director",children:"\u0421\u0442\u0430\u0440\u0448\u0438\u0439 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c"})]}),Object(c.jsxs)("div",{className:"popup__date-fields",children:[Object(c.jsxs)("div",{className:"input-field",children:[Object(c.jsx)("input",{className:"popup__text-input",id:"experienceStartDateInput",name:"experienceStartDateInput",type:"date",placeholder:" "}),Object(c.jsx)("label",{className:"popup__text-label",htmlFor:"experienceStartDateInput",children:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430"})]}),Object(c.jsxs)("div",{className:"input-field",children:[Object(c.jsx)("input",{className:"popup__text-input",id:"experienceEndDateInput",name:"experienceEndDateInput",type:"date",placeholder:" "}),Object(c.jsx)("label",{className:"popup__text-label",htmlFor:"experienceEndDateInput",children:"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f"})]})]}),Object(c.jsx)("input",{type:"submit",className:"experience-input__submit highlighted sup-btn",value:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})})),F=a(109),H=void 0,M=Object(l.b)((function(e){return{state:e,profileState:e.profile,userState:e.user,placeholderData:e.profile.placeholder,cropperData:e.profile.buf.cropper}}),(function(e){return{onActivateCropper:function(t,a,s,n){e({type:"ACTIVATE_PROFILE_REDACT_IMAGE_CROPPER",payload:[t,a,s,n]})},onDeactivateCropper:function(){e({type:"DEACTIVATE_PROFILE_REDACT_IMAGE_CROPPER",payload:null})},onChangeAvatar:function(t){e({type:"POPUP_REDACT_AVATAR_CHANGE",payload:t})},onChangePersonalBackground:function(t){e({type:"POPUP_REDACT_PERSONAL_BACKGROUND_CHANGE",payload:t})}}}))((function(e,t,a,s,n,r,o,i){var l=function(t,a,s,n){e.onDeactivateCropper(),console.log(t),setTimeout((function(){void 0!==t&&e.onActivateCropper(t,a,s,n)}),0)},p=function(t,a){if(console.log(t,a),void 0!==t){var s=I.a.storage().ref().child("user-"+a+e.userState.user.id);s.put(t).then((function(t){console.log(t),s.getDownloadURL().then((function(t){console.log(t),"avatar"===a?e.onChangeAvatar(t):"personal-background"===a&&e.onChangePersonalBackground(t)}))}))}},u=function(e){e.preventDefault()},d=function(e){e.preventDefault()},h=function(e){e.preventDefault()},j=function(e,t){e.preventDefault();var a=e.dataTransfer.files;console.log(a),p(a[0],t)},m=function(e,t){var a=e.target.files[0];p(a,t)};return Object(c.jsxs)("section",{className:"popup-redact-section",children:[Object(c.jsxs)("div",{className:"drop-container",onDragOver:u,onDragEnter:d,onDragLeave:h,onDrop:function(e){j(e,"avatar")},children:[Object(c.jsx)("input",{type:"file",id:"file-avatar",hidden:!0,name:"userAvatarInput",onChange:function(e){m(e,"avatar")}}),Object(c.jsx)("label",{className:"file-input rounded sup-btn",htmlFor:"file-avatar",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440"}),Object(c.jsx)("button",{className:"cropper-activate-btn",onClick:l.bind(H,e.placeholderData.photo_url,120,120,"avatar"),children:Object(c.jsx)("img",{src:F.a,alt:"\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"})}),Object(c.jsx)("div",{className:"drop-message",children:Object(c.jsx)("div",{className:"upload-icon"})})]}),Object(c.jsxs)("div",{className:"drop-container",onDragOver:u,onDragEnter:d,onDragLeave:h,onDrop:function(e){j(e,"personal-background")},children:[Object(c.jsx)("input",{type:"file",id:"file-back",hidden:!0,name:"userBackgroundInput",onChange:function(e){m(e,"personal-background")}}),Object(c.jsx)("label",{className:"file-input rounded sup-btn",htmlFor:"file-back",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0437\u0430\u0434\u043d\u0438\u0439 \u0444\u043e\u043d"}),Object(c.jsx)("button",{className:"cropper-activate-btn",onClick:l.bind(H,e.placeholderData.profile_background,700,160,"personal-background"),children:Object(c.jsx)("img",{src:F.a,alt:"\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"})}),Object(c.jsx)("div",{className:"drop-message",children:Object(c.jsx)("div",{className:"upload-icon"})})]})]})})),V=a(110),B=a.p+"static/media/experience.042835b3.svg",z=a(111),W=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).saveRedactProfileFormChanges=function(t){t.preventDefault();var a={user_id:e.props.userState.user.id,gender:e.props.placeholderData.gender,name:e.props.placeholderData.userName,mailing:!0,language:e.props.profileState.language,birthday:e.props.placeholderData.birthday,address:e.props.profileState.address,phone:e.props.profileState.userPhones,about:e.props.placeholderData.description,social_links:[],education:e.props.profileState.education,experience:e.props.profileState.experience,citizenship:e.props.placeholderData.citizenship,profile_link:"",photo_url:e.props.placeholderData.photo_url,profile_background:e.props.placeholderData.profile_background};"employee"===e.props.userState.user.user_type?e.props.onUpdateEmployee(a,e.props.userState.user.id,e.props.onGetUserFetch,e.props.onHasProfile):e.props.onUpdateEmployer(a,e.props.userState.user.id,e.props.onGetUserFetch,e.props.onHasProfile),e.props.onPopupRedactProfileDeactivate()},e}return Object(n.a)(a,[{key:"popupClose",value:function(e){e.preventDefault(),this.props.onPopupRedactProfileDeactivate()}},{key:"changeSection",value:function(e){this.props.onChangeSection(e)}},{key:"render",value:function(){return Object(c.jsx)("div",{className:"no-fix-blur-box rounded profile-redact "+this.props.profileState.state,children:Object(c.jsxs)("div",{className:"profile-redact__popup-wrapper",children:[Object(c.jsx)(G,{}),Object(c.jsxs)("div",{className:"profile-redact__form",children:[Object(c.jsxs)("div",{className:"profile-redact__form-nav",children:[Object(c.jsx)("button",{className:"popup-nav-btn rounded "+("baseInfo"===this.props.profileState.popupRedactActiveSection?"active":""),onClick:this.changeSection.bind(this,"baseInfo"),children:Object(c.jsx)("img",{src:V.a,alt:"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"})}),Object(c.jsx)("button",{className:"popup-nav-btn rounded "+("experience"===this.props.profileState.popupRedactActiveSection?"active":""),onClick:this.changeSection.bind(this,"experience"),children:Object(c.jsx)("img",{src:B,alt:"\u041e\u043f\u044b\u0442 \u0438 \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435"})}),Object(c.jsx)("button",{className:"popup-nav-btn rounded "+("images"===this.props.profileState.popupRedactActiveSection?"active":""),onClick:this.changeSection.bind(this,"images"),children:Object(c.jsx)("img",{src:z.a,alt:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f"})})]}),"baseInfo"===this.props.profileState.popupRedactActiveSection?Object(c.jsx)(L,{}):"","experience"===this.props.profileState.popupRedactActiveSection?Object(c.jsx)(w,{}):"","images"===this.props.profileState.popupRedactActiveSection?Object(c.jsx)(M,{}):"",Object(c.jsx)("button",{className:"form-submit-btn f-large rounded bold",onClick:this.saveRedactProfileFormChanges,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"}),Object(c.jsx)("button",{className:"profile-redact__close-popup-btn",onClick:this.popupClose.bind(this),tabIndex:"-1",children:"x"})]})]})})}}]),a}(i.Component),q=Object(l.b)((function(e){return{profileState:e.profile,userState:e.user,placeholderData:e.profile.placeholder,loaderActive:e.nav.popup.loaderActive,cropperActive:e.profile.buf.cropper.state,cropperData:e.profile.buf.cropper}}),(function(e){return{onPopupRedactProfileDeactivate:function(){e({type:"POPUP_REDACT_PROFILE_DEACTIVATE",payload:null})},onChangeSection:function(t){e({type:"POPUP_REDACT_CHANGE_SECTION",payload:t})},onActivateLoader:function(){e({type:"ACTIVATE_PROFILE_REDACT_LOADER",payload:null})},onDeactivateLoader:function(){e({type:"DEACTIVATE_PROFILE_REDACT_LOADER",payload:null})},onCreateNewEmployee:function(t,a,s,n){e({type:"WAITING_FOR_FETCH",payload:null}),e(Object(f.f)(t)).then((function(e){return s(a,n)}))},onCreateNewEmployer:function(){e({type:"WAITING_FOR_FETCH",payload:null})},onUpdateEmployee:function(t,a,s,n){e({type:"WAITING_FOR_FETCH",payload:null}),e(Object(f.z)(t,a)).then((function(e){return s(a,n)}))},onUpdateEmployer:function(){e({type:"WAITING_FOR_FETCH",payload:null})},onHasProfile:function(){e({type:"USER_HAS_PROFILE",payload:null})},onGetUserFetch:function(t,a){e(Object(f.p)(t)).then((function(e){null!==e.userData&&(console.log(e.userData),a())}))}}}))(W),K=(a(131),function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).initPlaceholder=function(){console.log(e.props.userState.hasProfile),e.props.userState.hasProfile?e.props.onInitializeProfileData({state:e.props.profileState.state,popupRedactActiveSection:e.props.profileState.popupRedactActiveSection,placeholder:{userName:e.props.userData.name,description:e.checkIfNotNull(e.props.userData.about,""),avatar:"",gender:e.checkIfNotNull(e.props.userData.gender,""),birthday:e.checkIfNotNull(e.props.userData.birthday,""),citizenship:e.checkIfNotNull(e.props.userData.citizenship,""),profile_link:"",photo_url:e.checkIfNotNull(e.props.userData.photo_url,"https://firebasestorage.googleapis.com/v0/b/diploma-55e3f.appspot.com/o/placeholder-avatar.jpg?alt=media&token=5058f243-49e5-4df4-8686-899c6ce12c54"),profile_background:e.checkIfNotNull(e.props.userData.profile_background,"")},address:e.props.userData.address,userPhones:e.checkIfNotNull(e.props.userData.phone,[]),language:e.checkIfNotNull(e.props.userData.language,[]),education:e.checkIfNotNull(e.props.userData.education,[]),experience:e.checkIfNotNull(e.props.userData.experience,[]),social_links:[],buf:{languageGrade:"A1",cropper:{state:!1,file:e.checkIfNotNull(e.props.userData.photo_url,"https://firebasestorage.googleapis.com/v0/b/diploma-55e3f.appspot.com/o/placeholder-avatar.jpg?alt=media&token=5058f243-49e5-4df4-8686-899c6ce12c54"),maxWidth:120,maxHeight:120}}}):e.props.onInitializeProfileData({state:e.props.profileState.state,popupRedactActiveSection:"baseInfo",placeholder:{userName:e.props.userData.name,description:"",avatar:"",gender:"",birthday:"",citizenship:"",profile_link:"",photo_url:"",profile_background:""},address:null,userPhones:[],language:[],education:[],experience:[],social_links:[],buf:{languageGrade:"A1",cropper:{state:!1,file:"https://firebasestorage.googleapis.com/v0/b/diploma-55e3f.appspot.com/o/placeholder-avatar.jpg?alt=media&token=5058f243-49e5-4df4-8686-899c6ce12c54",maxWidth:0,maxHeight:0,imageType:""}}})},e}return Object(n.a)(a,[{key:"checkIfNotNull",value:function(e,t){return console.log(e),"undefined"!==typeof e&&null!==e&&""!==e?e:t}},{key:"componentDidMount",value:function(){this.props.userState.logged&&this.props.userFetchId===String(this.props.userState.user.id)?(console.log(this.props.userState.user),this.props.onGetLoggedUserFetch(this.props.userFetchId,this.props.onHasProfile,this.initPlaceholder,this.props.history)):this.props.onGetUserFetch(this.props.userFetchId,this.props.history,this.props.onHasProfile),this.props.onGetResumes(this.props.userFetchId)}},{key:"render",value:function(){return 0!==Object.keys(this.props.userData).length?Object(c.jsxs)("div",{className:"small-container profile-wrapper",children:[Object(c.jsxs)("div",{className:"profile__main",children:[Object(c.jsx)(b,{}),Object(c.jsx)(P,{})]}),Object(c.jsx)("div",{className:"profile__side",children:Object(c.jsx)(_,{})}),"active"===this.props.profileState.state?Object(c.jsx)(q,{}):""]}):Object(c.jsx)(A.a,{active:!0})}}]),a}(i.Component));t.default=Object(l.b)((function(e,t){return{userFetchId:t.match.params.id,history:t.history,profileState:e.profile,userState:e.user,userData:e.userData,placeholderData:e.profile.placeholder,resumeData:e.cvs}}),(function(e){return{onInitializeProfileData:function(t){e({type:"POPUP_REDACT_INITIALIZE_PROFILE",payload:t})},onHasProfile:function(){e({type:"USER_HAS_PROFILE",payload:null})},onGetLoggedUserFetch:function(t,a,s,n){e(Object(f.p)(t)).then((function(e){null!==e.userData&&"404"!==e.userData?(console.log(e.userData),"empty"!==e.userData.profile_link&&(a(),console.log("profile")),s()):n.push("/landing")}))},onGetUserFetch:function(t,a,s){e(Object(f.p)(t)).then((function(e){null!==e.userData&&"404"!==e.userData?"empty"!==e.userData.profile_link&&(s(),console.log("profile")):a.push("/landing")}))},onGetResumes:function(t){console.log(t),e(Object(f.r)(t)).then((function(t){null!==t.data&&"404"!==t.data&&(t.data.map((function(e){return e.state=""})),e({type:"INITIALIZE_RESUME_PLACEHOLDER",payload:t.data}))}))}}}))(K)}}]);
//# sourceMappingURL=7.7c9bb134.chunk.js.map