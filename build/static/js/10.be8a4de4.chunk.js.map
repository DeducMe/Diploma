{"version":3,"sources":["components/Search/SearchSide/SearchSide.js","components/Search/SearchMain/SearchMain.js","components/Search/Search.js"],"names":["Range","createSliderWithTooltip","Slider","SearchSide","props","changeIndustry","e","target","value","onChangeIndustry","ChangeSlider","values","searchOptions","onSetSearchOptions","gradeChange","checked","onAddGrade","onDeleteGrade","workTypeChange","onAddWorkType","onDeleteWorkType","getAvatarFromFirebase","id","pk","fileUploader","storage","ref","child","getDownloadURL","then","response","onSetValuePhoto","catch","err","getSearchValues","nullify","onNullifyValues","onGetSearchResponse","parseOptions","searchType","state","timeoutHandler","console","log","clearTimeout","this","onSearchLoaderActivate","setTimeout","className","min","max","defaultValue","onChange","bind","type","name","htmlFor","onClick","industriesData","map","item","Component","connect","ownProps","history","search","dispatch","payload","options","searchLoaderActivate","next","getSearchNext","getSearchQueries","data","count","results","photo_url","owner_id","searchLoaderDeactivate","photo","SearchMain","sortSearch","sortProp","searchValues","sortByValue","onSortValues","searchBtnClick","preventDefault","onChangeSearchQuery","queryInput","searchState","searchLoading","addToFavourites","index","onAddToFavourites","deleteFromFavourites","onDeleteFromFavourites","openResponsePopup","onOpenResponsePopup","arr","sortMethod","sort","a","b","bg_header_color","vacancy_name","salary","getGradeValues","grade","pub_date","slice","industry","work_type","getWorkTypeValues","join","about","leading","to","searchTypeToUserType","src","alt","owner","userState","user_type","got_responsed","openedResponseId","ResponsePopup","favorite","Loader","active","as","inView","entry","user","onUpdateValues","query","addFavourite","deleteFavourite","Search","checkSearchType","Object","keys","k","encodeURIComponent","phrase","searchCount"],"mappings":"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","file":"static/js/10.be8a4de4.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Slider from 'rc-slider';\r\nimport 'rc-slider/assets/index.css';\r\nimport {getSearchQueries} from '../../../actions/serverConnections'\r\nimport {searchLoaderDeactivate, searchLoaderActivate} from '../../../actions/asyncDispatch'\r\nimport fileUploader from '../../../actions/fileUploader';\r\nimport {getSearchNext, getSearchLoadingState} from '../../../actions/asyncDispatch';\r\nimport {parseOptions} from '../../../scripts/commonScripts'\r\nimport industriesData from '../../../jsonFiles/industries.json'\r\nimport { NavItem } from 'react-materialize';\r\n\r\nconst { createSliderWithTooltip } = Slider;\r\nconst Range = createSliderWithTooltip(Slider.Range);\r\nclass SearchSide extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {timeoutHandler: false};\r\n           \r\n    } \r\n    changeIndustry = (e) => {\r\n        if (e.target.value === 'Не указано'){\r\n            this.props.onChangeIndustry(null)\r\n            return\r\n        }\r\n        if (e.target.value!==0){\r\n            this.props.onChangeIndustry(e.target.value)\r\n        }\r\n        \r\n    }\r\n\r\n    ChangeSlider = (values) =>{\r\n        if (this.props.searchOptions['min-salary'] !== values[0]) this.props.onSetSearchOptions({'min-salary': values[0] === 0 ? -1 : values[0]})\r\n        else if (this.props.searchOptions['max-salary'] !== values[1]) this.props.onSetSearchOptions({'max-salary': values[1] === 0 ? -1 : values[1]})\r\n    }\r\n\r\n    gradeChange = (e) =>{\r\n        if (e.target.checked) this.props.onAddGrade(e.target.value)\r\n        else this.props.onDeleteGrade(e.target.value)\r\n    }\r\n\r\n    workTypeChange = (e) =>{\r\n        if (e.target.checked) this.props.onAddWorkType(e.target.value)\r\n        else this.props.onDeleteWorkType(e.target.value)\r\n    }\r\n\r\n    getAvatarFromFirebase = (id, pk) =>{   //пришлось делать кучу изменений состояний, потому что один flutter разработчик решил, что он не будет сохранять url. \r\n        const storageRef = fileUploader.storage().ref()\r\n        const fileRef = storageRef.child('user-avatar' + id)\r\n        fileRef.getDownloadURL()\r\n        .then((response) => this.props.onSetValuePhoto(response, pk))\r\n        .catch(err => this.props.onSetValuePhoto('https://firebasestorage.googleapis.com/v0/b/diploma-55e3f.appspot.com/o/placeholder-avatar.jpg?alt=media&token=5058f243-49e5-4df4-8686-899c6ce12c54', pk))\r\n    }\r\n\r\n    getSearchValues = (nullify) => {\r\n        if (nullify) this.props.onNullifyValues()\r\n            \r\n        this.props.onGetSearchResponse(parseOptions(this.props.searchOptions), this.props.searchOptions.searchType, this.getAvatarFromFirebase)\r\n    }\r\n    \r\n    componentDidUpdate(){\r\n        console.log('updated')\r\n        clearTimeout(this.state.timeoutHandler);\r\n        this.props.onSearchLoaderActivate()\r\n\r\n        this.state.timeoutHandler = setTimeout(()=>{\r\n            console.log('asasfasfas')\r\n            this.getSearchValues(true)\r\n        }, 1000)\r\n        \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"search-side rounded\">\r\n                <form>\r\n                    <div className=\"search-side__block search-side__salary\">\r\n                        <h3>Зарплата</h3>\r\n                        <p className=\"search-side__salary-placeholder\">\r\n                            <span>минимальная: {this.props.searchOptions['min-salary'] === -1 ? 0 : this.props.searchOptions['min-salary']} руб.</span><span>максимальная: {this.props.searchOptions['max-salary']} руб.</span>\r\n                        </p>\r\n                        <Range min={-1} max={500000} defaultValue={[-1, 400000]} onChange={this.ChangeSlider.bind(this)} />\r\n                    </div>\r\n\r\n                    <div className=\"search-side__block search-side__grade\">\r\n                        <h3>Уровень компетенции</h3>\r\n\r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__grade-internship\" value=\"internship\" id=\"search-options__grade-internship\" onChange={this.gradeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__grade-internship\">Стажер</label>\r\n                        </div>\r\n                        \r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__grade-junior\" value=\"junior\" id=\"search-options__grade-junior\" onChange={this.gradeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__grade-junior\">Начинающий специалист</label>\r\n                        </div>\r\n\r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__grade-middle\" value=\"middle\" id=\"search-options__grade-middle\" onChange={this.gradeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__grade-middle\">Специалист</label>\r\n                        </div>\r\n\r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__grade-senior\" value=\"senior\" id=\"search-options__grade-senior\" onChange={this.gradeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__grade-senior\">Главный специалист</label>\r\n                        </div>\r\n\r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__grade-director\" value=\"director\" id=\"search-options__grade-director\" onChange={this.gradeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__grade-director\">Управляющий отдела</label>\r\n                        </div>\r\n\r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__grade-senior-director\" value=\"senior-director\" id=\"search-options__grade-senior-director\" onChange={this.gradeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__grade-senior-director\">Генеральный директор</label>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"search-side__block search-side__grade\">\r\n                        <h3>Типы работ</h3>\r\n\r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__work-type-part-day\" value=\"part-day\" id=\"search-options__work-type-part-day\" onChange={this.workTypeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__work-type-part-day\">неполный день</label>\r\n                        </div>\r\n\r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__work-type-full-day\" value=\"full-day\" id=\"search-options__work-type-full-day\" onChange={this.workTypeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__work-type-full-day\">полный день</label>\r\n                        </div>\r\n\r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__work-type-part-time\" value=\"part-time\" id=\"search-options__work-type-part-time\" onChange={this.workTypeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__work-type-part-time\">неполная занятость</label>\r\n                        </div>\r\n\r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__work-type-full-time\" value=\"full-time\" id=\"search-options__work-type-full-time\" onChange={this.workTypeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__work-type-full-time\">полная занятность</label>\r\n                        </div>\r\n                        \r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__work-type-volunteer\" value=\"volunteer\" id=\"search-options__work-type-volunteer\" onChange={this.workTypeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__work-type-volunteer\">волонтерство</label>\r\n                        </div>\r\n\r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__work-type-one-time-job\" value=\"one-time-job\" id=\"search-options__work-type-one-time-job\" onChange={this.workTypeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__work-type-one-time-job\">разовое задание</label>\r\n                        </div>\r\n\r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__work-type-flexible-schedule\" value=\"flexible-schedule\" id=\"search-options__work-type-flexible-schedule\" onChange={this.workTypeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__work-type-flexible-schedule\">гибкий график</label>\r\n                        </div>\r\n\r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__work-type-shift-schedule\" value=\"shift-schedule\" id=\"search-options__work-type-shift-schedule\" onChange={this.workTypeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__work-type-shift-schedule\">сменный график</label>\r\n                        </div>\r\n\r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__work-type-shift-method\" value=\"shift-method\" id=\"search-options__work-type-shift-method\" onChange={this.workTypeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__work-type-shift-method\">вахтовый метод</label>\r\n                        </div>\r\n\r\n                        <div className=\"checkbox-block\">\r\n                            <input type=\"checkbox\" name=\"search-options__work-type-remote\" id=\"search-options__work-type-remote\" value=\"remote\" onClick={this.workTypeChange.bind(this)}/>\r\n                            <label htmlFor=\"search-options__work-type-remote\" >удаленная работа</label>\r\n                        </div>\r\n                    </div>\r\n                    <h3>Отрасли</h3>\r\n                        <div className=\"selectbox-block\">\r\n                            <select id=\"searchSideIndustry\" name=\"searchSideIndustry\" onChange={this.changeIndustry.bind(this)}>\r\n                                {industriesData.map((item)=>{\r\n                                    return <option key={item.id} value={item.name}>{item.name}</option>\r\n                                })}\r\n                            </select>\r\n                            \r\n                        </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = (state, ownProps) =>{\r\n    return {\r\n        history:ownProps.history,\r\n        searchOptions:state.search.searchOptions,\r\n\r\n        // searchLoading:state.search.searchLoading,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) =>{\r\n    return{\r\n        onNullifyValues: () => {\r\n            dispatch({type : 'SEARCH_NULLIFY_VALUES', payload:null})\r\n        },\r\n        onSetSearchOptions: (options) => {\r\n            dispatch({type : 'SEARCH_SET_OPTIONS', payload:options})\r\n        },\r\n        onGetSearchResponse:(options, searchType, getAvatarFromFirebase)=>{\r\n            dispatch(searchLoaderActivate())\r\n            const next = dispatch(getSearchNext())\r\n            dispatch(getSearchQueries(options, searchType, next))\r\n            .then((data)=>{\r\n                if (data.data !== null && data.data !== 404){\r\n                    dispatch({type : 'SEARCH_UPDATE_RESULTS_COUNT', payload:data.data.count})\r\n                    dispatch({type : 'SEARCH_UPDATE_VALUES', payload:data.data.results}) \r\n                    data.data.results.map((item) => {\r\n                        if (item.photo_url === \"\") getAvatarFromFirebase(item.owner_id, item.pk)\r\n                    })\r\n                }\r\n            })\r\n            .then(response => dispatch(searchLoaderDeactivate()))\r\n        },\r\n        onSetValuePhoto: (photo, id) => {\r\n            console.log('photo')\r\n            dispatch({type : 'SEARCH_UPDATE_VALUES_PHOTO', payload:{photo:photo, id:id}})\r\n        },\r\n        onAddGrade: (value) => {\r\n            dispatch({type : 'SEARCH_OPTIONS_ADD_GRADE', payload:value})\r\n        },\r\n        onDeleteGrade: (value) => {\r\n            dispatch({type : 'SEARCH_OPTIONS_DELETE_GRADE', payload:value})\r\n        },\r\n        onAddWorkType: (value) => {\r\n            dispatch({type : 'SEARCH_OPTIONS_ADD_WORK_TYPE', payload:value})\r\n        },\r\n        onDeleteWorkType: (value) => {\r\n            dispatch({type : 'SEARCH_OPTIONS_DELETE_WORK_TYPE', payload:value})\r\n        },\r\n        onChangeIndustry: (value) => {\r\n            dispatch({type : 'SEARCH_OPTIONS_CHANGE_INDUSTRY', payload:value})\r\n        },\r\n        onSearchLoaderActivate: () => {\r\n            dispatch(searchLoaderActivate())\r\n        },\r\n    }\r\n  }\r\n  \r\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchSide);","import e from 'cors'\r\nimport React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {getSearchQueries, addFavourite, deleteFavourite} from '../../../actions/serverConnections'\r\nimport {searchLoaderDeactivate, searchLoaderActivate} from '../../../actions/asyncDispatch'\r\n\r\nimport ResponsePopup from '../../ResponsePopup/ResponsePopup'\r\nimport placeholderAvatar from '../../../img/placeholder-avatar.jpg'\r\nimport fileUploader from '../../../actions/fileUploader';\r\nimport {getGradeValues, getWorkTypeValues, parseOptions, searchTypeToUserType} from '../../../scripts/commonScripts'\r\nimport { InView } from \"react-intersection-observer\";\r\nimport { Link } from 'react-router-dom'\r\nimport Loader from '../../Loader/Loader'\r\n\r\n\r\nclass SearchMain extends Component {\r\n    sortByValue(arr, value, sortMethod){\r\n        sortMethod === 'asc' ? (\r\n            arr.sort((a, b) => a[value] - b[value])\r\n        ) : (\r\n            arr.sort((a, b) => b[value] - a[value])\r\n        )\r\n    }\r\n\r\n    sortSearch = (e) => {\r\n        const sortProp = e.target.value\r\n        let values = this.props.searchValues\r\n\r\n        switch (sortProp) {\r\n            case 'salaryAsc':\r\n                this.sortByValue(values, 'salary', 'asc')\r\n                break;\r\n\r\n            case 'salaryDesc':\r\n                this.sortByValue(values, 'salary', 'desc')\r\n                break;\r\n\r\n            case 'dateAsc':\r\n                this.sortByValue(values, 'pub-date', 'asc')\r\n                break;\r\n\r\n            case 'dateDesc':\r\n                this.sortByValue(values, 'pub-date', 'desc')\r\n                break;\r\n        }\r\n        this.props.onSortValues(values)\r\n    }\r\n\r\n    searchBtnClick = (e) =>{\r\n        e.preventDefault()\r\n        this.props.onChangeSearchQuery(e.target.queryInput.value)\r\n        this.getSearchValues(true)\r\n    }\r\n\r\n    getSearchValues = (nullify) => {\r\n        if (nullify) this.props.onNullifyValues()\r\n        if (this.props.searchState.searchLoading === false){\r\n            this.props.onSearchLoaderActivate()\r\n            \r\n            this.props.onGetSearchResponse(parseOptions(this.props.searchOptions), this.props.searchOptions.searchType, this.props.searchState.next, this.getAvatarFromFirebase)\r\n            \r\n        }\r\n    }\r\n\r\n    addToFavourites = (index) => {\r\n        this.props.onAddToFavourites(index, this.props.searchOptions.searchType)\r\n    }\r\n\r\n    deleteFromFavourites = (index) => {\r\n        this.props.onDeleteFromFavourites(index, this.props.searchOptions.searchType)\r\n    }\r\n    \r\n    openResponsePopup = (index) => {\r\n        this.props.onOpenResponsePopup(index)\r\n    }\r\n\r\n    getAvatarFromFirebase = (id, pk) =>{   //пришлось делать кучу изменений состояний, потому что один flutter разработчик решил, что он не будет сохранять url. \r\n        const storageRef = fileUploader.storage().ref()\r\n        const fileRef = storageRef.child('user-avatar' + id)\r\n        fileRef.getDownloadURL()\r\n        .then((response) => this.props.onSetValuePhoto(response, pk))\r\n        .catch(err => this.props.onSetValuePhoto('https://firebasestorage.googleapis.com/v0/b/diploma-55e3f.appspot.com/o/placeholder-avatar.jpg?alt=media&token=5058f243-49e5-4df4-8686-899c6ce12c54', pk))\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <section className=\"search-main\">\r\n                <div className=\"search-main__controls\">\r\n                    <form className=\"search-main__controls-form rounded\" > \r\n                    {/* onSubmit={this.searchBtnClick.bind(this)} */}\r\n                        {/* <div className=\"search-input rounded\">\r\n                            <input type=\"text\" id=\"queryInput\" name=\"queryInput\" placeholder=\"Поиск...\" />\r\n                            <button type=\"submit\" className=\"sup-btn\">Найти</button>\r\n                        </div> */}\r\n\r\n                        <select className=\"search-main__controls__sort-type-select\" name=\"salarySortType\" id=\"\" onChange={this.sortSearch.bind(this)}>\r\n                            <option value=\"salaryAsc\">по возрастанию зарплаты</option>\r\n                            <option value=\"salaryDesc\">по убыванию зарплаты</option>\r\n                        </select>\r\n\r\n                        <select className=\"search-main__controls__sort-type-select\" name=\"dateSortType\" id=\"\" onChange={this.sortSearch.bind(this)}>\r\n                            <option value=\"dateAsc\">начиная с новых</option>\r\n                            <option value=\"dateDesc\">начиная со старых</option>\r\n                        </select>\r\n                        {/* <div className=\"search-main__controls__check-container check-container\">\r\n                            <input type=\"checkbox\" className=\"search-main__controls__sort-type-check\" name=\"strictCheckBox\" id=\"strictCheckBox\"/>\r\n                            <label htmlFor=\"strictCheckBox\">Строгий поиск</label>\r\n                        </div> */}\r\n                        \r\n                    </form>\r\n                </div>\r\n                <ul className=\"search-main__search-items-list\">\r\n                    {this.props.searchState.searchLoading === false ? this.props.searchValues.map((item, index) => {\r\n                        return(\r\n                            <li key={index} className=\"resume resumes-list-el rounded\">\r\n                                <section className=\"resume-main\">\r\n                                    <div className={\"resume__header white top-rounded \" + item.bg_header_color }>\r\n                                        <div className=\"resume__header-top\">\r\n                                            <h2 className=\"resume__header__name bold f-large\">{item.vacancy_name}</h2>\r\n                                            {item.salary === -1 ? <span className=\"resume__header__salary bold f-medium\">Зарплата не указана</span>:\r\n                                            <span className=\"resume__header__salary bold f-medium\">{item.salary} руб.</span>}\r\n                                        </div>\r\n                                        <div className=\"resume__header-bottom\">\r\n                                            <p className=\"resume__header__grade\">{getGradeValues(item.grade)}</p>\r\n                                            <p className=\"resume__publication-date sup\">{item.pub_date.slice(0, 10)}</p>\r\n                                        </div>\r\n                                        \r\n                                    </div>\r\n            \r\n                                    <div className=\"resume__main-info bottom-rounded flex\">\r\n                                        <div className=\"resume__main-info__text\">\r\n                                            <p className=\"resume__industry f-pre\">{item.industry}</p>\r\n            \r\n                                            <p className=\"resume__work-type\">{item.work_type.map((item)=>getWorkTypeValues(item)).join(', ')}</p>\r\n\r\n                                            <p className=\"resume__about\">{item.about || item.leading}</p>\r\n                                        </div>\r\n                                        \r\n            \r\n                                        {/* <ul className=\"resume__tags-list\">\r\n                                            {item.tags.map((tag, index)=><li key={index} className=\"resume__tags-list-el\">{tag}</li>)}\r\n                                        </ul> */}\r\n                                        <Link className=\"resume__main-info__avatar-name-block\" to={\"/\"+searchTypeToUserType(this.props.searchOptions.searchType)+\"/\" + item.owner_id}>\r\n                                            <img className=\"avatar-name-block__small-avatar\" src={item.photo_url} alt=\"аватар\"/>\r\n                                            <p>{item.owner}</p>\r\n                                        </Link>\r\n                                    </div>\r\n                                    {this.props.searchOptions.searchType === 'vacancy' && this.props.userState.user_type === 'employee' ?\r\n                                        <div className=\"vacancy-control-block\">\r\n                                            <div className=\"vacancy-control-block__response-block\">\r\n                                                {\r\n                                                    item.got_responsed === true ? <p className=\"green\">Вы уже откликнулись!</p>\r\n                                                    :<p className=\"underline-link\" onClick={this.openResponsePopup.bind(this, index)}>Откликнуться</p>\r\n                                                }\r\n                                                \r\n                                                {this.props.searchState.openedResponseId === index ? <ResponsePopup item={item} onClick={this.openResponsePopup}></ResponsePopup> : ''}\r\n                                            </div>\r\n                                            {\r\n                                                item.favorite === true ? <p className=\"green underline-link\" onClick={this.deleteFromFavourites.bind(this, item.pk)}>Добавлено в избранное!</p>\r\n                                                : <p className=\"underline-link\" onClick={this.addToFavourites.bind(this, item.pk)}>Добавить в избранное</p>\r\n                                            }\r\n                                        </div>\r\n                                    : this.props.searchOptions.searchType === 'cv' && this.props.userState.user_type === 'employer' ?\r\n                                        <div className=\"vacancy-control-block\">\r\n                                            <div className=\"vacancy-control-block__response-block\">\r\n                                                {\r\n                                                    item.got_responsed === true ? <p className=\"green underline-link\" onClick={this.deleteFromFavourites.bind(this, item.pk)}>Вы уже пригласили!</p>\r\n                                                    :<p className=\"underline-link\" onClick={this.openResponsePopup.bind(this, index)}>Откликнуться</p>\r\n                                                }\r\n                                                {this.props.searchState.openedResponseId === index ? <ResponsePopup item={item} onClick={this.openResponsePopup}></ResponsePopup> : ''}\r\n                                            </div>\r\n                                            {\r\n                                                item.favorite === true ? <p className=\"green\">Добавлено в избранное!</p>\r\n                                                : <p className=\"underline-link\" onClick={this.addToFavourites.bind(this, item.pk)}>Добавить в избранное</p>\r\n                                            }\r\n                                        </div>\r\n                                    : ''\r\n                                    }\r\n                                </section>\r\n                            </li>\r\n                        )\r\n                    }):''}\r\n                    <Loader active={this.props.searchLoading}></Loader>\r\n                </ul>\r\n                <InView as=\"div\" onChange={(inView, entry) => {\r\n                    if (inView) this.getSearchValues(false, true)}}>\r\n                </InView>\r\n\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) =>{\r\n    return {\r\n        searchState:state.search,\r\n        searchOptions:state.search.searchOptions,\r\n        searchValues:state.search.searchValues,\r\n        userState:state.user.user,\r\n        searchLoading:state.search.searchLoading\r\n    }\r\n  }\r\n  \r\nconst mapDispatchToProps = (dispatch) =>{\r\n    return{\r\n        onNullifyValues: () => {\r\n            dispatch({type : 'SEARCH_NULLIFY_VALUES', payload:null})\r\n        },\r\n        onUpdateValues: (values) => {\r\n            dispatch({type : 'SEARCH_UPDATE_VALUES', payload:values})\r\n        },\r\n        onSortValues: (values) => {\r\n            dispatch({type : 'SEARCH_SORT_VALUES', payload:values})\r\n        },\r\n        onChangeSearchQuery: (query) => {\r\n            dispatch({type : 'CHANGE_SEARCH_QUERY', payload:query})\r\n        },\r\n        onOpenResponsePopup: (index) => {\r\n            dispatch({type : 'OPEN_RESPONSE_POPUP', payload:index})\r\n        },\r\n        onAddToFavourites:(pk, type) => {\r\n            dispatch(addFavourite(type, pk))\r\n            dispatch({type : 'ADD_TO_FAVOURITES', payload:pk})\r\n        },\r\n        onDeleteFromFavourites:(pk, type) => {\r\n            dispatch(deleteFavourite(type, pk))\r\n            dispatch({type : 'DELETE_FROM_FAVOURITES', payload:pk})\r\n        },\r\n        onSearchLoaderActivate: () => {\r\n            dispatch(searchLoaderActivate())\r\n        },\r\n        onGetSearchResponse:(options, searchType, next, getAvatarFromFirebase)=>{\r\n            dispatch(searchLoaderActivate())\r\n            dispatch(getSearchQueries(options, searchType, next))\r\n            .then((data)=>{\r\n                if (data.data !== null && data.data !== 404){\r\n                    dispatch({type : 'SEARCH_UPDATE_OPTIONS', payload:data.data.next})\r\n                    dispatch({type : 'SEARCH_UPDATE_RESULTS_COUNT', payload:data.data.count})\r\n                    dispatch({type : 'SEARCH_UPDATE_VALUES', payload:data.data.results}) \r\n                    data.data.results.map((item) => {\r\n                        if (item.photo_url === \"\") getAvatarFromFirebase(item.owner_id, item.pk)\r\n                    })\r\n                }\r\n            })\r\n            .then(response => dispatch(searchLoaderDeactivate()))\r\n            \r\n        },\r\n        onSetValuePhoto: (photo, id) => {\r\n            console.log('photo')\r\n            dispatch({type : 'SEARCH_UPDATE_VALUES_PHOTO', payload:{photo:photo, id:id}})\r\n        },\r\n    }\r\n}\r\n  \r\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchMain);","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport SearchSide from './SearchSide/SearchSide.js'\r\nimport SearchMain from './SearchMain/SearchMain.js'\r\n\r\n\r\nimport './search.css'\r\n\r\nimport {getSearchQueries} from '../../actions/serverConnections'\r\n\r\n\r\nclass Search extends Component {\r\n    parseOptions(options){\r\n        return Object\r\n        .keys(options)\r\n        .map(k => (options[k] !== null && k !== 'searchType') ? encodeURIComponent(k) + '=' + encodeURIComponent(options[k]) + '&': null)\r\n        .join('')\r\n    }\r\n\r\n    checkSearchType = () => {\r\n        if (this.props.searchOptions.searchType === 'vacancy'){\r\n            return 'вакансий'\r\n        }\r\n        if (this.props.searchOptions.searchType === 'cv'){\r\n            return 'резюме'\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                {this.props.searchState.searchLoading === false ?\r\n                    <h2 className=\"search-query-header\">По запросу \"{this.props.searchOptions.phrase}\" найдено {this.props.searchState.searchCount} {this.checkSearchType()}</h2>\r\n                :\r\n                    <h2 className=\"search-query-header\">Идет загрузка...</h2>}\r\n\r\n                <div className=\"search-page\">\r\n                    <SearchSide></SearchSide>\r\n                    <SearchMain></SearchMain>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        searchOptions:state.search.searchOptions,\r\n        searchState:state.search,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) =>{\r\n    return{\r\n \r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Search)"],"sourceRoot":""}